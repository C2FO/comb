<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test Coverage</title>
<style type="text/css">

body {
    margin: 10px;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    font-size: 14px;
    line-height: 20px;
    color: #333333;
    background-color: #ffffff;
}

ol {
    padding: 0px;
}

pre.prettyprint {
    margin-bottom: 20px;
}

pre {
    display: block;
    padding: 9.5px;
    margin: 0 0 10px;
    font-size: 13px;
    line-height: 10px;
    word-break: break-all;
    word-wrap: break-word;
    white-space: pre;
    white-space: pre-wrap;
    background-color: whiteSmoke;
    border: 1px solid #CCC;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
}

code, pre {
    padding: 0 3px 2px;
    font-family: Monaco, Menlo, Consolas, "Courier New", monospace;
    font-size: 12px;
    color: #333;
    -webkit-border-radius: 3px;
    -moz-border-radius: 3px;
    border-radius: 3px;
}

.prettyprint {
    padding: 8px;
    background-color: #f7f7f9;
    border: 1px solid #e1e1e8
}

.prettyprint.linenums {
    -webkit-box-shadow: inset 40px 0 0 #fbfbfc, inset 81px 0 0 #ececf0;
    -moz-box-shadow: inset 40px 0 0 #fbfbfc, inset 81px 0 0 #ececf0;
    box-shadow: inset 40px 0 0 #fbfbfc, inset 81px 0 0 #ececf0
}

ol.linenums {
    margin: 0 0 0 40px
}

ol.linenums li {
    padding-bottom: 2px;
    padding-top: 2px;
    vertical-align: middle;
    color: #bebec5;
    line-height: 0px;
    text-shadow: 0 1px 0 #fff
}

ol.linenums li span {
    padding-right: 40px !important;
    width: 30px;
    display: inline-block;
    text-align: right;
}

pre code {
    padding: 0;
    color: inherit;
    background-color: transparent;
    border: 0;
}

ol li.red {
    background-color: lightCoral;
    color: black;
    text-shadow: none;
    line-height: 5px;
}

.prettyprint li span.hits {
    padding: 5px 0 5px;
    color: #26ca4f;
}

.prettyprint li span.nohits {
    padding: 5px 0 5px;
}

h2 {
    font-size: 30px;
    line-height: 40px;
}

h1, h2, h3, h4, h5, h6 {
    margin: 10px 0;
    font-family: inherit;
    font-weight: bold;
    line-height: 1;
    color: inherit;
    text-rendering: optimizelegibility;
}

hr {
    margin: 20px 0;
    border: 0;
    border-top: 1px solid #EEE;
    border-bottom: 1px solid white;
}

.table-bordered {
    border: 1px solid #DDD;
    border-collapse: separate;
    border-left: 0;
    -webkit-border-radius: 4px;
    -moz-border-radius: 4px;
    border-radius: 4px;
}

.table {
    width: 325px;
    margin-bottom: 20px;
}

table {
    max-width: 100%;
    background-color: transparent;
    border-collapse: collapse;
    border-spacing: 0;
}

.table-striped tbody tr:nth-child(odd) td, .table-striped tbody tr:nth-child(odd) th {
    background-color: #F9F9F9;
}

.table-bordered th, .table-bordered td {
    border-left: 1px solid #DDD;
}

.table th, .table td {
    padding: 8px;
    line-height: 20px;
    text-align: left;
    vertical-align: top;
    border-top: 1px solid #DDD;
}

span.cov-label {
    font-weight: bold;
    width: 70px;
    display: inline-block;
    color: teal;
}

span.cov-value {
    width: 50px;
    display: inline-block;
    text-align: right;
    color: gray;
}

.cov-section-header {
    font-size: 16pt;
    font-weight: bold;
    color: darkOrange;
    padding: 10px;
}

.inline {
    display: inline-block;
    vertical-align: middle;
}

.cov-section {
    margin-right: auto;
    margin-left: auto;
    margin-bottom: 10px;
    padding: 10px;
    width: 80%;
}

.cov-section .source{
    display: none;
}

.cov-section-all .cov-section-header{
    color: #adff2f;
}

.cov-section-high .cov-section-header{
    color: #008080;
}

.cov-section-med .cov-section-header{
     color : #FFCC66;
}

.cov-section-low .cov-section-header{
    color: lightCoral;

}

.cov-section-hover {
    background-color: whiteSmoke;
    cursor: pointer;
    -webkit-border-radius: 10px;
    -moz-border-radius: 10px;
    border-radius: 10px;
}

.cov-section-hover:hover {
    -moz-box-shadow: 0px 0px 12px #707070;
    -webkit-box-shadow: 0px 0px 12px #707070;
    box-shadow: 0px 0px 12px #707070;

}

.section-table {
    width: 100%;
}

td.cov-stats {
    text-align: right;
}

.overview{
    color : #797979;
    font-size: 18pt;
}
</style>
</head>
<body>
<div class="cov-section">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header overview'>Overview</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>98.63</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>12999</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>3567</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>49</span>
                </div>
            </td>
        </tr>
    </table>
    <hr class="section">
</div>

<div class="cov-section cov-section-hover cov-section-med" id="logging/appenders/rollingFileAppender.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>logging/appenders/rollingFileAppender.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>90.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>229</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>90</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>9</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="logging/appenders/rollingFileAppender.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../../define.js").define,</code></li>
<li class='green'><span class=''> </span><code>    promise = require("../../promise"),</code></li>
<li class='green'><span class=''> </span><code>    Promise = promise.Promise,</code></li>
<li class='green'><span class=''> </span><code>    PromiseList = promise.PromiseList,</code></li>
<li class='green'><span class=''> </span><code>    base = require("../../base"),</code></li>
<li class='green'><span class=''> </span><code>    hitch = base.hitch,</code></li>
<li class='green'><span class=''> </span><code>    string = base.string,</code></li>
<li class='green'><span class=''> </span><code>    escape = base.regexp.escapeString,</code></li>
<li class='green'><span class=''> </span><code>    style = string.style,</code></li>
<li class='green'><span class=''> </span><code>    format = string.format,</code></li>
<li class='green'><span class=''> </span><code>    FileAppender = require("./fileAppender"),</code></li>
<li class='green'><span class=''> </span><code>    Level = require("../level"),</code></li>
<li class='green'><span class=''> </span><code>    fs = require("fs"),</code></li>
<li class='green'><span class=''> </span><code>    path = require("path");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var conversion = {</code></li>
<li class='green'><span class=''> </span><code>    MB: 1048576,</code></li>
<li class='green'><span class=''> </span><code>    KB: 1024,</code></li>
<li class='green'><span class=''> </span><code>    GB: 1073741824</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class='hits'>1</span><code>var DEFAULT_SIZE = "10MB";</code></li>
<li class='green'><span class='hits'>1</span><code>var convertToBytes = function (str) {</code></li>
<li class='green'><span class='hits'>3</span><code>    var ret = DEFAULT_SIZE;</code></li>
<li class='green'><span class='hits'>3</span><code>    var match = str.match(/(\d+)(MB|KB|GB)$/);</code></li>
<li class='green'><span class='hits'>3</span><code>    if (match &amp;&amp; match.length == 3) {</code></li>
<li class='green'><span class='hits'>3</span><code>        var size = parseInt(match[1], 10);</code></li>
<li class='green'><span class='hits'>3</span><code>        ret = size * conversion[match[2]];</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>3</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class Appends messages to a file. Rolls files over when a size limit has been reached. Once the max file size has</code></li>
<li class='green'><span class=''> </span><code> * been reached it is rolled over to a file called &amp;lt;logName&amp;gt;.log.n where n is a number.</code></li>
<li class='green'><span class=''> </span><code> * &lt;/br&gt;&lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;p&gt;Example. RollingFileAppender is current writing to myLog.log, the log reaches is max size to it is</code></li>
<li class='green'><span class=''> </span><code> * renamed to myLog.log.1 and a new myLog.log is created.&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code> * If maxBackupIndex is reached then the log at that index is deleted. If maxBackupIndex is set to 0 then no log is</code></li>
<li class='green'><span class=''> </span><code> * rolled over.&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @name RollingFileAppender</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.logging.appenders.FileAppender</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.logging.appenders</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [options] options to assign to this Appender</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.name="appender"] the name of this Appender. If you want two of the same type of appender</code></li>
<li class='green'><span class=''> </span><code> *                                           on a logger it must have a different name.</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.pattern="[{[yyyy-MM-ddTHH:mm:ss:SSS (z)]timeStamp}] {[- 5]levelName} {[-20]name} - {message}"]</code></li>
<li class='green'><span class=''> </span><code> *  &lt;p&gt;Available Options for formatting see {@link comb.string.format} for formatting options&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *  &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;timeStamp - the timestamp of the event being logged&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;level - the {@link comb.logging.Level} of the event&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;levelName - the name of the level being logged&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;name - the name of the logger logging the event&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;message - the message being logged&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code> * @param {comb.logging.Level|String} [options.level=comb.logging.Level.INFO] the logging level of this appender</code></li>
<li class='green'><span class=''> </span><code> *      &lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; the level can be different from the logger in the case that you want a particular logger</code></li>
<li class='green'><span class=''> </span><code> *      to only log particular event of a level. For example an appender that only logs errors. BEWARE that if the</code></li>
<li class='green'><span class=''> </span><code> *      appenders level is lower than the logger is will not recieve any messages.&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.file="./log.log"] the file to log events to.</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.encoding="utf8"] the encoding of the file.</code></li>
<li class='green'><span class=''> </span><code> * @param {Boolean} [options.overwrite=false] if true the log file is overwritten otherwise it is appended to.</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.maxSize="10MB"] the maxSize of a file. Valid options include "KB", "MB", or "GB"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * &lt;pre class="code"&gt;</code></li>
<li class='green'><span class=''> </span><code> *     maxSize = "100MB"</code></li>
<li class='green'><span class=''> </span><code> *     //or</code></li>
<li class='green'><span class=''> </span><code> *     maxSize = "100KB"</code></li>
<li class='green'><span class=''> </span><code> *     //or</code></li>
<li class='green'><span class=''> </span><code> *     maxSize = "1GB"</code></li>
<li class='green'><span class=''> </span><code> * &lt;/pre&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} [options.maxBackupIndex=10] the maximum number of files to rollOver.</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>FileAppender.extend({</code></li>
<li class='green'><span class=''> </span><code>    instance: {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __watching: false,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor: function (options) {</code></li>
<li class='green'><span class='hits'>3</span><code>            options = options || {};</code></li>
<li class='green'><span class='hits'>3</span><code>            this.maxSize = options.maxSize || DEFAULT_SIZE;</code></li>
<li class='green'><span class='hits'>3</span><code>            !options.name &amp;&amp; (options.name = "rollingFileAppender");</code></li>
<li class='green'><span class='hits'>3</span><code>            this.maxBackupIndex = options.maxBackupIndex || 10;</code></li>
<li class='green'><span class='hits'>3</span><code>            this.__queue = [];</code></li>
<li class='green'><span class='hits'>3</span><code>            this.__inRollover = false;</code></li>
<li class='green'><span class='hits'>3</span><code>            this._super([options]);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __startCheck: function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            if (!this.__watching) {</code></li>
<li class='green'><span class='hits'>1</span><code>                this.__watching = true;</code></li>
<li class='green'><span class='hits'>1</span><code>                fs.watchFile(this.__file, hitch(this, "__checkFile"));</code></li>
<li class='green'><span class='hits'>1</span><code>                fs.stat(this.__file, hitch(this, function (err, stat) {</code></li>
<li class='green'><span class='hits'>1</span><code>                    this.__checkFile(stat);</code></li>
<li class='green'><span class=''> </span><code>                }));</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __checkFile: function (stats) {</code></li>
<li class='green'><span class='hits'>5</span><code>            var ret = new Promise(), self = this;</code></li>
<li class='green'><span class='hits'>5</span><code>            if (!this.__inRollover) {</code></li>
<li class='green'><span class='hits'>3</span><code>                if (stats.size &gt;= this.maxSize) {</code></li>
<li class='green'><span class='hits'>2</span><code>                    if (this.maxBackupIndex &gt; 0) {</code></li>
<li class='green'><span class='hits'>1</span><code>                        this.__inRollover = true;</code></li>
<li class='green'><span class='hits'>1</span><code>                        this.__onExit()</code></li>
<li class='green'><span class=''> </span><code>                            .chain(function () {</code></li>
<li class='green'><span class='hits'>1</span><code>                                return self.__rollover();</code></li>
<li class='green'><span class=''> </span><code>                            })</code></li>
<li class='green'><span class=''> </span><code>                            .chain(function () {</code></li>
<li class='green'><span class='hits'>1</span><code>                                var ws = fs.createWriteStream(self.__file, {flags: "w", encoding: self.__encoding});</code></li>
<li class='green'><span class='hits'>1</span><code>                                ws.on("open", function () {</code></li>
<li class='green'><span class='hits'>1</span><code>                                    self.__writeStream = ws;</code></li>
<li class='green'><span class='hits'>1</span><code>                                    self.__inRollover = false;</code></li>
<li class='green'><span class='hits'>1</span><code>                                    self.__checkQueue();</code></li>
<li class='green'><span class='hits'>1</span><code>                                    ret.callback();</code></li>
<li class='green'><span class=''> </span><code>                                });</code></li>
<li class='green'><span class=''> </span><code>                            }, function (err) {</code></li>
<li class='red'><span class='nohits'>0</span><code>                                process.stderr.write("comb.logging.appenders.RollingFileAppender : error rolling over files resuming writing");</code></li>
<li class='red'><span class='nohits'>0</span><code>                                process.stderr.write(err.stack);</code></li>
<li class='red'><span class='nohits'>0</span><code>                                var ws = fs.createWriteStream(self.__file, {flags: "w", encoding: self.__encoding});</code></li>
<li class='red'><span class='nohits'>0</span><code>                                ws.on("open", function () {</code></li>
<li class='red'><span class='nohits'>0</span><code>                                    self.__writeStream = ws;</code></li>
<li class='red'><span class='nohits'>0</span><code>                                    self.__inRollover = false;</code></li>
<li class='red'><span class='nohits'>0</span><code>                                    self.__checkQueue();</code></li>
<li class='red'><span class='nohits'>0</span><code>                                    ret.callback();</code></li>
<li class='green'><span class=''> </span><code>                                });</code></li>
<li class='green'><span class=''> </span><code>                            });</code></li>
<li class='green'><span class=''> </span><code>                    } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                        this.__writeStream = fs.createWriteStream(this.__file, {flags: "w", encoding: this.__encoding});</code></li>
<li class='green'><span class='hits'>1</span><code>                        ret.callback();</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                    ret.callback();</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>2</span><code>                ret.callback();</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>5</span><code>            return ret.promise();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        append: function (event) {</code></li>
<li class='green'><span class='hits'>12</span><code>            if (this._canAppend(event)) {</code></li>
<li class='green'><span class='hits'>12</span><code>                !this.__watching &amp;&amp; this.__startCheck();</code></li>
<li class='green'><span class='hits'>12</span><code>                var ws = this.__writeStream;</code></li>
<li class='green'><span class='hits'>12</span><code>                if (!this.__inRollover &amp;&amp; ws &amp;&amp; ws.writable) {</code></li>
<li class='green'><span class='hits'>9</span><code>                    this._super(arguments);</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>3</span><code>                    this.__queue.push(event);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __checkQueue: function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            this.__queue.forEach(this.append, this);</code></li>
<li class='green'><span class='hits'>1</span><code>            this.__queue.length = 0;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __rollover: function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            var ret = new Promise(), file = this.__file, self = this;</code></li>
<li class='green'><span class='hits'>1</span><code>            var dir = path.dirname(file), baseName = new RegExp("(" + escape(path.basename(path.basename(file))) + ")(?:\\.(\\d*))*");</code></li>
<li class='green'><span class='hits'>1</span><code>            fs.readdir(dir, function (err, files) {</code></li>
<li class='green'><span class='hits'>1</span><code>                if (err) {</code></li>
<li class='red'><span class='nohits'>0</span><code>                    ret.errback(err);</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                    files = files.filter(</code></li>
<li class='green'><span class=''> </span><code>                        function (f) {</code></li>
<li class='green'><span class='hits'>5</span><code>                            var match = f.match(baseName);</code></li>
<li class='green'><span class='hits'>5</span><code>                            if (match) {</code></li>
<li class='green'><span class='hits'>4</span><code>                                return true;</code></li>
<li class='green'><span class=''> </span><code>                            } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                                return false;</code></li>
<li class='green'><span class=''> </span><code>                            }</code></li>
<li class='green'><span class=''> </span><code>                        });</code></li>
<li class='green'><span class='hits'>1</span><code>                    files = files.sort(function (a, b) {</code></li>
<li class='green'><span class='hits'>6</span><code>                        var ret = 0;</code></li>
<li class='green'><span class='hits'>6</span><code>                        if (a &gt; b) {</code></li>
<li class='green'><span class='hits'>3</span><code>                            ret = 0;</code></li>
<li class='green'><span class='hits'>3</span><code>                        } else if (a &lt; b) {</code></li>
<li class='green'><span class='hits'>3</span><code>                            ret = 1;</code></li>
<li class='green'><span class=''> </span><code>                        }</code></li>
<li class='green'><span class='hits'>6</span><code>                        return ret;</code></li>
<li class='green'><span class=''> </span><code>                    });</code></li>
<li class='green'><span class='hits'>1</span><code>                    var count = files.length, i = 0;</code></li>
<li class='green'><span class='hits'>1</span><code>                    var checkFile = function () {</code></li>
<li class='green'><span class='hits'>5</span><code>                        if (count &gt; 0) {</code></li>
<li class='green'><span class='hits'>4</span><code>                            var f = dir + "/" + files[i++];</code></li>
<li class='green'><span class='hits'>4</span><code>                            if (count &gt; self.maxBackupIndex) {</code></li>
<li class='green'><span class=''> </span><code>                                //drop the file;</code></li>
<li class='green'><span class='hits'>1</span><code>                                count--;</code></li>
<li class='green'><span class='hits'>1</span><code>                                fs.unlink(f, function (err) {</code></li>
<li class='green'><span class='hits'>1</span><code>                                    err ? ret.errback(err) : checkFile();</code></li>
<li class='green'><span class=''> </span><code>                                });</code></li>
<li class='green'><span class=''> </span><code>                            } else {</code></li>
<li class='green'><span class=''> </span><code>                                //rename the file</code></li>
<li class='green'><span class='hits'>3</span><code>                                var rn = self.__file + "." + count--;</code></li>
<li class='green'><span class='hits'>3</span><code>                                fs.rename(f, rn, function (err) {</code></li>
<li class='green'><span class='hits'>3</span><code>                                    err ? ret.errback(err) : checkFile();</code></li>
<li class='green'><span class=''> </span><code>                                });</code></li>
<li class='green'><span class=''> </span><code>                            }</code></li>
<li class='green'><span class=''> </span><code>                        } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                            ret.callback();</code></li>
<li class='green'><span class=''> </span><code>                        }</code></li>
<li class='green'><span class=''> </span><code>                    };</code></li>
<li class='green'><span class='hits'>1</span><code>                    checkFile();</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>1</span><code>            return ret.promise();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getters: {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            maxSize: function () {</code></li>
<li class='green'><span class='hits'>3</span><code>                return this.__maxSize;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        setters: {</code></li>
<li class='green'><span class=''> </span><code>            maxSize: function (size) {</code></li>
<li class='green'><span class='hits'>3</span><code>                this.__maxSize = size ? convertToBytes(size) : DEFAULT_SIZE;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}).registerType("RollingFileAppender").as(module);</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="base/functions.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>base/functions.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>90.91</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>374</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>132</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>12</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="base/functions.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var string = require("./string"),</code></li>
<li class='green'><span class=''> </span><code>    object = require("./object"),</code></li>
<li class='green'><span class=''> </span><code>    isArray = Array.isArray,</code></li>
<li class='green'><span class=''> </span><code>    isObject = object.isObject,</code></li>
<li class='green'><span class=''> </span><code>    isString = string.isString;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determines if something is a function</code></li>
<li class='green'><span class=''> </span><code> * @param {Anything} obj the thing to test if it is a function</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Boolean} true if the obj is a function false otherwise</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isFunction(obj) {</code></li>
<li class='green'><span class='hits'>18863</span><code>    return typeof obj === "function";</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function spreadArgs(f, args, scope) {</code></li>
<li class='green'><span class='hits'>18114</span><code>    var ret;</code></li>
<li class='green'><span class='hits'>18114</span><code>    switch ((args || []).length) {</code></li>
<li class='green'><span class=''> </span><code>    case 0:</code></li>
<li class='green'><span class='hits'>4985</span><code>        ret = f.call(scope);</code></li>
<li class='green'><span class='hits'>4980</span><code>        break;</code></li>
<li class='green'><span class=''> </span><code>    case 1:</code></li>
<li class='green'><span class='hits'>7360</span><code>        ret = f.call(scope, args[0]);</code></li>
<li class='green'><span class='hits'>7348</span><code>        break;</code></li>
<li class='green'><span class=''> </span><code>    case 2:</code></li>
<li class='green'><span class='hits'>3032</span><code>        ret = f.call(scope, args[0], args[1]);</code></li>
<li class='green'><span class='hits'>3031</span><code>        break;</code></li>
<li class='green'><span class=''> </span><code>    case 3:</code></li>
<li class='green'><span class='hits'>2725</span><code>        ret = f.call(scope, args[0], args[1], args[2]);</code></li>
<li class='green'><span class='hits'>2725</span><code>        break;</code></li>
<li class='green'><span class=''> </span><code>    default:</code></li>
<li class='green'><span class='hits'>12</span><code>        ret = f.apply(scope, args);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>18096</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Binds a method to a particular scope</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} scope the scope to bind the callback to</code></li>
<li class='green'><span class=''> </span><code> * @param {String|Function} method the method to callback</code></li>
<li class='green'><span class=''> </span><code> * @param [args] optional args to pass to the callback</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Function} the hitched function</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function hitch(scope, method, args) {</code></li>
<li class='green'><span class='hits'>5235</span><code>    args = Array.prototype.slice.call(arguments).slice(2);</code></li>
<li class='green'><span class='hits'>5235</span><code>    if ((isString(method) &amp;&amp; !(method in scope))) {</code></li>
<li class='green'><span class='hits'>2</span><code>        throw new Error(method + " property not defined in scope");</code></li>
<li class='green'><span class='hits'>5233</span><code>    } else if (!isString(method) &amp;&amp; !isFunction(method)) {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new Error(method + " is not a function");</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>5232</span><code>    if (isString(method)) {</code></li>
<li class='green'><span class='hits'>130</span><code>        return function () {</code></li>
<li class='green'><span class='hits'>379</span><code>            var func = scope[method];</code></li>
<li class='green'><span class='hits'>379</span><code>            if (isFunction(func)) {</code></li>
<li class='green'><span class='hits'>376</span><code>                var scopeArgs = args.concat(Array.prototype.slice.call(arguments));</code></li>
<li class='green'><span class='hits'>376</span><code>                return spreadArgs(func, scopeArgs, scope);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>3</span><code>                return func;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        };</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>5102</span><code>        return function () {</code></li>
<li class='green'><span class='hits'>3200</span><code>            var scopeArgs = args.concat(Array.prototype.slice.call(arguments));</code></li>
<li class='green'><span class='hits'>3200</span><code>            return spreadArgs(method, scopeArgs, scope);</code></li>
<li class='green'><span class=''> </span><code>        };</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Binds a method to the scope of the first argument.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * This is useful if you have async actions and you just want to run a method or retrieve a property on the object.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *  var arr = [], push = comb.applyFirst("push"), length = comb.applyFirst("length");</code></li>
<li class='green'><span class=''> </span><code> *  push(arr, 1, 2,3,4);</code></li>
<li class='green'><span class=''> </span><code> *  console.log(length(arr)); //4</code></li>
<li class='green'><span class=''> </span><code> *  console.log(arr); //1,2,3,4</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @param {String|Function} method the method to invoke in the scope of the first arument.</code></li>
<li class='green'><span class=''> </span><code> * @param [args] optional args to pass to the callback</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Function} a function that will execute the method in the scope of the first argument.</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function applyFirst(method, args) {</code></li>
<li class='green'><span class='hits'>10</span><code>    args = Array.prototype.slice.call(arguments).slice(1);</code></li>
<li class='green'><span class='hits'>10</span><code>    if (!isString(method) &amp;&amp; !isFunction(method)) {</code></li>
<li class='green'><span class='hits'>2</span><code>        throw new Error(method + " must be the name of a property or function to execute");</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>8</span><code>    if (isString(method)) {</code></li>
<li class='green'><span class='hits'>4</span><code>        return function () {</code></li>
<li class='green'><span class='hits'>12</span><code>            var scopeArgs = Array.prototype.slice.call(arguments), scope = scopeArgs.shift();</code></li>
<li class='green'><span class='hits'>12</span><code>            var func = scope[method];</code></li>
<li class='green'><span class='hits'>12</span><code>            if (isFunction(func)) {</code></li>
<li class='green'><span class='hits'>6</span><code>                scopeArgs = args.concat(scopeArgs);</code></li>
<li class='green'><span class='hits'>6</span><code>                return spreadArgs(func, scopeArgs, scope);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>6</span><code>                return func;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        };</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>4</span><code>        return function () {</code></li>
<li class='green'><span class='hits'>4</span><code>            var scopeArgs = Array.prototype.slice.call(arguments), scope = scopeArgs.shift();</code></li>
<li class='green'><span class='hits'>4</span><code>            scopeArgs = args.concat(scopeArgs);</code></li>
<li class='green'><span class='hits'>4</span><code>            return spreadArgs(method, scopeArgs, scope);</code></li>
<li class='green'><span class=''> </span><code>        };</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @function</code></li>
<li class='green'><span class=''> </span><code> * Binds a method to a particular scope</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} scope the scope to bind the callback to</code></li>
<li class='green'><span class=''> </span><code> * @param {String|Function} method the method to callback</code></li>
<li class='green'><span class=''> </span><code> * @param [args] optional args to pass to the callback</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Function} the hitched function</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>exports.bind = hitch;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Binds a method to a particular scope ignoring any new arguments passed</code></li>
<li class='green'><span class=''> </span><code> * into the function. This is useful if you want to force particular arguments and</code></li>
<li class='green'><span class=''> </span><code> * ignore any new ones</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} scope the scope to bind the callback to</code></li>
<li class='green'><span class=''> </span><code> * @param {String|Function} method the method to callback</code></li>
<li class='green'><span class=''> </span><code> * @param [args] optional args to pass to the callback</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Function} the hitched function</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function hitchIgnore(scope, method, args) {</code></li>
<li class='green'><span class='hits'>136</span><code>    args = Array.prototype.slice.call(arguments).slice(2);</code></li>
<li class='green'><span class='hits'>136</span><code>    if ((isString(method) &amp;&amp; !(method in scope))) {</code></li>
<li class='green'><span class='hits'>2</span><code>        throw new Error(method + " property not defined in scope");</code></li>
<li class='green'><span class='hits'>134</span><code>    } else if (!isString(method) &amp;&amp; !isFunction(method)) {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new Error(method + " is not a function");</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>133</span><code>    if (isString(method)) {</code></li>
<li class='green'><span class='hits'>15</span><code>        return function () {</code></li>
<li class='green'><span class='hits'>15</span><code>            var func = scope[method];</code></li>
<li class='green'><span class='hits'>15</span><code>            if (isFunction(func)) {</code></li>
<li class='green'><span class='hits'>12</span><code>                return spreadArgs(func, args, scope);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>3</span><code>                return func;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        };</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>118</span><code>        return function () {</code></li>
<li class='green'><span class='hits'>107</span><code>            return spreadArgs(method, args, scope);</code></li>
<li class='green'><span class=''> </span><code>        };</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @function</code></li>
<li class='green'><span class=''> </span><code> * Binds a method to a particular scope ignoring any new arguments passed</code></li>
<li class='green'><span class=''> </span><code> * into the function. This is useful if you want to force particular arguments and</code></li>
<li class='green'><span class=''> </span><code> * ignore any new ones</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} scope the scope to bind the callback to</code></li>
<li class='green'><span class=''> </span><code> * @param {String|Function} method the method to callback</code></li>
<li class='green'><span class=''> </span><code> * @param [args] optional args to pass to the callback</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Function} the hitched function</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>exports.bindIgnore = hitchIgnore;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function hitchAll(scope, methods) {</code></li>
<li class='red'><span class='nohits'>0</span><code>    var funcs = Array.prototype.slice.call(arguments).slice(1);</code></li>
<li class='red'><span class='nohits'>0</span><code>    if (!isObject(scope)) {</code></li>
<li class='red'><span class='nohits'>0</span><code>        throw new TypeError("scope must be an object");</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='red'><span class='nohits'>0</span><code>    if (funcs.length === 1 &amp;&amp; isArray(funcs[0])) {</code></li>
<li class='red'><span class='nohits'>0</span><code>        funcs = funcs[0];</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='red'><span class='nohits'>0</span><code>    if (!funcs.length) {</code></li>
<li class='red'><span class='nohits'>0</span><code>        funcs = Object.keys(scope).filter(function (k) {</code></li>
<li class='red'><span class='nohits'>0</span><code>            return isFunction(scope[k]);</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='red'><span class='nohits'>0</span><code>    for (var i = 0, l = funcs.length; i &lt; l; i++) {</code></li>
<li class='red'><span class='nohits'>0</span><code>        scope[funcs[i]] = hitch(scope, scope[funcs[i]]);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='red'><span class='nohits'>0</span><code>    return object;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>exports.hitchAll = hitchAll;</code></li>
<li class='green'><span class='hits'>1</span><code>exports.bindAll = hitchAll;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Allows the passing of additional arguments to a function when it is called</code></li>
<li class='green'><span class=''> </span><code> * especially useful for callbacks that you want to provide additional parameters to</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @param {String|Function} method the method to callback</code></li>
<li class='green'><span class=''> </span><code> * @param {Anything} [args] variable number of arguments to pass</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Function} partially hitched function</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function partial(method, args) {</code></li>
<li class='green'><span class='hits'>8561</span><code>    args = Array.prototype.slice.call(arguments).slice(1);</code></li>
<li class='green'><span class='hits'>8561</span><code>    if (!isString(method) &amp;&amp; !isFunction(method)) {</code></li>
<li class='green'><span class='hits'>2</span><code>        throw new Error(method + " must be the name of a property or function to execute");</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>8559</span><code>    if (isString(method)) {</code></li>
<li class='green'><span class='hits'>4</span><code>        return function () {</code></li>
<li class='green'><span class='hits'>4</span><code>            var func = this[method];</code></li>
<li class='green'><span class='hits'>4</span><code>            if (isFunction(func)) {</code></li>
<li class='green'><span class='hits'>2</span><code>                var scopeArgs = args.concat(Array.prototype.slice.call(arguments));</code></li>
<li class='green'><span class='hits'>2</span><code>                return spreadArgs(func, scopeArgs, this)</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>2</span><code>                return func;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        };</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>8555</span><code>        return function () {</code></li>
<li class='green'><span class='hits'>1728</span><code>            var scopeArgs = args.concat(Array.prototype.slice.call(arguments));</code></li>
<li class='green'><span class='hits'>1728</span><code>            return spreadArgs(method, scopeArgs, this)</code></li>
<li class='green'><span class=''> </span><code>        };</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class='hits'>1</span><code>;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function curryFunc(f, execute) {</code></li>
<li class='green'><span class='hits'>28</span><code>    return function (arg) {</code></li>
<li class='green'><span class='hits'>28</span><code>        var args = Array.prototype.slice.call(arguments);</code></li>
<li class='green'><span class='hits'>28</span><code>        return execute ? f.apply(this, arguments) : function (arg) {</code></li>
<li class='green'><span class='hits'>21</span><code>            return spreadArgs(f, args.concat(Array.prototype.slice.call(arguments)), this);</code></li>
<li class='green'><span class=''> </span><code>        };</code></li>
<li class='green'><span class=''> </span><code>    };</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Curries a function</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * var curried = comb.curry(4, function(a,b,c,d){</code></li>
<li class='green'><span class=''> </span><code> *     return [a,b,c,d].join(",");</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *  curried("a");</code></li>
<li class='green'><span class=''> </span><code> *  curried("b");</code></li>
<li class='green'><span class=''> </span><code> *  curried("c");</code></li>
<li class='green'><span class=''> </span><code> *  curried("d") =&gt; "a,b,c,d"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  //OR</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  curried("a")("b")("c")("d") =&gt; "a,b,c,d"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} depth the number of args you expect</code></li>
<li class='green'><span class=''> </span><code> * @param {Function} cb the function to call once all args are gathered</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [scope] what scope to call the function in</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Function} the curried version of the function</code></li>
<li class='green'><span class=''> </span><code> * */</code></li>
<li class='green'><span class='hits'>1</span><code>function curry(depth, cb, scope) {</code></li>
<li class='green'><span class='hits'>7</span><code>    var f;</code></li>
<li class='green'><span class='hits'>7</span><code>    if (scope) {</code></li>
<li class='green'><span class='hits'>5</span><code>        f = hitch(scope, cb);</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>2</span><code>        f = cb;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>7</span><code>    if (depth) {</code></li>
<li class='green'><span class='hits'>7</span><code>        var len = depth - 1;</code></li>
<li class='green'><span class='hits'>7</span><code>        for (var i = len; i &gt;= 0; i--) {</code></li>
<li class='green'><span class='hits'>28</span><code>            f = curryFunc(f, i === len);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>7</span><code>    return f;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Binds all methods or a specified array of function to the scope of the object</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * var f = {</code></li>
<li class='green'><span class=''> </span><code> *     a: function(){</code></li>
<li class='green'><span class=''> </span><code> *         return "a";</code></li>
<li class='green'><span class=''> </span><code> *     },</code></li>
<li class='green'><span class=''> </span><code> *     b: function(){</code></li>
<li class='green'><span class=''> </span><code> *         return "b";</code></li>
<li class='green'><span class=''> </span><code> *     }</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.hitchAll(f, "a", "b");</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //or</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.hitchAll(f);</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} scope the object to bind methods on</code></li>
<li class='green'><span class=''> </span><code> * @param {...} funcs varargs of methods to bind</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Object} the originally scoped object.</code></li>
<li class='green'><span class=''> </span><code> * */</code></li>
<li class='green'><span class='hits'>1</span><code>function hitchAll(scope) {</code></li>
<li class='green'><span class='hits'>3</span><code>    var funcs = Array.prototype.slice.call(arguments, 1);</code></li>
<li class='green'><span class='hits'>3</span><code>    if (!isObject(scope) &amp;&amp; !isFunction(scope)) {</code></li>
<li class='red'><span class='nohits'>0</span><code>        throw new TypeError("scope must be an object");</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>3</span><code>    if (funcs.length === 1 &amp;&amp; isArray(funcs[0])) {</code></li>
<li class='green'><span class='hits'>1</span><code>        funcs = funcs[0];</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>3</span><code>    if (!funcs.length) {</code></li>
<li class='green'><span class='hits'>1</span><code>        funcs = [];</code></li>
<li class='green'><span class='hits'>1</span><code>        for (var k in scope) {</code></li>
<li class='green'><span class='hits'>6</span><code>            if (scope.hasOwnProperty(k) &amp;&amp; isFunction(scope[k])) {</code></li>
<li class='green'><span class='hits'>3</span><code>                funcs.push(k);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>3</span><code>    for (var i = 0, l = funcs.length; i &lt; l; i++) {</code></li>
<li class='green'><span class='hits'>6</span><code>        scope[funcs[i]] = hitch(scope, scope[funcs[i]]);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>3</span><code>    return scope;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Binds all methods or a specified array of function to the scope of the object</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * var f = {</code></li>
<li class='green'><span class=''> </span><code> *     a: function(){</code></li>
<li class='green'><span class=''> </span><code> *         return "a";</code></li>
<li class='green'><span class=''> </span><code> *     },</code></li>
<li class='green'><span class=''> </span><code> *     b: function(){</code></li>
<li class='green'><span class=''> </span><code> *         return "b";</code></li>
<li class='green'><span class=''> </span><code> *     }</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.bindAll(f, "a", "b");</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //or</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.bindAll(f);</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} scope the object to bind methods on</code></li>
<li class='green'><span class=''> </span><code> * @param {...} funcs varargs of methods to bind</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Object} the originally scoped object.</code></li>
<li class='green'><span class=''> </span><code> * */</code></li>
<li class='green'><span class='hits'>1</span><code>exports.bindAll = hitchAll;</code></li>
<li class='green'><span class='hits'>1</span><code>exports.hitchAll = hitchAll;</code></li>
<li class='green'><span class='hits'>1</span><code>exports.isFunction = isFunction;</code></li>
<li class='green'><span class='hits'>1</span><code>exports.hitch = hitch;</code></li>
<li class='green'><span class='hits'>1</span><code>exports.hitchIgnore = hitchIgnore;</code></li>
<li class='green'><span class='hits'>1</span><code>exports.partial = partial;</code></li>
<li class='green'><span class='hits'>1</span><code>exports.applyFirst = applyFirst;</code></li>
<li class='green'><span class='hits'>1</span><code>exports.bindFirst = applyFirst;</code></li>
<li class='green'><span class='hits'>1</span><code>exports.curry = curry;</code></li>
<li class='green'><span class='hits'>1</span><code>exports.__spreadArgs = spreadArgs;</code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="plugins/Middleware.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>plugins/Middleware.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>95.56</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>221</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>45</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>2</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="plugins/Middleware.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var func = require("../base/functions"),</code></li>
<li class='green'><span class=''> </span><code>    obj = require("../base/object"),</code></li>
<li class='green'><span class=''> </span><code>    Promise = require("../promise").Promise,</code></li>
<li class='green'><span class=''> </span><code>    define = require("../define").define;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var nextTick;</code></li>
<li class='green'><span class='hits'>1</span><code>if (typeof setImmediate === "function") {</code></li>
<li class='green'><span class=''> </span><code>    // In IE10, or use https://github.com/NobleJS/setImmediate</code></li>
<li class='green'><span class='hits'>1</span><code>    nextTick = setImmediate;</code></li>
<li class='green'><span class=''> </span><code>} else {</code></li>
<li class='red'><span class='nohits'>0</span><code>    nextTick = function (cb) {</code></li>
<li class='red'><span class='nohits'>0</span><code>        process.nextTick(cb);</code></li>
<li class='green'><span class=''> </span><code>    };</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var Middleware = define(null, {</code></li>
<li class='green'><span class=''> </span><code>    instance: {</code></li>
<li class='green'><span class=''> </span><code>        /** @lends comb.plugins.Middleware.prototype */</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __hooks: {pre: {}, post: {}},</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * @class Plugin to enable middleware on a class</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * var Mammal = define(comb.plugins.Middleware, {</code></li>
<li class='green'><span class=''> </span><code>         *  instance : {</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *    constructor: function(options) {</code></li>
<li class='green'><span class=''> </span><code>         *        options = options || {};</code></li>
<li class='green'><span class=''> </span><code>         *        this.super(arguments);</code></li>
<li class='green'><span class=''> </span><code>         *        this._type = options.type || "mammal";</code></li>
<li class='green'><span class=''> </span><code>         *    },</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *    speak : function() {</code></li>
<li class='green'><span class=''> </span><code>         *        var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code>         *        this._hook("pre", "speak")</code></li>
<li class='green'><span class=''> </span><code>         *                .then(comb.hitch(this, "_hook", "post", "speak"), hitch(ret, "errback"))</code></li>
<li class='green'><span class=''> </span><code>         *                .then(comb.hitch(ret, "callback"), comb.hitch(ret, "errback"));</code></li>
<li class='green'><span class=''> </span><code>         *        return ret;</code></li>
<li class='green'><span class=''> </span><code>         *    }</code></li>
<li class='green'><span class=''> </span><code>         *  }</code></li>
<li class='green'><span class=''> </span><code>         *});</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *  Mammal.pre('speak', function(next){</code></li>
<li class='green'><span class=''> </span><code>         *     //do something meaningful</code></li>
<li class='green'><span class=''> </span><code>         *     next();</code></li>
<li class='green'><span class=''> </span><code>         *  });</code></li>
<li class='green'><span class=''> </span><code>         *  var m = new Mammal({color : "gold"});</code></li>
<li class='green'><span class=''> </span><code>         *  m.speak();</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @constructs</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        constructor: function () {</code></li>
<li class='green'><span class='hits'>6</span><code>            this.__hooks = obj.merge({}, this.__hooks);</code></li>
<li class='green'><span class='hits'>6</span><code>            this._super(arguments);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * &lt;p&gt;Protected!&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * &lt;p&gt;Call to initiate middleware for the topic&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code>         * &lt;p&gt;&lt;b&gt;NOTE:&lt;/b&gt; this function takes a variable number of arguments</code></li>
<li class='green'><span class=''> </span><code>         *       whatever comes after the op param will be passed into</code></li>
<li class='green'><span class=''> </span><code>         *       the listening function, with the last argument to the listenting</code></li>
<li class='green'><span class=''> </span><code>         *       function being the next function&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @public</code></li>
<li class='green'><span class=''> </span><code>         * @param {"pre"|"post"} state the state in which the hook should be called</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} op the operation that is being acted upong</code></li>
<li class='green'><span class=''> </span><code>         * @param args arguments to be passed into the listening functions.</code></li>
<li class='green'><span class=''> </span><code>         * @returns {comb.Promise} a promise to use after middleware chain completes</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        _hook: function (state, op, args) {</code></li>
<li class='green'><span class='hits'>11</span><code>            args = args || [];</code></li>
<li class='green'><span class='hits'>11</span><code>            var promise = new Promise();</code></li>
<li class='green'><span class='hits'>11</span><code>            var funcs, length;</code></li>
<li class='green'><span class='hits'>11</span><code>            if (this.__hooks[state] &amp;&amp; (funcs = this.__hooks[state][op]) != null &amp;&amp; (length = funcs.length) &gt; 0) {</code></li>
<li class='green'><span class='hits'>7</span><code>                var count = 0;</code></li>
<li class='green'><span class='hits'>7</span><code>                var next = func.hitch(this, function (err) {</code></li>
<li class='green'><span class='hits'>15</span><code>                    if (err) {</code></li>
<li class='green'><span class='hits'>1</span><code>                        promise.errback(err);</code></li>
<li class='green'><span class=''> </span><code>                    } else {</code></li>
<li class='green'><span class='hits'>14</span><code>                        nextTick(func.hitch(this, function () {</code></li>
<li class='green'><span class=''> </span><code>                            //if Ive looped through all of them callback</code></li>
<li class='green'><span class='hits'>14</span><code>                            if (count == length) {</code></li>
<li class='green'><span class='hits'>6</span><code>                                promise.callback();</code></li>
<li class='green'><span class=''> </span><code>                            } else {</code></li>
<li class='green'><span class=''> </span><code>                                //call next</code></li>
<li class='green'><span class='hits'>8</span><code>                                var nextArgs = args.slice(0);</code></li>
<li class='green'><span class='hits'>8</span><code>                                nextArgs.unshift(next);</code></li>
<li class='green'><span class='hits'>8</span><code>                                funcs[count++].apply(this, nextArgs);</code></li>
<li class='green'><span class=''> </span><code>                            }</code></li>
<li class='green'><span class=''> </span><code>                        }));</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                });</code></li>
<li class='green'><span class='hits'>7</span><code>                next();</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>4</span><code>                promise.callback();</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>11</span><code>            return promise.promise();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Use to listen to before an event occurred i.e. pre save</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * &lt;b&gt;NOTE:&lt;/b&gt;&lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code>         * &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code>         *     &lt;li&gt;You must call next in order for the middleware chain to complete&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;li&gt;This connects to events on the instance of an object, not all instances!&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;li&gt;Hooks are called in the order they are received!&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;li&gt; When connecting your callback will be called in the scope of the class&lt;/br&gt;if you want a certain scope use {@link comb.hitch}&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *  &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         *      instance.pre("save", function(args,...., next){</code></li>
<li class='green'><span class=''> </span><code>         *          //do something...</code></li>
<li class='green'><span class=''> </span><code>         *          //you have to call next!!!!!</code></li>
<li class='green'><span class=''> </span><code>         *          next();</code></li>
<li class='green'><span class=''> </span><code>         *      });</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * */</code></li>
<li class='green'><span class=''> </span><code>        pre: function (fun, callback) {</code></li>
<li class='green'><span class='hits'>1</span><code>            var hook = this.__hooks.pre[fun];</code></li>
<li class='green'><span class='hits'>1</span><code>            if (!hook) {</code></li>
<li class='green'><span class='hits'>1</span><code>                hook = this.__hooks.pre[fun] = [];</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>1</span><code>            hook.push(callback);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * &lt;p&gt;Use to listen to after an event has occurred i.e. post save&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code>         * &lt;b&gt;NOTE:&lt;/b&gt;&lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code>         * &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code>         *     &lt;li&gt;You must call next in order for the middleware chain to complete&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;li&gt;This connects to events on the instance of an object, NOT all instances!&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;li&gt;Hooks are called in the order they are received!&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;li&gt;When connecting your callback will be called in the scope of the class&lt;/br&gt;if you want a certain scope use {@link comb.hitch}&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *  &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * instance.post("save", function(next){</code></li>
<li class='green'><span class=''> </span><code>         *                //do something...</code></li>
<li class='green'><span class=''> </span><code>         *                 //you have to call next!!!!!</code></li>
<li class='green'><span class=''> </span><code>         *                 next();</code></li>
<li class='green'><span class=''> </span><code>         *          });</code></li>
<li class='green'><span class=''> </span><code>         * */</code></li>
<li class='green'><span class=''> </span><code>        post: function (fun, callback) {</code></li>
<li class='green'><span class='hits'>1</span><code>            var hook = this.__hooks.post[fun];</code></li>
<li class='green'><span class=''> </span><code>            //if I havent initialized it create it;</code></li>
<li class='green'><span class='hits'>1</span><code>            if (hook == undefined) {</code></li>
<li class='green'><span class='hits'>1</span><code>                hook = this.__hooks.post[fun] = [];</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>1</span><code>            hook.push(callback);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    static: {</code></li>
<li class='green'><span class=''> </span><code>        /** @lends comb.plugins.Middleware */</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         *&lt;p&gt; Use to listen to after an event has occurred i.e. post save&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * &lt;b&gt;NOTE:&lt;/b&gt;&lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code>         * &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code>         *     &lt;li&gt;You must call next in order for the middleware chain to complete&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;li&gt;This connects to events on ALL instances of an object&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;li&gt;Hooks are called in the order they are received!&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;li&gt;When connecting your callback will be called in the scope of the class&lt;/br&gt;if you want a certain scope use {@link comb.hitch}&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *  &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         * Class.pre("save", function(next){</code></li>
<li class='green'><span class=''> </span><code>         *               ...</code></li>
<li class='green'><span class=''> </span><code>         *               //you must call next</code></li>
<li class='green'><span class=''> </span><code>         *          });</code></li>
<li class='green'><span class=''> </span><code>         * */</code></li>
<li class='green'><span class=''> </span><code>        pre: function (name, cb) {</code></li>
<li class='green'><span class='hits'>2</span><code>            var hooks = this.prototype.__hooks;</code></li>
<li class='green'><span class='hits'>2</span><code>            var hook = hooks.pre[name];</code></li>
<li class='green'><span class='hits'>2</span><code>            if (!hook) {</code></li>
<li class='green'><span class='hits'>1</span><code>                hook = hooks.pre[name] = [];</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>2</span><code>            hook.push(cb);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         *&lt;p&gt;Use to listen to after an event has occurred i.e. post save&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *&lt;b&gt;NOTE:&lt;/b&gt;&lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code>         * &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code>         *     &lt;li&gt;You must call next in order for the middleware chain to complete&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;li&gt;This connects to events on ALL instances of an object&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;li&gt;Hooks are called in the order they are received!&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;li&gt;When connecting your callback will be called in the scope of the class&lt;/br&gt;if you want a certain scope use {@link comb.hitch}&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *  &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         * Class.post("save", function(next){</code></li>
<li class='green'><span class=''> </span><code>         *               ...</code></li>
<li class='green'><span class=''> </span><code>         *               //you must call next</code></li>
<li class='green'><span class=''> </span><code>         *          });</code></li>
<li class='green'><span class=''> </span><code>         * */</code></li>
<li class='green'><span class=''> </span><code>        post: function (name, cb) {</code></li>
<li class='green'><span class='hits'>1</span><code>            var hooks = this.prototype.__hooks;</code></li>
<li class='green'><span class='hits'>1</span><code>            var hook = hooks.post[name];</code></li>
<li class='green'><span class='hits'>1</span><code>            if (!hook) {</code></li>
<li class='green'><span class='hits'>1</span><code>                hook = hooks.post[name] = [];</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>1</span><code>            hook.push(cb);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = exports = Middleware;</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="promise.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>promise.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>96.10</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>998</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>282</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>11</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="promise.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("./define").define,</code></li>
<li class='green'><span class=''> </span><code>    base = require("./base"),</code></li>
<li class='green'><span class=''> </span><code>    isObject = base.isObject,</code></li>
<li class='green'><span class=''> </span><code>    hitch = base.hitch,</code></li>
<li class='green'><span class=''> </span><code>    hitchAll = base.hitchAll,</code></li>
<li class='green'><span class=''> </span><code>    partial = base.partial,</code></li>
<li class='green'><span class=''> </span><code>    argsToArray = base.argsToArray,</code></li>
<li class='green'><span class=''> </span><code>    array = base.array,</code></li>
<li class='green'><span class=''> </span><code>    forEach = array.forEach,</code></li>
<li class='green'><span class=''> </span><code>    zip = array.zip,</code></li>
<li class='green'><span class=''> </span><code>    flatten = array.flatten,</code></li>
<li class='green'><span class=''> </span><code>    isUndefinedOrNull = base.isUndefinedOrNull,</code></li>
<li class='green'><span class=''> </span><code>    isArray = base.isArray,</code></li>
<li class='green'><span class=''> </span><code>    isFunction = base.isFunction,</code></li>
<li class='green'><span class=''> </span><code>    bindIgnore = base.bindIgnore,</code></li>
<li class='green'><span class=''> </span><code>    isInstanceOf = base.isInstanceOf,</code></li>
<li class='green'><span class=''> </span><code>    spreadArgs = base.__spreadArgs;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var nextTick;</code></li>
<li class='green'><span class='hits'>1</span><code>if (typeof setImmediate === "function") {</code></li>
<li class='green'><span class=''> </span><code>    // In IE10, or use https://github.com/NobleJS/setImmediate</code></li>
<li class='green'><span class='hits'>1</span><code>    nextTick = setImmediate;</code></li>
<li class='green'><span class=''> </span><code>} else {</code></li>
<li class='red'><span class='nohits'>0</span><code>    nextTick = function (cb) {</code></li>
<li class='red'><span class='nohits'>0</span><code>        process.nextTick(cb);</code></li>
<li class='green'><span class=''> </span><code>    };</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class='hits'>1</span><code>function reject(e) {</code></li>
<li class='red'><span class='nohits'>0</span><code>    return new Promise().errback(e);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function promiseWrapper(wrapper, promise, action) {</code></li>
<li class='red'><span class='nohits'>0</span><code>    var m = promise[action];</code></li>
<li class='red'><span class='nohits'>0</span><code>    wrapper[action] = hitch(promise, function () {</code></li>
<li class='red'><span class='nohits'>0</span><code>        spreadArgs(m, arguments, this);</code></li>
<li class='red'><span class='nohits'>0</span><code>        return wrapper;</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var Promise = define(null, {</code></li>
<li class='green'><span class=''> </span><code>    instance: {</code></li>
<li class='green'><span class=''> </span><code>        /** @lends comb.Promise.prototype */</code></li>
<li class='green'><span class=''> </span><code>        __fired: false,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __results: null,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __error: null,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __errorCbs: null,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __cbs: null,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Promise object used to provide seperation of success and error resolution paths for async operations.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         * var myFunc = function(){</code></li>
<li class='green'><span class=''> </span><code>         *     var promise = new Promise();</code></li>
<li class='green'><span class=''> </span><code>         *     //callback the promise after 10 Secs</code></li>
<li class='green'><span class=''> </span><code>         *     setTimeout(hitch(promise, "callback"), 10000);</code></li>
<li class='green'><span class=''> </span><code>         *     return promise.promise();</code></li>
<li class='green'><span class=''> </span><code>         * }</code></li>
<li class='green'><span class=''> </span><code>         * var myFunc2 = function(){</code></li>
<li class='green'><span class=''> </span><code>         *     var promises =[];</code></li>
<li class='green'><span class=''> </span><code>         *     for(var i = 0; i &lt; 10; i++){</code></li>
<li class='green'><span class=''> </span><code>         *         promises.push(myFunc);</code></li>
<li class='green'><span class=''> </span><code>         *     }</code></li>
<li class='green'><span class=''> </span><code>         *     //create a new promise list with all 10 promises</code></li>
<li class='green'><span class=''> </span><code>         *     return new PromiseList(promises).promise();</code></li>
<li class='green'><span class=''> </span><code>         * }</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * myFunc.then(function(success){}, function(error){})</code></li>
<li class='green'><span class=''> </span><code>         * //chain promise operations</code></li>
<li class='green'><span class=''> </span><code>         * myFunc.chain(myfunc).then(function(success){}, function(error){})</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * myFunc2.then(function(success){}, function(error){})</code></li>
<li class='green'><span class=''> </span><code>         * //chain promise operations</code></li>
<li class='green'><span class=''> </span><code>         * myFunc2.chain(myfunc).then(function(success){}, function(error){})</code></li>
<li class='green'><span class=''> </span><code>         * @constructs</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        constructor: function () {</code></li>
<li class='green'><span class='hits'>2526</span><code>            this.__errorCbs = [];</code></li>
<li class='green'><span class='hits'>2526</span><code>            this.__cbs = [];</code></li>
<li class='green'><span class='hits'>2526</span><code>            this.callback = hitch(this, this.callback);</code></li>
<li class='green'><span class='hits'>2526</span><code>            this.errback = hitch(this, this.errback);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * @private</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        __resolve: function () {</code></li>
<li class='green'><span class='hits'>2374</span><code>            var self = this;</code></li>
<li class='green'><span class='hits'>2374</span><code>            if (!self.__fired) {</code></li>
<li class='green'><span class='hits'>2374</span><code>                self.__fired = true;</code></li>
<li class='green'><span class='hits'>2374</span><code>                nextTick(function () {</code></li>
<li class='green'><span class='hits'>2373</span><code>                    var cbs = self.__error ? self.__errorCbs : self.__cbs,</code></li>
<li class='green'><span class=''> </span><code>                        res = self.__error || self.__results,</code></li>
<li class='green'><span class=''> </span><code>                        i = -1, l = cbs.length;</code></li>
<li class='green'><span class='hits'>2373</span><code>                    while (++i &lt; l) {</code></li>
<li class='green'><span class='hits'>2264</span><code>                        spreadArgs(cbs[i], res);</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class='hits'>2373</span><code>                    self.__errorCbs.length = self.__cbs.length = 0;</code></li>
<li class='green'><span class='hits'>2373</span><code>                    self = null;</code></li>
<li class='green'><span class=''> </span><code>                });</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __callNextTick: function (cb, results) {</code></li>
<li class='green'><span class='hits'>760</span><code>            nextTick(function () {</code></li>
<li class='green'><span class='hits'>760</span><code>                spreadArgs(cb, results);</code></li>
<li class='green'><span class='hits'>760</span><code>                cb = results = null;</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Add a callback to the callback chain of the promise</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function|comb.Promise} cb the function or promise to callback when the promise is resolved.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.Promise} this promise for chaining</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        addCallback: function (cb) {</code></li>
<li class='green'><span class='hits'>3045</span><code>            if (cb) {</code></li>
<li class='green'><span class='hits'>3045</span><code>                if (isPromise(cb)) {</code></li>
<li class='green'><span class='hits'>2</span><code>                    cb = cb.callback;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>3045</span><code>                if (this.__fired &amp;&amp; this.__results) {</code></li>
<li class='green'><span class='hits'>740</span><code>                    this.__callNextTick(cb, this.__results);</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>2305</span><code>                    this.__cbs.push(cb);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>3045</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Add a callback to the errback chain of the promise</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function|comb.Promise} cb the function or promise to callback when the promise errors</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.Promise} this promise for chaining</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        addErrback: function (cb) {</code></li>
<li class='green'><span class='hits'>2927</span><code>            if (cb) {</code></li>
<li class='green'><span class='hits'>2921</span><code>                if (isPromise(cb)) {</code></li>
<li class='red'><span class='nohits'>0</span><code>                    cb = cb.errback;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>2921</span><code>                if (this.__fired &amp;&amp; this.__error) {</code></li>
<li class='green'><span class='hits'>20</span><code>                    this.__callNextTick(cb, this.__error);</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>2901</span><code>                    this.__errorCbs.push(cb);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>2927</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * Adds a callback or promise to be resolved for both success</code></li>
<li class='green'><span class=''> </span><code>         * and error.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function|comb.Promise} cb callback or promise to be resolved for both success</code></li>
<li class='green'><span class=''> </span><code>         * and error.</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.Promise} this promise for chaining</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        both: function (cb) {</code></li>
<li class='green'><span class='hits'>580</span><code>            this.addCallback(cb);</code></li>
<li class='green'><span class='hits'>580</span><code>            if (isPromise(cb)) {</code></li>
<li class='green'><span class='hits'>2</span><code>                this.addErrback(cb.callback);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>578</span><code>                this.addErrback(cb);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>580</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * When called all functions registered as callbacks are called with the passed in results.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} args variable number of results to pass back to listeners of the promise</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        callback: function (args) {</code></li>
<li class='green'><span class='hits'>2209</span><code>            args = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>2209</span><code>            if (this.__fired) {</code></li>
<li class='green'><span class='hits'>1</span><code>                throw new Error("Already fired!");</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>2208</span><code>            this.__results = args;</code></li>
<li class='green'><span class='hits'>2208</span><code>            this.__resolve();</code></li>
<li class='green'><span class='hits'>2208</span><code>            return this.promise();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * When called all functions registered as errbacks are called with the passed in error(s)</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} args  number of errors to pass back to listeners of the promise</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        errback: function (args) {</code></li>
<li class='green'><span class='hits'>170</span><code>            if (this.__fired) {</code></li>
<li class='green'><span class='hits'>4</span><code>                throw args || new Error("Already fired");</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>166</span><code>            this.__error = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>166</span><code>            this.__resolve();</code></li>
<li class='green'><span class='hits'>166</span><code>            return this.promise();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Resolved a promise using the node style callback.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * var promise = new Promise();</code></li>
<li class='green'><span class=''> </span><code>         * fs.readFile("file.txt", "utf8", promise.resolve.bind(promise));</code></li>
<li class='green'><span class=''> </span><code>         * promise.then(function(file){</code></li>
<li class='green'><span class=''> </span><code>         *     console.log(file);</code></li>
<li class='green'><span class=''> </span><code>         * });</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Error} [err=null] If specified then the promise will error out</code></li>
<li class='green'><span class=''> </span><code>         * @param {...} [args] if err is null then the aruments will be used to resolve the promise.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.Promise} for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        resolve: function (err, args) {</code></li>
<li class='green'><span class='hits'>4</span><code>            if (err) {</code></li>
<li class='green'><span class='hits'>1</span><code>                this.errback(err);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>3</span><code>                spreadArgs(this.callback, argsToArray(arguments, 1), this);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>4</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Call to specify action to take after promise completes or errors</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} [callback=null] function to call after the promise completes successfully</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} [errback=null] function to call if the promise errors</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.Promise} this promise for chaining</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        then: function (callback, errback) {</code></li>
<li class='green'><span class='hits'>1858</span><code>            if (isPromise(callback)) {</code></li>
<li class='green'><span class='hits'>153</span><code>                errback = callback.errback;</code></li>
<li class='green'><span class='hits'>153</span><code>                callback = callback.callback;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>1858</span><code>            this.addCallback(callback);</code></li>
<li class='green'><span class='hits'>1858</span><code>            this.addErrback(errback);</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1858</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Call this function as a classic node callback where the first argument</code></li>
<li class='green'><span class=''> </span><code>         * will be an error, or null if no error occured. The other arugments will</code></li>
<li class='green'><span class=''> </span><code>         * be the result from the promise.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * promise.classic(function(err, res){</code></li>
<li class='green'><span class=''> </span><code>         *      if(err){</code></li>
<li class='green'><span class=''> </span><code>         *          console.log(err);</code></li>
<li class='green'><span class=''> </span><code>         *      }else{</code></li>
<li class='green'><span class=''> </span><code>         *          console.log(res);</code></li>
<li class='green'><span class=''> </span><code>         *      }</code></li>
<li class='green'><span class=''> </span><code>         * });</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param cb callback where the first argument</code></li>
<li class='green'><span class=''> </span><code>         * will be an error, or null if no error occured. The other arugments will</code></li>
<li class='green'><span class=''> </span><code>         * be the result from the promise.</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.Promise} the promise to chain</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        classic: function (cb) {</code></li>
<li class='green'><span class='hits'>5</span><code>            if ("function" === typeof cb) {</code></li>
<li class='green'><span class='hits'>5</span><code>                this.addErrback(cb);</code></li>
<li class='green'><span class='hits'>5</span><code>                this.addCallback(partial(cb, null));</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>5</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Call to chaining of promises</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * ```</code></li>
<li class='green'><span class=''> </span><code>         * new Promise()</code></li>
<li class='green'><span class=''> </span><code>         *  .callback("hello")</code></li>
<li class='green'><span class=''> </span><code>         *  .chain(function(previousPromiseResults){</code></li>
<li class='green'><span class=''> </span><code>         *      return previousPromiseResults + " world";</code></li>
<li class='green'><span class=''> </span><code>         * }, errorHandler)</code></li>
<li class='green'><span class=''> </span><code>         *  .chain(function(previousPromiseResults){</code></li>
<li class='green'><span class=''> </span><code>         *    return when(dbCall());</code></li>
<li class='green'><span class=''> </span><code>         *  }).classic(function(err, results){</code></li>
<li class='green'><span class=''> </span><code>         *      //all promises are done</code></li>
<li class='green'><span class=''> </span><code>         *  });</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *  ```</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *  You can also use static values</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *  ```</code></li>
<li class='green'><span class=''> </span><code>         * new Promise().callback()</code></li>
<li class='green'><span class=''> </span><code>         *     .chain("hello")</code></li>
<li class='green'><span class=''> </span><code>         *     .chain(function(prev){</code></li>
<li class='green'><span class=''> </span><code>         *         return prev + " world!"</code></li>
<li class='green'><span class=''> </span><code>         *     }).then(function(str){</code></li>
<li class='green'><span class=''> </span><code>         *         console.log(str); //"hello world!"</code></li>
<li class='green'><span class=''> </span><code>         *     });</code></li>
<li class='green'><span class=''> </span><code>         * ```</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * If you do not provide an `errback` for each chain then it will be propogated to the final promise</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * ```</code></li>
<li class='green'><span class=''> </span><code>         * new Promise()</code></li>
<li class='green'><span class=''> </span><code>         *     .chain(function(){</code></li>
<li class='green'><span class=''> </span><code>         *         return new comb.Promise().errback(new Error("error"));</code></li>
<li class='green'><span class=''> </span><code>         *     })</code></li>
<li class='green'><span class=''> </span><code>         *     .chain(function(){</code></li>
<li class='green'><span class=''> </span><code>         *         return prev + " world!"</code></li>
<li class='green'><span class=''> </span><code>         *     })</code></li>
<li class='green'><span class=''> </span><code>         *     .classic(function(err, str){</code></li>
<li class='green'><span class=''> </span><code>         *         console.log(err.message); //"error"</code></li>
<li class='green'><span class=''> </span><code>         *     });</code></li>
<li class='green'><span class=''> </span><code>         * ```</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param callback method to call this one completes. If you return a promise the execution will delay until the returned promise has resolved.</code></li>
<li class='green'><span class=''> </span><code>         * @param [errback=null] method to call if this promise errors. If errback is not specified then the returned promises</code></li>
<li class='green'><span class=''> </span><code>         * errback method will be used.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.Promise} A new that wraps the promise for chaining</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        chain: function (callback, errback) {</code></li>
<li class='green'><span class='hits'>600</span><code>            var promise = new Promise(),</code></li>
<li class='green'><span class=''> </span><code>                self = this;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>600</span><code>            function _errback(e) {</code></li>
<li class='green'><span class='hits'>94</span><code>                if (isFunction(errback)) {</code></li>
<li class='green'><span class='hits'>15</span><code>                    try {</code></li>
<li class='green'><span class='hits'>15</span><code>                        var res = spreadArgs(errback, [e]);</code></li>
<li class='green'><span class='hits'>11</span><code>                        isPromiseLike(res) ? res.then(promise.callback, promise.errback) : promise.callback(res);</code></li>
<li class='green'><span class=''> </span><code>                    } catch (e) {</code></li>
<li class='green'><span class='hits'>4</span><code>                        promise.errback(e);</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>79</span><code>                    promise.errback(e);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>600</span><code>            function _callback() {</code></li>
<li class='green'><span class='hits'>542</span><code>                try {</code></li>
<li class='green'><span class='hits'>542</span><code>                    var res = isFunction(callback) ? spreadArgs(callback, arguments) : callback;</code></li>
<li class='green'><span class='hits'>538</span><code>                    if (isPromiseLike(res)) {</code></li>
<li class='green'><span class='hits'>206</span><code>                        res.then(promise.callback, _errback);</code></li>
<li class='green'><span class=''> </span><code>                    } else {</code></li>
<li class='green'><span class='hits'>332</span><code>                        promise.callback(res);</code></li>
<li class='green'><span class='hits'>332</span><code>                        promise = null;</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class='hits'>538</span><code>                    callback = res = null;</code></li>
<li class='green'><span class=''> </span><code>                } catch (e) {</code></li>
<li class='green'><span class='hits'>4</span><code>                    _errback(e);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>600</span><code>            self.addCallback(_callback);</code></li>
<li class='green'><span class='hits'>600</span><code>            self.addErrback(_errback);</code></li>
<li class='green'><span class='hits'>600</span><code>            return promise.promise();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Applies the same function that returns a promise to both the callback and errback.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} callback function to call. This function must return a Promise</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.Promise} a promise to continue chaining or to resolve with.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        chainBoth: function (callback) {</code></li>
<li class='green'><span class='hits'>10</span><code>            var promise = new Promise();</code></li>
<li class='green'><span class='hits'>10</span><code>            this.addCallback(function () {</code></li>
<li class='green'><span class='hits'>5</span><code>                try {</code></li>
<li class='green'><span class='hits'>5</span><code>                    when(isFunction(callback) ? callback.apply(this, arguments) : callback).then(promise);</code></li>
<li class='green'><span class=''> </span><code>                } catch (e) {</code></li>
<li class='green'><span class='hits'>1</span><code>                    promise.errback(e);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>10</span><code>            this.addErrback(function () {</code></li>
<li class='green'><span class='hits'>5</span><code>                try {</code></li>
<li class='green'><span class='hits'>5</span><code>                    when(isFunction(callback) ? callback.apply(this, arguments) : callback).then(promise);</code></li>
<li class='green'><span class=''> </span><code>                } catch (e) {</code></li>
<li class='green'><span class='hits'>1</span><code>                    promise.errback(e);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>10</span><code>            return promise.promise();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Creates an object to that contains methods to listen to resolution but not the "callback" or "errback" methods.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * var asyncMethod = function(){</code></li>
<li class='green'><span class=''> </span><code>         *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code>         *     process.nextTick(ret.callback.bind(ret, "hello"));</code></li>
<li class='green'><span class=''> </span><code>         *     return ret.promise();</code></li>
<li class='green'><span class=''> </span><code>         * }</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * asyncMethod().callback() //throws error</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {Object} an object containing "chain", "chainBoth", "promise", "addCallback", "addErrback", "then", "both".</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        promise: function () {</code></li>
<li class='green'><span class='hits'>4220</span><code>            var ret = {</code></li>
<li class='green'><span class=''> </span><code>                promise: function () {</code></li>
<li class='green'><span class='hits'>765</span><code>                    return ret;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            };</code></li>
<li class='green'><span class='hits'>4220</span><code>            var self = this;</code></li>
<li class='green'><span class='hits'>4220</span><code>            ret["chain"] = function () {</code></li>
<li class='green'><span class='hits'>590</span><code>                return spreadArgs(self["chain"], arguments, self);</code></li>
<li class='green'><span class=''> </span><code>            };</code></li>
<li class='green'><span class='hits'>4220</span><code>            ret["chainBoth"] = function () {</code></li>
<li class='green'><span class='hits'>5</span><code>                return spreadArgs(self["chainBoth"], arguments, self);</code></li>
<li class='green'><span class=''> </span><code>            };</code></li>
<li class='green'><span class='hits'>4220</span><code>            ret["addCallback"] = function () {</code></li>
<li class='green'><span class='hits'>120</span><code>                spreadArgs(self["addCallback"], arguments, self);</code></li>
<li class='green'><span class='hits'>120</span><code>                return ret;</code></li>
<li class='green'><span class=''> </span><code>            };</code></li>
<li class='green'><span class='hits'>4220</span><code>            ret["addErrback"] = function () {</code></li>
<li class='green'><span class='hits'>7</span><code>                spreadArgs(self["addErrback"], arguments, self);</code></li>
<li class='green'><span class='hits'>7</span><code>                return ret;</code></li>
<li class='green'><span class=''> </span><code>            };</code></li>
<li class='green'><span class='hits'>4220</span><code>            ret["then"] = function () {</code></li>
<li class='green'><span class='hits'>1143</span><code>                spreadArgs(self["then"], arguments, self);</code></li>
<li class='green'><span class='hits'>1143</span><code>                return ret;</code></li>
<li class='green'><span class=''> </span><code>            };</code></li>
<li class='green'><span class='hits'>4220</span><code>            ret["both"] = function () {</code></li>
<li class='red'><span class='nohits'>0</span><code>                spreadArgs(self["both"], arguments, self);</code></li>
<li class='red'><span class='nohits'>0</span><code>                return ret;</code></li>
<li class='green'><span class=''> </span><code>            };</code></li>
<li class='green'><span class='hits'>4220</span><code>            ret["classic"] = function () {</code></li>
<li class='green'><span class='hits'>3</span><code>                spreadArgs(self["classic"], arguments, self);</code></li>
<li class='green'><span class='hits'>3</span><code>                return ret;</code></li>
<li class='green'><span class=''> </span><code>            };</code></li>
<li class='green'><span class='hits'>4220</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var PromiseList = define(Promise, {</code></li>
<li class='green'><span class=''> </span><code>    instance: {</code></li>
<li class='green'><span class=''> </span><code>        /** @lends comb.PromiseList.prototype */</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /*@private*/</code></li>
<li class='green'><span class=''> </span><code>        __results: null,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /*@private*/</code></li>
<li class='green'><span class=''> </span><code>        __errors: null,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /*@private*/</code></li>
<li class='green'><span class=''> </span><code>        __promiseLength: 0,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /*@private*/</code></li>
<li class='green'><span class=''> </span><code>        __defLength: 0,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /*@private*/</code></li>
<li class='green'><span class=''> </span><code>        __firedLength: 0,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        normalizeResults: false,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * PromiseList object used for handling a list of Promises</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         * var myFunc = function(){</code></li>
<li class='green'><span class=''> </span><code>         *     var promise = new Promise();</code></li>
<li class='green'><span class=''> </span><code>         *     //callback the promise after 10 Secs</code></li>
<li class='green'><span class=''> </span><code>         *     setTimeout(hitch(promise, "callback"), 10000);</code></li>
<li class='green'><span class=''> </span><code>         *     return promise.promise();</code></li>
<li class='green'><span class=''> </span><code>         * }</code></li>
<li class='green'><span class=''> </span><code>         * var myFunc2 = function(){</code></li>
<li class='green'><span class=''> </span><code>         *     var promises =[];</code></li>
<li class='green'><span class=''> </span><code>         *     for(var i = 0; i &lt; 10; i++){</code></li>
<li class='green'><span class=''> </span><code>         *         promises.push(myFunc);</code></li>
<li class='green'><span class=''> </span><code>         *     }</code></li>
<li class='green'><span class=''> </span><code>         *     //create a new promise list with all 10 promises</code></li>
<li class='green'><span class=''> </span><code>         *     return new PromiseList(promises).promise();</code></li>
<li class='green'><span class=''> </span><code>         * }</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * myFunc.then(function(success){}, function(error){})</code></li>
<li class='green'><span class=''> </span><code>         * //chain promise operations</code></li>
<li class='green'><span class=''> </span><code>         * myFunc.chain(myfunc).then(function(success){}, function(error){})</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * myFunc2.then(function(success){}, function(error){})</code></li>
<li class='green'><span class=''> </span><code>         * //chain promise operations</code></li>
<li class='green'><span class=''> </span><code>         * myFunc2.chain(myfunc).then(function(success){}, function(error){})</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *  @param {comb.Promise[]} [defs=[]] the list of promises</code></li>
<li class='green'><span class=''> </span><code>         * @constructs</code></li>
<li class='green'><span class=''> </span><code>         * @augments comb.Promise</code></li>
<li class='green'><span class=''> </span><code>         * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code>         * */</code></li>
<li class='green'><span class=''> </span><code>        constructor: function (defs, normalizeResults) {</code></li>
<li class='green'><span class='hits'>140</span><code>            this.__errors = [];</code></li>
<li class='green'><span class='hits'>140</span><code>            this.__results = [];</code></li>
<li class='green'><span class='hits'>140</span><code>            this.normalizeResults = base.isBoolean(normalizeResults) ? normalizeResults : false;</code></li>
<li class='green'><span class='hits'>140</span><code>            this._super(arguments);</code></li>
<li class='green'><span class='hits'>140</span><code>            if (defs &amp;&amp; defs.length) {</code></li>
<li class='green'><span class='hits'>135</span><code>                this.__defLength = defs.length;</code></li>
<li class='green'><span class='hits'>135</span><code>                forEach(defs, this.__addPromise, this);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>5</span><code>                this.__resolve();</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Add a promise to our chain</code></li>
<li class='green'><span class=''> </span><code>         * @private</code></li>
<li class='green'><span class=''> </span><code>         * @param promise the promise to add to our chain</code></li>
<li class='green'><span class=''> </span><code>         * @param i the index of the promise in our chain</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        __addPromise: function (promise, i) {</code></li>
<li class='green'><span class='hits'>757</span><code>            var self = this;</code></li>
<li class='green'><span class='hits'>757</span><code>            promise.then(</code></li>
<li class='green'><span class=''> </span><code>                function () {</code></li>
<li class='green'><span class='hits'>742</span><code>                    var args = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>742</span><code>                    args.unshift(i);</code></li>
<li class='green'><span class='hits'>742</span><code>                    spreadArgs(self.callback, args, self);</code></li>
<li class='green'><span class='hits'>742</span><code>                    promise = i = self = null;</code></li>
<li class='green'><span class=''> </span><code>                },</code></li>
<li class='green'><span class=''> </span><code>                function () {</code></li>
<li class='green'><span class='hits'>15</span><code>                    var args = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>15</span><code>                    args.unshift(i);</code></li>
<li class='green'><span class='hits'>15</span><code>                    spreadArgs(self.errback, args, self);</code></li>
<li class='green'><span class='hits'>15</span><code>                    promise = i = self = null;</code></li>
<li class='green'><span class=''> </span><code>                });</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Resolves the promise</code></li>
<li class='green'><span class=''> </span><code>         * @private</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        __resolve: function () {</code></li>
<li class='green'><span class='hits'>140</span><code>            if (!this.__fired) {</code></li>
<li class='green'><span class='hits'>140</span><code>                this.__fired = true;</code></li>
<li class='green'><span class='hits'>140</span><code>                var self = this;</code></li>
<li class='green'><span class='hits'>140</span><code>                nextTick(function () {</code></li>
<li class='green'><span class='hits'>140</span><code>                    var cbs = self.__errors.length ? self.__errorCbs : self.__cbs,</code></li>
<li class='green'><span class=''> </span><code>                        len = cbs.length, i,</code></li>
<li class='green'><span class=''> </span><code>                        results = self.__errors.length ? self.__errors : self.__results;</code></li>
<li class='green'><span class='hits'>140</span><code>                    for (i = 0; i &lt; len; i++) {</code></li>
<li class='green'><span class='hits'>136</span><code>                        spreadArgs(cbs[i], [results]);</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                });</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __callNextTick: function (cb, results) {</code></li>
<li class='green'><span class='hits'>7</span><code>            nextTick(function () {</code></li>
<li class='green'><span class='hits'>7</span><code>                spreadArgs(cb, [results]);</code></li>
<li class='green'><span class='hits'>7</span><code>                cb = results = null;</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        addCallback: function (cb) {</code></li>
<li class='green'><span class='hits'>143</span><code>            if (cb) {</code></li>
<li class='green'><span class='hits'>143</span><code>                if (isPromise(cb)) {</code></li>
<li class='green'><span class='hits'>1</span><code>                    cb = cb.callback;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>143</span><code>                if (this.__fired &amp;&amp; !this.__errors.length) {</code></li>
<li class='green'><span class='hits'>7</span><code>                    this.__callNextTick(cb, this.__results);</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>136</span><code>                    this.__cbs.push(cb);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>143</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        addErrback: function (cb) {</code></li>
<li class='green'><span class='hits'>141</span><code>            if (cb) {</code></li>
<li class='green'><span class='hits'>141</span><code>                if (isPromise(cb)) {</code></li>
<li class='green'><span class='hits'>1</span><code>                    cb = cb.errback;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>141</span><code>                if (this.__fired &amp;&amp; this.__errors.length) {</code></li>
<li class='red'><span class='nohits'>0</span><code>                    this.__callNextTick(cb, this.__errors);</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>141</span><code>                    this.__errorCbs.push(cb);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>141</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        callback: function (i) {</code></li>
<li class='green'><span class='hits'>743</span><code>            if (this.__fired) {</code></li>
<li class='green'><span class='hits'>1</span><code>                throw new Error("Already fired!");</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>742</span><code>            var args = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>742</span><code>            if (this.normalizeResults) {</code></li>
<li class='green'><span class='hits'>725</span><code>                args = args.slice(1);</code></li>
<li class='green'><span class='hits'>725</span><code>                args = args.length == 1 ? args.pop() : args;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>742</span><code>            this.__results[i] = args;</code></li>
<li class='green'><span class='hits'>742</span><code>            this.__firedLength++;</code></li>
<li class='green'><span class='hits'>742</span><code>            if (this.__firedLength == this.__defLength) {</code></li>
<li class='green'><span class='hits'>130</span><code>                this.__resolve();</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>742</span><code>            return this.promise();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        errback: function (i) {</code></li>
<li class='green'><span class='hits'>16</span><code>            if (this.__fired) {</code></li>
<li class='green'><span class='hits'>1</span><code>                throw new Error("Already fired!");</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>15</span><code>            var args = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>15</span><code>            if (this.normalizeResults) {</code></li>
<li class='green'><span class='hits'>14</span><code>                args = args.slice(1);</code></li>
<li class='green'><span class='hits'>14</span><code>                args = args.length == 1 ? args.pop() : args;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>15</span><code>            this.__errors[i] = args;</code></li>
<li class='green'><span class='hits'>15</span><code>            this.__firedLength++;</code></li>
<li class='green'><span class='hits'>15</span><code>            if (this.__firedLength == this.__defLength) {</code></li>
<li class='green'><span class='hits'>5</span><code>                this.__resolve();</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>15</span><code>            return this.promise();</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Creates the promise chain</code></li>
<li class='green'><span class=''> </span><code> * @ignore</code></li>
<li class='green'><span class=''> </span><code> * @private</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function callNext(list, results, propogate) {</code></li>
<li class='green'><span class='hits'>59</span><code>    var ret = new Promise().callback();</code></li>
<li class='green'><span class='hits'>59</span><code>    forEach(list, function (listItem) {</code></li>
<li class='green'><span class='hits'>156</span><code>        ret = ret.chain(propogate ? listItem : bindIgnore(null, listItem));</code></li>
<li class='green'><span class='hits'>156</span><code>        if (!propogate) {</code></li>
<li class='green'><span class='hits'>112</span><code>            ret.addCallback(function (res) {</code></li>
<li class='green'><span class='hits'>89</span><code>                results.push(res);</code></li>
<li class='green'><span class='hits'>89</span><code>                res = null;</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>59</span><code>    return propogate ? ret.promise() : ret.chain(results);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Tests if an object is like a promise (i.e. it contains then, addCallback, addErrback)</code></li>
<li class='green'><span class=''> </span><code> * @param obj object to test</code></li>
<li class='green'><span class=''> </span><code> * @function</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isPromiseLike(obj) {</code></li>
<li class='green'><span class='hits'>2731</span><code>    return isObject(obj, Promise) &amp;&amp; typeof obj.then === "function";</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function isPromise(obj) {</code></li>
<li class='green'><span class='hits'>8688</span><code>    return obj instanceof Promise;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Waits for promise and non promise values to resolve and fires callback or errback appropriately. If you pass in an array of promises</code></li>
<li class='green'><span class=''> </span><code> * then it will wait for all promises in the list to resolve.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *  var a = "hello";</code></li>
<li class='green'><span class=''> </span><code> *  var b = new comb.Promise().callback(world);</code></li>
<li class='green'><span class=''> </span><code> *  comb.when(a, b) =&gt; called back with ["hello", "world"];</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Anything...} args variable number of arguments to wait for.</code></li>
<li class='green'><span class=''> </span><code> * @param {Function} cb the callback function</code></li>
<li class='green'><span class=''> </span><code> * @param {Function} eb the errback function</code></li>
<li class='green'><span class=''> </span><code> * @returns {comb.Promise} a promise that is fired when all values have resolved</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function when(args, cb, eb) {</code></li>
<li class='green'><span class='hits'>1373</span><code>    var args = argsToArray(arguments), p;</code></li>
<li class='green'><span class='hits'>1373</span><code>    eb = base.isFunction(args[args.length - 1]) ? args.pop() : null;</code></li>
<li class='green'><span class='hits'>1373</span><code>    cb = base.isFunction(args[args.length - 1]) ? args.pop() : null;</code></li>
<li class='green'><span class='hits'>1373</span><code>    if (eb &amp;&amp; !cb) {</code></li>
<li class='green'><span class='hits'>9</span><code>        cb = eb;</code></li>
<li class='green'><span class='hits'>9</span><code>        eb = null;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>1373</span><code>    if (!args.length) {</code></li>
<li class='green'><span class='hits'>7</span><code>        p = new Promise().callback(args);</code></li>
<li class='green'><span class='hits'>1366</span><code>    } else if (args.length == 1) {</code></li>
<li class='green'><span class='hits'>1326</span><code>        args = args.pop();</code></li>
<li class='green'><span class='hits'>1326</span><code>        if (isPromiseLike(args)) {</code></li>
<li class='green'><span class='hits'>651</span><code>            p = args;</code></li>
<li class='green'><span class='hits'>675</span><code>        } else if (isArray(args) &amp;&amp; array.every(args, isPromiseLike)) {</code></li>
<li class='green'><span class='hits'>89</span><code>            p = new PromiseList(args, true);</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>586</span><code>            p = new Promise().callback(args);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>40</span><code>        p = new PromiseList(args.map(function (a) {</code></li>
<li class='green'><span class='hits'>135</span><code>            return isPromiseLike(a) ? a : new Promise().callback(a);</code></li>
<li class='green'><span class=''> </span><code>        }), true);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>1373</span><code>    if (cb) {</code></li>
<li class='green'><span class='hits'>15</span><code>        p.addCallback(cb);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>1373</span><code>    if (eb) {</code></li>
<li class='green'><span class='hits'>6</span><code>        p.addErrback(eb);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>1373</span><code>    return p.promise();</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Wraps traditional node style functions with a promise.</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var fs = require("fs");</code></li>
<li class='green'><span class=''> </span><code> * var readFile = comb.wrap(fs.readFile, fs);</code></li>
<li class='green'><span class=''> </span><code> * readFile(__dirname + "/test.json").then(</code></li>
<li class='green'><span class=''> </span><code> *      function(buffer){</code></li>
<li class='green'><span class=''> </span><code> *          console.log(contents);</code></li>
<li class='green'><span class=''> </span><code> *      },</code></li>
<li class='green'><span class=''> </span><code> *      function(err){</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *      }  console.error(err);</code></li>
<li class='green'><span class=''> </span><code> * );</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Function} fn function to wrap</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} scope scope to call the function in</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Funciton} a wrapped function</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function wrap(fn, scope) {</code></li>
<li class='green'><span class='hits'>2</span><code>    return function () {</code></li>
<li class='green'><span class='hits'>2</span><code>        var ret = new Promise();</code></li>
<li class='green'><span class='hits'>2</span><code>        var args = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>2</span><code>        args.push(ret.resolve.bind(ret));</code></li>
<li class='green'><span class='hits'>2</span><code>        fn.apply(scope || this, args);</code></li>
<li class='green'><span class='hits'>2</span><code>        return ret.promise();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Executes a list of items in a serial manner. If the list contains promises then each promise</code></li>
<li class='green'><span class=''> </span><code> * will be executed in a serial manner, if the list contains non async items then the next item in the list</code></li>
<li class='green'><span class=''> </span><code> * is called.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var asyncAction = function(item, timeout){</code></li>
<li class='green'><span class=''> </span><code> *    var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *    setTimeout(comb.hitchIgnore(ret, "callback", item), timeout);</code></li>
<li class='green'><span class=''> </span><code> *    return ret.promise();</code></li>
<li class='green'><span class=''> </span><code> * };</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.serial([</code></li>
<li class='green'><span class=''> </span><code> *     comb.partial(asyncAction, 1, 1000),</code></li>
<li class='green'><span class=''> </span><code> *     comb.partial(asyncAction, 2, 900),</code></li>
<li class='green'><span class=''> </span><code> *     comb.partial(asyncAction, 3, 800),</code></li>
<li class='green'><span class=''> </span><code> *     comb.partial(asyncAction, 4, 700),</code></li>
<li class='green'><span class=''> </span><code> *     comb.partial(asyncAction, 5, 600),</code></li>
<li class='green'><span class=''> </span><code> *     comb.partial(asyncAction, 6, 500)</code></li>
<li class='green'><span class=''> </span><code> * ]).then(function(results){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(results); // [1,2,3,4,5,6];</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param list</code></li>
<li class='green'><span class=''> </span><code> * @param callback</code></li>
<li class='green'><span class=''> </span><code> * @param errback</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function serial(list, callback, errback) {</code></li>
<li class='green'><span class='hits'>56</span><code>    if (base.isArray(list)) {</code></li>
<li class='green'><span class='hits'>55</span><code>        return callNext(list, [], false);</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new Error("When calling comb.serial the first argument must be an array");</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Works just like {@link comb.Promise#chain} method, allowing you to propogate results from one funciton to another.</code></li>
<li class='green'><span class=''> </span><code> * This is different than {@link comb.serial} in that it propogates results from one promise to the next, where</code></li>
<li class='green'><span class=''> </span><code> * {@link comb.serial} does not.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * function asyncAction(add, timeout) {</code></li>
<li class='green'><span class=''> </span><code> *      return function (num) {</code></li>
<li class='green'><span class=''> </span><code> *          num = num || 0;</code></li>
<li class='green'><span class=''> </span><code> *          var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *          setTimeout(function () {</code></li>
<li class='green'><span class=''> </span><code> *               ret.callback(num + add);</code></li>
<li class='green'><span class=''> </span><code> *          }, timeout);</code></li>
<li class='green'><span class=''> </span><code> *          return ret;</code></li>
<li class='green'><span class=''> </span><code> *      }</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.chain([</code></li>
<li class='green'><span class=''> </span><code> *      asyncAction(1, 100),</code></li>
<li class='green'><span class=''> </span><code> *      asyncAction(2, 100),</code></li>
<li class='green'><span class=''> </span><code> *      asyncAction(3, 100),</code></li>
<li class='green'><span class=''> </span><code> *      asyncAction(4, 100),</code></li>
<li class='green'><span class=''> </span><code> *      asyncAction(5, 100),</code></li>
<li class='green'><span class=''> </span><code> * ]).then(function(results){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(results); //15</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {function[]} list an array of function to call.</code></li>
<li class='green'><span class=''> </span><code> * @return {comb.Promise} a promise that will resolve with the results of the last function in the list.</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function chain(list) {</code></li>
<li class='green'><span class='hits'>5</span><code>    if (base.isArray(list)) {</code></li>
<li class='green'><span class='hits'>4</span><code>        return callNext(list, [], true);</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new Error("When calling comb.serial the first argument must be an array");</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Ensures that a promise is resolved before a the function can be run.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * For example suppose you have to ensure that you are connected to a database before you execute a function.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * var findUser = comb.wait(connect(), function findUser(id){</code></li>
<li class='green'><span class=''> </span><code> *      //this wont execute until we are connected</code></li>
<li class='green'><span class=''> </span><code> *      return User.findById(id);</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  comb.when(findUser(1), findUser(2)).then(function(users){</code></li>
<li class='green'><span class=''> </span><code> *      var user1 = users[0], user2 = users[1];</code></li>
<li class='green'><span class=''> </span><code> *  });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param args variable number of arguments to wait on. See {@link comb.when}.</code></li>
<li class='green'><span class=''> </span><code> * @param {Function} fn function that will wait.</code></li>
<li class='green'><span class=''> </span><code> * @return {Function} a function that will wait on the args to resolve.</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function wait(args, fn) {</code></li>
<li class='green'><span class='hits'>2</span><code>    var args = argsToArray(arguments), resolved = false;</code></li>
<li class='green'><span class='hits'>2</span><code>    fn = args.pop();</code></li>
<li class='green'><span class='hits'>2</span><code>    var p = when(args);</code></li>
<li class='green'><span class='hits'>2</span><code>    return function waiter() {</code></li>
<li class='green'><span class='hits'>3</span><code>        if (!resolved) {</code></li>
<li class='green'><span class='hits'>2</span><code>            var args = arguments;</code></li>
<li class='green'><span class='hits'>2</span><code>            return p.chain(function () {</code></li>
<li class='green'><span class='hits'>2</span><code>                resolved = true;</code></li>
<li class='green'><span class='hits'>2</span><code>                p = null;</code></li>
<li class='green'><span class='hits'>2</span><code>                return fn.apply(this, args);</code></li>
<li class='green'><span class=''> </span><code>            }.bind(this));</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>1</span><code>            return when(fn.apply(this, arguments));</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    };</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Wraps a stream in a promise waiting for either the `"end"` or `"error"` event to be triggered.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * comb.promisfyStream(fs.createdReadStream("my.file")).chain(function(){</code></li>
<li class='green'><span class=''> </span><code> *      console.log("done reading!");</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param stream stream to wrap</code></li>
<li class='green'><span class=''> </span><code> * @return {comb.Promise} a Promise is resolved if `"end"` is triggered before `"error"` or rejected if `"error"` is triggered.</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function promisfyStream(stream) {</code></li>
<li class='green'><span class='hits'>2</span><code>    var ret = new Promise(), called;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>2</span><code>    function errorHandler() {</code></li>
<li class='green'><span class='hits'>1</span><code>        if (!called) {</code></li>
<li class='green'><span class='hits'>1</span><code>            called = true;</code></li>
<li class='green'><span class='hits'>1</span><code>            spreadArgs(ret.errback, arguments, ret);</code></li>
<li class='green'><span class='hits'>1</span><code>            stream.removeListener("error", endHandler);</code></li>
<li class='green'><span class='hits'>1</span><code>            stream.removeListener("end", endHandler);</code></li>
<li class='green'><span class='hits'>1</span><code>            stream = ret = null;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>2</span><code>    function endHandler() {</code></li>
<li class='green'><span class='hits'>1</span><code>        if (!called) {</code></li>
<li class='green'><span class='hits'>1</span><code>            called = true;</code></li>
<li class='green'><span class='hits'>1</span><code>            spreadArgs(ret.callback, arguments, ret);</code></li>
<li class='green'><span class='hits'>1</span><code>            stream.removeListener("error", endHandler);</code></li>
<li class='green'><span class='hits'>1</span><code>            stream.removeListener("end", endHandler);</code></li>
<li class='green'><span class='hits'>1</span><code>            stream = ret = null;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>2</span><code>    stream.on("error", errorHandler).on("end", endHandler);</code></li>
<li class='green'><span class='hits'>2</span><code>    return ret.promise();</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Creates a new {@link comb.Promise} that is resolved with the given value.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * comb.resolved(1).chain(function(val){</code></li>
<li class='green'><span class=''> </span><code> *      //val === 1</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * If you give it a promise it will wait for the promise to resolve or error.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * comb.resolved(new comb.Promise().callback(1)).chain(function(val){</code></li>
<li class='green'><span class=''> </span><code> *      //val === 1</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param val - val to resolve with</code></li>
<li class='green'><span class=''> </span><code> * @returns {comb.Promise} a promisfied version of the value.</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function resolved(val) {</code></li>
<li class='green'><span class='hits'>5</span><code>    var ret = new Promise();</code></li>
<li class='green'><span class='hits'>5</span><code>    when(val).chain(ret.callback, ret.errback);</code></li>
<li class='green'><span class='hits'>5</span><code>    return ret.promise();</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Creates a new {@link comb.Promise} that is rejected with the given value.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * comb.resolved(new Error("error!")).chain(null, function(err){</code></li>
<li class='green'><span class=''> </span><code> *      console.error(err.stack);</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * If you give it a promise it will wait for the promise to resolve or error but with reject either way.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * comb.resolved(new comb.Promise().callback(1)).chain(null, function(err){</code></li>
<li class='green'><span class=''> </span><code> *      //err === 1</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param val - val to reject with</code></li>
<li class='green'><span class=''> </span><code> * @returns {comb.Promise} a rejected promise with the specified value.</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function rejected(val) {</code></li>
<li class='green'><span class='hits'>4</span><code>    var ret = new Promise();</code></li>
<li class='green'><span class='hits'>4</span><code>    when(val).chain(ret.errback, ret.errback);</code></li>
<li class='green'><span class='hits'>4</span><code>    return ret.promise();</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>base.merge(exports, {</code></li>
<li class='green'><span class=''> </span><code>    isPromiseLike: isPromiseLike,</code></li>
<li class='green'><span class=''> </span><code>    when: when,</code></li>
<li class='green'><span class=''> </span><code>    wrap: wrap,</code></li>
<li class='green'><span class=''> </span><code>    wait: wait,</code></li>
<li class='green'><span class=''> </span><code>    serial: serial,</code></li>
<li class='green'><span class=''> </span><code>    chain: chain,</code></li>
<li class='green'><span class=''> </span><code>    promisfyStream: promisfyStream,</code></li>
<li class='green'><span class=''> </span><code>    resolved: resolved,</code></li>
<li class='green'><span class=''> </span><code>    rejected: rejected,</code></li>
<li class='green'><span class=''> </span><code>    Promise: Promise,</code></li>
<li class='green'><span class=''> </span><code>    PromiseList: PromiseList</code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="define.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>define.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>96.49</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>603</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>171</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>6</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="define.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Used to keep track of classes and to create unique ids</code></li>
<li class='green'><span class=''> </span><code> * @ignore</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>var classCounter = 0, Base,</code></li>
<li class='green'><span class=''> </span><code>    _base = require("./base"),</code></li>
<li class='green'><span class=''> </span><code>    isHash = _base.isHash,</code></li>
<li class='green'><span class=''> </span><code>    isArray = _base.isArray,</code></li>
<li class='green'><span class=''> </span><code>    SUPER_REGEXP = /(super)/ig,</code></li>
<li class='green'><span class=''> </span><code>    invoke = _base.__spreadArgs;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function callSuper(args, a) {</code></li>
<li class='green'><span class='hits'>1243</span><code>    var meta = this.__meta,</code></li>
<li class='green'><span class=''> </span><code>        supers = meta.supers,</code></li>
<li class='green'><span class=''> </span><code>        l = supers.length, superMeta = meta.superMeta, pos = superMeta.pos;</code></li>
<li class='green'><span class='hits'>1243</span><code>    if (l &gt; pos) {</code></li>
<li class='green'><span class='hits'>1243</span><code>        a &amp;&amp; (args = a);</code></li>
<li class='green'><span class='hits'>1243</span><code>        var name = superMeta.name, f = superMeta.f, m;</code></li>
<li class='green'><span class='hits'>1243</span><code>        do {</code></li>
<li class='green'><span class='hits'>1243</span><code>            m = supers[pos][name];</code></li>
<li class='green'><span class='hits'>1243</span><code>            if ("function" === typeof m &amp;&amp; (m = m._f || m) !== f) {</code></li>
<li class='green'><span class='hits'>1239</span><code>                superMeta.pos = 1 + pos;</code></li>
<li class='green'><span class='hits'>1239</span><code>                return invoke(m, args, this);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        } while (l &gt; ++pos);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>4</span><code>    return null;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function getSuper() {</code></li>
<li class='green'><span class='hits'>2</span><code>    var meta = this.__meta,</code></li>
<li class='green'><span class=''> </span><code>        supers = meta.supers,</code></li>
<li class='green'><span class=''> </span><code>        l = supers.length, superMeta = meta.superMeta, pos = superMeta.pos;</code></li>
<li class='green'><span class='hits'>2</span><code>    if (l &gt; pos) {</code></li>
<li class='green'><span class='hits'>2</span><code>        var name = superMeta.name, f = superMeta.f, m;</code></li>
<li class='green'><span class='hits'>2</span><code>        do {</code></li>
<li class='green'><span class='hits'>3</span><code>            m = supers[pos][name];</code></li>
<li class='green'><span class='hits'>3</span><code>            if ("function" === typeof m &amp;&amp; (m = m._f || m) !== f) {</code></li>
<li class='green'><span class='hits'>1</span><code>                superMeta.pos = 1 + pos;</code></li>
<li class='green'><span class='hits'>1</span><code>                return m.bind(this);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        } while (l &gt; ++pos);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>1</span><code>    return null;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function defaultFunction() {</code></li>
<li class='green'><span class='hits'>287</span><code>    var meta = this.__meta || {},</code></li>
<li class='green'><span class=''> </span><code>        supers = meta.supers,</code></li>
<li class='green'><span class=''> </span><code>        l = supers.length, superMeta = meta.superMeta, pos = superMeta.pos;</code></li>
<li class='green'><span class='hits'>287</span><code>    if (l &gt; pos) {</code></li>
<li class='green'><span class='hits'>143</span><code>        var name = superMeta.name, f = superMeta.f, m;</code></li>
<li class='green'><span class='hits'>143</span><code>        do {</code></li>
<li class='green'><span class='hits'>223</span><code>            m = supers[pos][name];</code></li>
<li class='green'><span class='hits'>223</span><code>            if ("function" === typeof m &amp;&amp; (m = m._f || m) !== f) {</code></li>
<li class='green'><span class='hits'>96</span><code>                superMeta.pos = 1 + pos;</code></li>
<li class='green'><span class='hits'>96</span><code>                return invoke(m, arguments, this);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        } while (l &gt; ++pos);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>191</span><code>    return null;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function functionWrapper(f, name) {</code></li>
<li class='green'><span class='hits'>318</span><code>    if (f.toString().match(SUPER_REGEXP)) {</code></li>
<li class='green'><span class='hits'>104</span><code>        var wrapper = function () {</code></li>
<li class='green'><span class='hits'>2128</span><code>            var ret, meta = this.__meta || {};</code></li>
<li class='green'><span class='hits'>2128</span><code>            var orig = meta.superMeta;</code></li>
<li class='green'><span class='hits'>2128</span><code>            meta.superMeta = {f: f, pos: 0, name: name};</code></li>
<li class='green'><span class='hits'>2128</span><code>            ret = invoke(f, arguments, this);</code></li>
<li class='green'><span class='hits'>2128</span><code>            meta.superMeta = orig;</code></li>
<li class='green'><span class='hits'>2128</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        };</code></li>
<li class='green'><span class='hits'>104</span><code>        wrapper._f = f;</code></li>
<li class='green'><span class='hits'>104</span><code>        return wrapper;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>214</span><code>        f._f = f;</code></li>
<li class='green'><span class='hits'>214</span><code>        return f;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignore</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function defineMixinProps(child, proto) {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>34</span><code>    var operations = proto.setters || {};</code></li>
<li class='green'><span class='hits'>34</span><code>    for (var i in operations) {</code></li>
<li class='green'><span class='hits'>15</span><code>        if (!child.__lookupSetter__(i)) {  //make sure that the setter isnt already there</code></li>
<li class='green'><span class='hits'>15</span><code>            child.__defineSetter__(i, operations[i]);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>34</span><code>    operations = proto.getters || {};</code></li>
<li class='green'><span class='hits'>34</span><code>    for (i in operations) {</code></li>
<li class='green'><span class='hits'>15</span><code>        if (!child.__lookupGetter__(i)) {</code></li>
<li class='green'><span class=''> </span><code>            //define the getter if the child does not already have it</code></li>
<li class='green'><span class='hits'>15</span><code>            child.__defineGetter__(i, operations[i]);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>34</span><code>    for (var j in proto) {</code></li>
<li class='green'><span class='hits'>103</span><code>        if (j != "getters" &amp;&amp; j != "setters") {</code></li>
<li class='green'><span class='hits'>83</span><code>            var p = proto[j];</code></li>
<li class='green'><span class='hits'>83</span><code>            if ("function" === typeof p) {</code></li>
<li class='green'><span class='hits'>78</span><code>                if (!child.hasOwnProperty(j)) {</code></li>
<li class='green'><span class='hits'>10</span><code>                    child[j] = functionWrapper(defaultFunction, j);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>5</span><code>                child[j] = p;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignore</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function mixin() {</code></li>
<li class='green'><span class='hits'>7</span><code>    var args = Array.prototype.slice.call(arguments), l = args.length;</code></li>
<li class='green'><span class='hits'>7</span><code>    var child = this.prototype, childMeta = child.__meta, thisMeta = this.__meta, bases = child.__meta.bases, staticBases = bases.slice(),</code></li>
<li class='green'><span class=''> </span><code>        staticSupers = thisMeta.supers || [], supers = childMeta.supers || [];</code></li>
<li class='green'><span class='hits'>7</span><code>    for (var i = 0; i &lt; l; i++) {</code></li>
<li class='green'><span class='hits'>17</span><code>        var m = args[i], mProto = m.prototype;</code></li>
<li class='green'><span class='hits'>17</span><code>        var protoMeta = mProto.__meta, meta = m.__meta;</code></li>
<li class='green'><span class='hits'>17</span><code>        if (!protoMeta) {</code></li>
<li class='red'><span class='nohits'>0</span><code>            protoMeta = {proto: mProto || {}};</code></li>
<li class='red'><span class='nohits'>0</span><code>            Object.defineProperty(mProto, "__meta", {</code></li>
<li class='green'><span class=''> </span><code>                enumerable: false,</code></li>
<li class='green'><span class=''> </span><code>                value: protoMeta</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>17</span><code>        if (!meta) {</code></li>
<li class='red'><span class='nohits'>0</span><code>            meta = {proto: m["__proto__"] || {}};</code></li>
<li class='red'><span class='nohits'>0</span><code>            Object.defineProperty(m, "__meta", {</code></li>
<li class='green'><span class=''> </span><code>                enumerable: false,</code></li>
<li class='green'><span class=''> </span><code>                value: protoMeta</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>17</span><code>        defineMixinProps(child, protoMeta.proto || {});</code></li>
<li class='green'><span class='hits'>17</span><code>        defineMixinProps(this, meta.proto || {});</code></li>
<li class='green'><span class=''> </span><code>        //copy the bases for static,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>17</span><code>        mixinSupers(m.prototype, supers, bases);</code></li>
<li class='green'><span class='hits'>17</span><code>        mixinSupers(m, staticSupers, staticBases);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>7</span><code>    return this;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignore</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function mixinSupers(sup, arr, bases) {</code></li>
<li class='green'><span class='hits'>386</span><code>    var meta = sup.__meta;</code></li>
<li class='green'><span class='hits'>386</span><code>    if (!meta) {</code></li>
<li class='red'><span class='nohits'>0</span><code>        meta = {};</code></li>
<li class='red'><span class='nohits'>0</span><code>        Object.defineProperty(sup, "__meta", {</code></li>
<li class='green'><span class=''> </span><code>            enumerable: false,</code></li>
<li class='green'><span class=''> </span><code>            value: meta</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>386</span><code>    var unique = sup.__meta.unique;</code></li>
<li class='green'><span class='hits'>386</span><code>    !unique &amp;&amp; (meta.unique = "define" + ++classCounter);</code></li>
<li class='green'><span class=''> </span><code>    //check it we already have this super mixed into our prototype chain</code></li>
<li class='green'><span class=''> </span><code>    //if true then we have already looped their supers!</code></li>
<li class='green'><span class='hits'>386</span><code>    if (bases.indexOf(unique) == -1) {</code></li>
<li class='green'><span class=''> </span><code>        //add their id to our bases</code></li>
<li class='green'><span class='hits'>234</span><code>        bases.push(unique);</code></li>
<li class='green'><span class='hits'>234</span><code>        var supers = sup.__meta.supers || [], i = supers.length - 1 || 0;</code></li>
<li class='green'><span class='hits'>234</span><code>        while (i &gt;= 0) {</code></li>
<li class='green'><span class='hits'>258</span><code>            mixinSupers(supers[i--], arr, bases);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>234</span><code>        arr.unshift(sup);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignore</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function defineProps(child, proto) {</code></li>
<li class='green'><span class='hits'>92</span><code>    var operations = proto.setters;</code></li>
<li class='green'><span class='hits'>92</span><code>    if (operations) {</code></li>
<li class='green'><span class='hits'>8</span><code>        for (var i in operations) {</code></li>
<li class='green'><span class='hits'>13</span><code>            child.__defineSetter__(i, operations[i]);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>92</span><code>    operations = proto.getters || {};</code></li>
<li class='green'><span class='hits'>92</span><code>    if (operations) {</code></li>
<li class='green'><span class='hits'>92</span><code>        for (i in operations) {</code></li>
<li class='green'><span class='hits'>47</span><code>            child.__defineGetter__(i, operations[i]);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>92</span><code>    for (i in proto) {</code></li>
<li class='green'><span class='hits'>359</span><code>        if (i != "getters" &amp;&amp; i != "setters") {</code></li>
<li class='green'><span class='hits'>338</span><code>            var f = proto[i];</code></li>
<li class='green'><span class='hits'>338</span><code>            if ("function" === typeof f) {</code></li>
<li class='green'><span class='hits'>305</span><code>                var meta = f.__meta || {};</code></li>
<li class='green'><span class='hits'>305</span><code>                if (!meta.isConstructor) {</code></li>
<li class='green'><span class='hits'>304</span><code>                    child[i] = functionWrapper(f, i);</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                    child[i] = f;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>33</span><code>                child[i] = f;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function _export(obj, name) {</code></li>
<li class='green'><span class='hits'>11</span><code>    if (obj &amp;&amp; name) {</code></li>
<li class='green'><span class='hits'>2</span><code>        obj[name] = this;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>9</span><code>        obj.exports = obj = this;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>11</span><code>    return this;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function extend(proto) {</code></li>
<li class='green'><span class='hits'>7</span><code>    return define(this, proto);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignore</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function __define(child, sup, proto) {</code></li>
<li class='green'><span class='hits'>48</span><code>    var childProto = child.prototype, supers = [];</code></li>
<li class='green'><span class='hits'>48</span><code>    var unique = "define" + ++classCounter, bases = [], staticBases = [];</code></li>
<li class='green'><span class='hits'>48</span><code>    var instanceSupers = [], staticSupers = [];</code></li>
<li class='green'><span class='hits'>48</span><code>    var meta = {</code></li>
<li class='green'><span class=''> </span><code>        supers: instanceSupers,</code></li>
<li class='green'><span class=''> </span><code>        unique: unique,</code></li>
<li class='green'><span class=''> </span><code>        bases: bases,</code></li>
<li class='green'><span class=''> </span><code>        superMeta: {</code></li>
<li class='green'><span class=''> </span><code>            f: null,</code></li>
<li class='green'><span class=''> </span><code>            pos: 0,</code></li>
<li class='green'><span class=''> </span><code>            name: null</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    };</code></li>
<li class='green'><span class='hits'>48</span><code>    Object.defineProperty(childProto, "__meta", {</code></li>
<li class='green'><span class=''> </span><code>        enumerable: false,</code></li>
<li class='green'><span class=''> </span><code>        value: meta</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>48</span><code>    var childMeta = {</code></li>
<li class='green'><span class=''> </span><code>        supers: staticSupers,</code></li>
<li class='green'><span class=''> </span><code>        unique: unique,</code></li>
<li class='green'><span class=''> </span><code>        bases: staticBases,</code></li>
<li class='green'><span class=''> </span><code>        isConstructor: true,</code></li>
<li class='green'><span class=''> </span><code>        superMeta: {</code></li>
<li class='green'><span class=''> </span><code>            f: null,</code></li>
<li class='green'><span class=''> </span><code>            pos: 0,</code></li>
<li class='green'><span class=''> </span><code>            name: null</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    };</code></li>
<li class='green'><span class='hits'>48</span><code>    Object.defineProperty(child, "__meta", {</code></li>
<li class='green'><span class=''> </span><code>        enumerable: false,</code></li>
<li class='green'><span class=''> </span><code>        value: childMeta</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>48</span><code>    if ((isHash(sup) &amp;&amp; !proto)) {</code></li>
<li class='green'><span class='hits'>2</span><code>        proto = sup;</code></li>
<li class='green'><span class='hits'>2</span><code>        sup = Base;</code></li>
<li class='green'><span class='hits'>46</span><code>    } else if ((!sup &amp;&amp; isHash(proto))) {</code></li>
<li class='green'><span class='hits'>14</span><code>        sup = Base;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>48</span><code>    if ("function" === typeof sup || isArray(sup)) {</code></li>
<li class='green'><span class='hits'>47</span><code>        supers = isArray(sup) ? sup : [sup];</code></li>
<li class='green'><span class='hits'>47</span><code>        sup = supers.shift();</code></li>
<li class='green'><span class='hits'>47</span><code>        child.__proto__ = sup;</code></li>
<li class='green'><span class='hits'>47</span><code>        childProto.__proto__ = sup.prototype;</code></li>
<li class='green'><span class='hits'>47</span><code>        mixinSupers(sup.prototype, instanceSupers, bases),</code></li>
<li class='green'><span class=''> </span><code>            mixinSupers(sup, staticSupers, staticBases);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>48</span><code>    if (proto) {</code></li>
<li class='green'><span class='hits'>46</span><code>        var instance = meta.proto = proto.instance || {};</code></li>
<li class='green'><span class='hits'>46</span><code>        !instance.hasOwnProperty("constructor") &amp;&amp; (instance.constructor = defaultFunction);</code></li>
<li class='green'><span class='hits'>46</span><code>        var stat = childMeta.proto = proto.static || {};</code></li>
<li class='green'><span class='hits'>46</span><code>        stat.init = stat.init || defaultFunction;</code></li>
<li class='green'><span class='hits'>46</span><code>        defineProps(childProto, instance, false);</code></li>
<li class='green'><span class='hits'>46</span><code>        defineProps(child, stat, true);</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>2</span><code>        meta.proto = {};</code></li>
<li class='green'><span class='hits'>2</span><code>        childMeta.proto = {};</code></li>
<li class='green'><span class='hits'>2</span><code>        child.init = functionWrapper(defaultFunction, "init");</code></li>
<li class='green'><span class='hits'>2</span><code>        childProto.constructor = functionWrapper(defaultFunction, "constructor");</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>48</span><code>    if (supers.length) {</code></li>
<li class='green'><span class='hits'>7</span><code>        invoke(mixin, supers, child);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>48</span><code>    Object.defineProperty(childProto, "_super", {</code></li>
<li class='green'><span class=''> </span><code>        enumerable: false,</code></li>
<li class='green'><span class=''> </span><code>        value: callSuper</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>48</span><code>    Object.defineProperty(child, "_super", {</code></li>
<li class='green'><span class=''> </span><code>        enumerable: false,</code></li>
<li class='green'><span class=''> </span><code>        value: callSuper</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>48</span><code>    Object.defineProperty(child, "_getSuper", {</code></li>
<li class='green'><span class=''> </span><code>        enumerable: false,</code></li>
<li class='green'><span class=''> </span><code>        value: getSuper</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>48</span><code>    Object.defineProperty(childProto, "_getSuper", {</code></li>
<li class='green'><span class=''> </span><code>        enumerable: false,</code></li>
<li class='green'><span class=''> </span><code>        value: getSuper</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>48</span><code>    Object.defineProperty(childProto, "_static", {</code></li>
<li class='green'><span class=''> </span><code>        enumerable: false,</code></li>
<li class='green'><span class=''> </span><code>        value: child</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function define(sup, proto) {</code></li>
<li class='green'><span class='hits'>45</span><code>    function defineConstructor() {</code></li>
<li class='green'><span class='hits'>2876</span><code>        invoke(this.constructor, arguments, this);</code></li>
<li class='green'><span class='hits'>2875</span><code>        sup = proto = null;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>45</span><code>    __define(defineConstructor, sup, proto);</code></li>
<li class='green'><span class='hits'>45</span><code>    return defineConstructor.init() || defineConstructor;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function singleton(sup, proto) {</code></li>
<li class='green'><span class='hits'>3</span><code>    var retInstance;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>3</span><code>    function singletonConstructor() {</code></li>
<li class='green'><span class='hits'>6</span><code>        if (!retInstance) {</code></li>
<li class='green'><span class='hits'>2</span><code>            invoke(this.constructor, arguments, this);</code></li>
<li class='green'><span class='hits'>2</span><code>            retInstance = this;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>6</span><code>        return retInstance;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>3</span><code>    __define(singletonConstructor, sup, proto);</code></li>
<li class='green'><span class='hits'>3</span><code>    return  singletonConstructor.init() || singletonConstructor;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>Base = define({</code></li>
<li class='green'><span class=''> </span><code>    instance: {},</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    "static": {</code></li>
<li class='green'><span class=''> </span><code>        mixin: mixin,</code></li>
<li class='green'><span class=''> </span><code>        extend: extend,</code></li>
<li class='green'><span class=''> </span><code>        as: _export</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Defines a new class to be used</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * &lt;p&gt;</code></li>
<li class='green'><span class=''> </span><code> *     Class methods</code></li>
<li class='green'><span class=''> </span><code> *     &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *         &lt;li&gt;as(module | object, name): exports the object to module or the object with the name&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *         &lt;li&gt;mixin(mixin) : mixes in an object&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code> *     Instance methods</code></li>
<li class='green'><span class=''> </span><code> *     &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *         &lt;li&gt;_super(argumnents, [?newargs]): calls the super of the current method&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *      &lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code> *     Instance properties</code></li>
<li class='green'><span class=''> </span><code> *     &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *         &lt;li&gt;_static: use to reference class properties and methods&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * &lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *  //Class without a super class</code></li>
<li class='green'><span class=''> </span><code> * var Mammal = comb.define(null, {</code></li>
<li class='green'><span class=''> </span><code> *      instance : {</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *          constructor: function(options) {</code></li>
<li class='green'><span class=''> </span><code> *              options = options || {};</code></li>
<li class='green'><span class=''> </span><code> *              this._super(arguments);</code></li>
<li class='green'><span class=''> </span><code> *              this._type = options.type || "mammal";</code></li>
<li class='green'><span class=''> </span><code> *          },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *          speak : function() {</code></li>
<li class='green'><span class=''> </span><code> *              return  "A mammal of type " + this._type + " sounds like";</code></li>
<li class='green'><span class=''> </span><code> *          },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *          //Define your getters</code></li>
<li class='green'><span class=''> </span><code> *          getters : {</code></li>
<li class='green'><span class=''> </span><code> *              type : function() {</code></li>
<li class='green'><span class=''> </span><code> *                  return this._type;</code></li>
<li class='green'><span class=''> </span><code> *              }</code></li>
<li class='green'><span class=''> </span><code> *          },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *           //Define your setters</code></li>
<li class='green'><span class=''> </span><code> *          setters : {</code></li>
<li class='green'><span class=''> </span><code> *              type : function(t) {</code></li>
<li class='green'><span class=''> </span><code> *                  this._type = t;</code></li>
<li class='green'><span class=''> </span><code> *              }</code></li>
<li class='green'><span class=''> </span><code> *          }</code></li>
<li class='green'><span class=''> </span><code> *      },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *      //Define your static methods</code></li>
<li class='green'><span class=''> </span><code> *      static : {</code></li>
<li class='green'><span class=''> </span><code> *          soundOff : function() {</code></li>
<li class='green'><span class=''> </span><code> *              return "Im a mammal!!";</code></li>
<li class='green'><span class=''> </span><code> *          }</code></li>
<li class='green'><span class=''> </span><code> *      }</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //Show singular inheritance</code></li>
<li class='green'><span class=''> </span><code> *var Wolf = comb.define(Mammal, {</code></li>
<li class='green'><span class=''> </span><code> *   instance: {</code></li>
<li class='green'><span class=''> </span><code> *       constructor: function(options) {</code></li>
<li class='green'><span class=''> </span><code> *          options = options || {};</code></li>
<li class='green'><span class=''> </span><code> *          //You can call your super constructor, or you may not</code></li>
<li class='green'><span class=''> </span><code> *          //call it to prevent the super initializing parameters</code></li>
<li class='green'><span class=''> </span><code> *          this._super(arguments);</code></li>
<li class='green'><span class=''> </span><code> *          this._sound = "growl";</code></li>
<li class='green'><span class=''> </span><code> *          this._color = options.color || "grey";</code></li>
<li class='green'><span class=''> </span><code> *      },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *      speak : function() {</code></li>
<li class='green'><span class=''> </span><code> *          //override my super classes speak</code></li>
<li class='green'><span class=''> </span><code> *          //Should return "A mammal of type mammal sounds like a growl"</code></li>
<li class='green'><span class=''> </span><code> *          return this._super(arguments) + " a " + this._sound;</code></li>
<li class='green'><span class=''> </span><code> *      },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *      //add new getters for sound and color</code></li>
<li class='green'><span class=''> </span><code> *      getters : {</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *          color : function() {</code></li>
<li class='green'><span class=''> </span><code> *              return this._color;</code></li>
<li class='green'><span class=''> </span><code> *          },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *          sound : function() {</code></li>
<li class='green'><span class=''> </span><code> *              return this._sound;</code></li>
<li class='green'><span class=''> </span><code> *          }</code></li>
<li class='green'><span class=''> </span><code> *      },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *      setters : {</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *          //NOTE color is read only except on initialization</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *          sound : function(s) {</code></li>
<li class='green'><span class=''> </span><code> *              this._sound = s;</code></li>
<li class='green'><span class=''> </span><code> *          }</code></li>
<li class='green'><span class=''> </span><code> *      }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  static : {</code></li>
<li class='green'><span class=''> </span><code> *      //override my satic soundOff</code></li>
<li class='green'><span class=''> </span><code> *      soundOff : function() {</code></li>
<li class='green'><span class=''> </span><code> *          //You can even call super in your statics!!!</code></li>
<li class='green'><span class=''> </span><code> *          //should return "I'm a mammal!! that growls"</code></li>
<li class='green'><span class=''> </span><code> *          return this._super(arguments) + " that growls";</code></li>
<li class='green'><span class=''> </span><code> *      }</code></li>
<li class='green'><span class=''> </span><code> *  }</code></li>
<li class='green'><span class=''> </span><code> *});</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //Typical hierarchical inheritance</code></li>
<li class='green'><span class=''> </span><code> * // Mammal-&gt;Wolf-&gt;Dog</code></li>
<li class='green'><span class=''> </span><code> * var Dog = comb.define(Wolf, {</code></li>
<li class='green'><span class=''> </span><code> *    instance: {</code></li>
<li class='green'><span class=''> </span><code> *        constructor: function(options) {</code></li>
<li class='green'><span class=''> </span><code> *            options = options || {};</code></li>
<li class='green'><span class=''> </span><code> *            this._super(arguments);</code></li>
<li class='green'><span class=''> </span><code> *            //override Wolfs initialization of sound to woof.</code></li>
<li class='green'><span class=''> </span><code> *            this._sound = "woof";</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *        },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *        speak : function() {</code></li>
<li class='green'><span class=''> </span><code> *            //Should return "A mammal of type mammal sounds like a growl thats domesticated"</code></li>
<li class='green'><span class=''> </span><code> *            return this._super(arguments) + " thats domesticated";</code></li>
<li class='green'><span class=''> </span><code> *        }</code></li>
<li class='green'><span class=''> </span><code> *    },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *    static : {</code></li>
<li class='green'><span class=''> </span><code> *        soundOff : function() {</code></li>
<li class='green'><span class=''> </span><code> *            //should return "I'm a mammal!! that growls but now barks"</code></li>
<li class='green'><span class=''> </span><code> *            return this._super(arguments) + " but now barks";</code></li>
<li class='green'><span class=''> </span><code> *        }</code></li>
<li class='green'><span class=''> </span><code> *    }</code></li>
<li class='green'><span class=''> </span><code> *});</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * dog instanceof Wolf =&gt; true</code></li>
<li class='green'><span class=''> </span><code> * dog instanceof Mammal =&gt; true</code></li>
<li class='green'><span class=''> </span><code> * dog.speak() =&gt; "A mammal of type mammal sounds like a woof thats domesticated"</code></li>
<li class='green'><span class=''> </span><code> * dog.type =&gt; "mammal"</code></li>
<li class='green'><span class=''> </span><code> * dog.color =&gt; "gold"</code></li>
<li class='green'><span class=''> </span><code> * dog.sound =&gt; "woof"</code></li>
<li class='green'><span class=''> </span><code> * Dog.soundOff() =&gt; "Im a mammal!! that growls but now barks"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * // Mammal-&gt;Wolf-&gt;Dog-&gt;Breed</code></li>
<li class='green'><span class=''> </span><code> *var Breed = comb.define(Dog, {</code></li>
<li class='green'><span class=''> </span><code> *    instance: {</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *        //initialize outside of constructor</code></li>
<li class='green'><span class=''> </span><code> *        _pitch : "high",</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *        constructor: function(options) {</code></li>
<li class='green'><span class=''> </span><code> *            options = options || {};</code></li>
<li class='green'><span class=''> </span><code> *            this._super(arguments);</code></li>
<li class='green'><span class=''> </span><code> *            this.breed = options.breed || "lab";</code></li>
<li class='green'><span class=''> </span><code> *        },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *        speak : function() {</code></li>
<li class='green'><span class=''> </span><code> *            //Should return "A mammal of type mammal sounds like a</code></li>
<li class='green'><span class=''> </span><code> *            //growl thats domesticated with a high pitch!"</code></li>
<li class='green'><span class=''> </span><code> *            return this._super(arguments) + " with a " + this._pitch + " pitch!";</code></li>
<li class='green'><span class=''> </span><code> *        },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *        getters : {</code></li>
<li class='green'><span class=''> </span><code> *            pitch : function() {</code></li>
<li class='green'><span class=''> </span><code> *                return this._pitch;</code></li>
<li class='green'><span class=''> </span><code> *            }</code></li>
<li class='green'><span class=''> </span><code> *        }</code></li>
<li class='green'><span class=''> </span><code> *    },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *    static : {</code></li>
<li class='green'><span class=''> </span><code> *        soundOff : function() {</code></li>
<li class='green'><span class=''> </span><code> *            //should return "I'M A MAMMAL!! THAT GROWLS BUT NOW BARKS!"</code></li>
<li class='green'><span class=''> </span><code> *            return this._super(arguments).toUpperCase() + "!";</code></li>
<li class='green'><span class=''> </span><code> *        }</code></li>
<li class='green'><span class=''> </span><code> *    }</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var breed = new Breed({color : "gold", type : "lab"}),</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * breed instanceof Dog =&gt; true</code></li>
<li class='green'><span class=''> </span><code> * breed instanceof Wolf =&gt; true</code></li>
<li class='green'><span class=''> </span><code> * breed instanceof Mammal =&gt; true</code></li>
<li class='green'><span class=''> </span><code> * breed.speak() =&gt; "A mammal of type lab sounds like a woof "</code></li>
<li class='green'><span class=''> </span><code> *                  + "thats domesticated with a high pitch!"</code></li>
<li class='green'><span class=''> </span><code> * breed.type =&gt; "lab"</code></li>
<li class='green'><span class=''> </span><code> * breed.color =&gt; "gold"</code></li>
<li class='green'><span class=''> </span><code> * breed.sound =&gt; "woof"</code></li>
<li class='green'><span class=''> </span><code> * breed.soundOff() =&gt; "IM A MAMMAL!! THAT GROWLS BUT NOW BARKS!"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  //Example of multiple inheritance</code></li>
<li class='green'><span class=''> </span><code> *  //NOTE proto is optional</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  //Mammal is super class</code></li>
<li class='green'><span class=''> </span><code> *  //Wolf Dog and Breed inject functionality into the prototype</code></li>
<li class='green'><span class=''> </span><code> * var Lab = comb.define([Mammal, Wolf, Dog, Breed]);</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var lab = new Lab();</code></li>
<li class='green'><span class=''> </span><code> * lab instanceof Wolf =&gt; false</code></li>
<li class='green'><span class=''> </span><code> * lab instanceof Dog =&gt; false</code></li>
<li class='green'><span class=''> </span><code> * lab instanceof Breed =&gt; false</code></li>
<li class='green'><span class=''> </span><code> * lab instanceof Mammal =&gt; true</code></li>
<li class='green'><span class=''> </span><code> * lab.speak() =&gt; "A mammal of type mammal sounds like a"</code></li>
<li class='green'><span class=''> </span><code> *                + " woof thats domesticated with a high pitch!"</code></li>
<li class='green'><span class=''> </span><code> * Lab.soundOff() =&gt; "IM A MAMMAL!! THAT GROWLS BUT NOW BARKS!"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @name define</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Array|Class} super the supers of this class</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [proto] the object used to define this class</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [proto.instance] the instance methods of the class</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [proto.instance.getters] the getters for the class</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [proto.instance.setters] the setters for the class</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [proto.static] the Class level methods of this class</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [proto.static.getters] static getters for the object</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [proto.static.setters] static setters for the object</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Object} the constructor of the class to be used with new keyword</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>exports.define = define;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Defines a singleton instance of a Class. See {@link define}</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *  var MyLab = comb.singleton([Mammal, Wolf, Dog, Breed]);</code></li>
<li class='green'><span class=''> </span><code> *  var myLab1 = new MyLab();</code></li>
<li class='green'><span class=''> </span><code> *  myLab1.type = "collie"</code></li>
<li class='green'><span class=''> </span><code> *  var myLab2 = new MyLab();</code></li>
<li class='green'><span class=''> </span><code> *  myLab1 === myLab2 =&gt; true</code></li>
<li class='green'><span class=''> </span><code> *  myLab1.type =&gt; "collie"</code></li>
<li class='green'><span class=''> </span><code> *  myLab2.type =&gt; "collie"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @name singleton</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>exports.singleton = singleton;</code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="base/string.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>base/string.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>98.06</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>546</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>155</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>3</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="base/string.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var comb = exports, date,</code></li>
<li class='green'><span class=''> </span><code>    misc = require("./misc"),</code></li>
<li class='green'><span class=''> </span><code>    object = require("./object"),</code></li>
<li class='green'><span class=''> </span><code>    round = require("./number").number.round,</code></li>
<li class='green'><span class=''> </span><code>    isHash = object.isHash,</code></li>
<li class='green'><span class=''> </span><code>    pSlice = Array.prototype.slice,</code></li>
<li class='green'><span class=''> </span><code>    toStr = Object.prototype.toString,</code></li>
<li class='green'><span class=''> </span><code>    abs = Math.abs;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function getDate() {</code></li>
<li class='green'><span class='hits'>70</span><code>    return (date || (date = require("./date")));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Truncates a string to the specified length.</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //from the beginning</code></li>
<li class='green'><span class=''> </span><code> * comb.string.truncate("abcdefg", 3) =&gt; "abc";</code></li>
<li class='green'><span class=''> </span><code> * //from the end</code></li>
<li class='green'><span class=''> </span><code> * comb.string.truncate("abcdefg", 3,true) =&gt; "efg"</code></li>
<li class='green'><span class=''> </span><code> * //omit the length</code></li>
<li class='green'><span class=''> </span><code> * comb.string.truncate("abcdefg") =&gt; "abcdefg"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {String} string the string to truncate</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} [length = -1] the max length of the string, if the string is</code></li>
<li class='green'><span class=''> </span><code> *                              shorter than the length then the string is returned.</code></li>
<li class='green'><span class=''> </span><code> * @param {Boolean} [end=false] truncate starting at the end of the string</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {String} the truncated string.</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.string</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function truncate(string, length, end) {</code></li>
<li class='green'><span class='hits'>46</span><code>    var ret = string;</code></li>
<li class='green'><span class='hits'>46</span><code>    if (comb.isString(ret)) {</code></li>
<li class='green'><span class='hits'>44</span><code>        if (string.length &gt; length) {</code></li>
<li class='green'><span class='hits'>27</span><code>            if (end) {</code></li>
<li class='green'><span class='hits'>8</span><code>                var l = string.length;</code></li>
<li class='green'><span class='hits'>8</span><code>                ret = string.substring(l - length, l);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>19</span><code>                ret = string.substring(0, length);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>2</span><code>        ret = truncate("" + ret, length);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>46</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Escapes an HTML string by replacing &lt;&gt;&amp;" characters.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * comb.string.escapeHtml('&lt;script&gt;alert("test")&lt;/script&gt;'); // &amp;lt;script&amp;gt;alert("test")&amp;lt;/script&amp;gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {String} str The string to escape.</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.string</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function escapeHtml(str) {</code></li>
<li class='green'><span class='hits'>1</span><code>    return String(str)</code></li>
<li class='green'><span class=''> </span><code>        .replace(/&amp;/g, '&amp;amp;')</code></li>
<li class='green'><span class=''> </span><code>        .replace(/&lt;/g, '&amp;lt;')</code></li>
<li class='green'><span class=''> </span><code>        .replace(/&gt;/g, '&amp;gt;')</code></li>
<li class='green'><span class=''> </span><code>        .replace(/"/g, '&amp;quot;')</code></li>
<li class='green'><span class=''> </span><code>        .replace(/'/g, '&amp;#39;');</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Pads a string</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.string.pad("STR", 5, " ", true) =&gt; "STR  "</code></li>
<li class='green'><span class=''> </span><code> * comb.string.pad("STR", 5, "$") =&gt; "$$STR"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {String} string the string to pad</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} length the length of the string when padded</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [ch= " "] character to pad the string with</code></li>
<li class='green'><span class=''> </span><code> * @param {Boolean} [end=false] if true then the padding is added to the end</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {String} the padded string</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.string</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function pad(string, length, ch, end) {</code></li>
<li class='green'><span class='hits'>376</span><code>    string = "" + string; //check for numbers</code></li>
<li class='green'><span class='hits'>376</span><code>    ch = ch || " ";</code></li>
<li class='green'><span class='hits'>376</span><code>    var strLen = string.length;</code></li>
<li class='green'><span class='hits'>376</span><code>    while (strLen &lt; length) {</code></li>
<li class='green'><span class='hits'>306</span><code>        if (end) {</code></li>
<li class='green'><span class='hits'>158</span><code>            string += ch;</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>148</span><code>            string = ch + string;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>306</span><code>        strLen++;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>376</span><code>    return string;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Tests if something is a string.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.isString("true") //true</code></li>
<li class='green'><span class=''> </span><code> * comb.isString(true) //false</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param obj the thing to test</code></li>
<li class='green'><span class=''> </span><code> * @return {Boolean} returns true if the argument is a string.</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isString(obj) {</code></li>
<li class='green'><span class='hits'>36117</span><code>    return toStr.call(obj) === '[object String]';</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>comb.isString = isString;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var FORMAT_REGEX = /%((?:-?[\+| ]?.?\d*(?:\.\d+)*)?|(?:\[[^\[|\]]*\]))?([sjdDZ])/g;</code></li>
<li class='green'><span class='hits'>1</span><code>var INTERP_REGEX = /{(?:\[([^\[|\]]*)\])?(\w+)}/g;</code></li>
<li class='green'><span class='hits'>1</span><code>var STR_FORMAT = /(-?)(\+?)([A-Z|a-z|\W]?)([1-9][0-9]*)?$/;</code></li>
<li class='green'><span class='hits'>1</span><code>var NUMBER_FORMAT = /(-?)([\+| ]?)([^\.1-9])?([1-9][0-9]*)?(\.[1-9][0-9]*)?$/;</code></li>
<li class='green'><span class='hits'>1</span><code>var OBJECT_FORMAT = /([1-9][0-9]*)$/g;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function formatString(string, format) {</code></li>
<li class='green'><span class='hits'>64</span><code>    var match = format.match(STR_FORMAT), ret = string;</code></li>
<li class='green'><span class='hits'>64</span><code>    if (match) {</code></li>
<li class='green'><span class='hits'>64</span><code>        var isLeftJustified = match[1], padChar = match[3], width = match[4];</code></li>
<li class='green'><span class='hits'>64</span><code>        if (width) {</code></li>
<li class='green'><span class='hits'>64</span><code>            width = parseInt(width, 10);</code></li>
<li class='green'><span class='hits'>64</span><code>            if (ret.length &lt; width) {</code></li>
<li class='green'><span class='hits'>35</span><code>                ret = pad(ret, width, padChar, isLeftJustified);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>29</span><code>                ret = truncate(ret, width);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>64</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function formatNumber(number, format) {</code></li>
<li class='green'><span class='hits'>37</span><code>    var ret = "";</code></li>
<li class='green'><span class='hits'>37</span><code>    if (typeof number === "number") {</code></li>
<li class='green'><span class='hits'>35</span><code>        ret = "" + abs(number);</code></li>
<li class='green'><span class='hits'>35</span><code>        var match = format.match(NUMBER_FORMAT);</code></li>
<li class='green'><span class='hits'>35</span><code>        if (match) {</code></li>
<li class='green'><span class='hits'>35</span><code>            var isLeftJustified = match[1], signed = (number &lt; 0 ? '-' : match[2]), padChar = match[3] || ' ', width = match[4], precision = match[5];</code></li>
<li class='green'><span class='hits'>35</span><code>            if (precision) {</code></li>
<li class='green'><span class='hits'>12</span><code>                precision = parseInt(precision.replace(/^\./, ""), 10);</code></li>
<li class='green'><span class='hits'>12</span><code>                ret = round(abs(number), precision) + "";</code></li>
<li class='green'><span class=''> </span><code>                //check and ensure we have padding zeros</code></li>
<li class='green'><span class='hits'>12</span><code>                var split = ret.split(".");</code></li>
<li class='green'><span class='hits'>12</span><code>                if (split.length === 1) {</code></li>
<li class='green'><span class='hits'>12</span><code>                    ret = [split[0], pad("0", precision, "0", true)].join(".");</code></li>
<li class='red'><span class='nohits'>0</span><code>                } else if (split[1].length &lt; precision) {</code></li>
<li class='red'><span class='nohits'>0</span><code>                    ret = [split[0], pad(split[1], precision, "0", true)].join(".");</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>35</span><code>            if (padChar === ' ') {</code></li>
<li class='green'><span class='hits'>27</span><code>                ret = signed + ret;</code></li>
<li class='green'><span class='hits'>27</span><code>                signed = false;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>35</span><code>            if (width) {</code></li>
<li class='green'><span class='hits'>26</span><code>                width = parseInt(width, 10);</code></li>
<li class='green'><span class='hits'>26</span><code>                if (signed) {</code></li>
<li class='green'><span class='hits'>6</span><code>                    width--;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>26</span><code>                if (ret.length &lt; width) {</code></li>
<li class='green'><span class='hits'>23</span><code>                    ret = pad(ret, width, padChar || " ", isLeftJustified);</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>3</span><code>                    ret = truncate(ret, width);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>35</span><code>            if (signed) {</code></li>
<li class='green'><span class='hits'>6</span><code>                ret = signed + ret;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>2</span><code>        throw new Error("comb.string.format : when using %d the parameter must be a number!");</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>35</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function formatObject(object, format) {</code></li>
<li class='green'><span class='hits'>8</span><code>    var ret, match = format.match(OBJECT_FORMAT), spacing = 0;</code></li>
<li class='green'><span class='hits'>8</span><code>    if (match) {</code></li>
<li class='green'><span class='hits'>8</span><code>        spacing = parseInt(match[0], 10);</code></li>
<li class='green'><span class='hits'>8</span><code>        if (isNaN(spacing)) {</code></li>
<li class='red'><span class='nohits'>0</span><code>            spacing = 0;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>8</span><code>    try {</code></li>
<li class='green'><span class='hits'>8</span><code>        ret = JSON.stringify(object, null, spacing);</code></li>
<li class='green'><span class=''> </span><code>    } catch (e) {</code></li>
<li class='green'><span class='hits'>2</span><code>        throw new Error("comb.string.format : Unable to parse json from ", object);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>6</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Formats a string with the specified format</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * Format `String`s</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format("%s", "Hello"); // "Hello"</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format("%10s", "Hello"); // "     Hello"</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format("%-10s", "Hello"); // ""Hello     ""</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%.10s', "Hello"); //".....Hello"</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%-!10s', "Hello"); //"Hello!!!!!"</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format("%-.10s%s!", "Hello", "World"); //"Hello.....World!"</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * Formatting Numbers</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%d', 10); //"10"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //setting precision</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%.2d', 10); //"10.00"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //specifying width</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%5d', 10); //"   10"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //Signed</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%+d', 10);  //"+10"</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%+d', -10); //"-10"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('% d', 10);  //" 10"</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('% d', -10); //"-10"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //width</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%5d', 10); //"   10"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //width and precision</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%6.2d', 10); //" 10.00"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //signed, width and precision</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%+ 7.2d', 10);  //" +10.00"</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%+ 7.2d', -10); //" -10.00"</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%+07.2d', 10);  //"+010.00"</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%+07.2d', -10); //"-010.00"</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%  7.2d', 10);  //"  10.00"</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%  7.2d', -10); //" -10.00"</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('% 7.2d', 10);   //"  10.00"</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('% 7.2d', -10);  //" -10.00"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //use a 0 as padding</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%010d', 10); //"0000000010"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //use an ! as padding</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%!10d', 10); //"!!!!!!!!10"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //left justify signed ! as padding and a width of 10</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format('%-+!10d', 10); //"+10!!!!!!!"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * Formatting dates</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format("%[h:mm a]D", new Date(2014, 05, 04, 7,6,1)); // 7:06 AM - local -</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format("%[h:mm a]Z", new Date(2014, 05, 04, 7,6,1)); //12:06 PM - UTC</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format("%[yyyy-MM-dd]D", new Date(2014, 05, 04, 7,6,1)); // 2014-06-04 - local</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format("%[yyyy-MM-dd]Z", new Date(2014, 05, 04, 7,6,1)); // 2014-06-04 - UTC</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * Formatting Objects</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * //When using object formats they must be in an array otherwise</code></li>
<li class='green'><span class=''> </span><code> * //format will try to interpolate the properties into the string.</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format("%j", [{a : "b"}]) // '{"a":"b"}'</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //Specifying spacing</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format("%4j", [{a : "b"}]) // '{\n    "a": "b"\n}'</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * String interpolation</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format("{hello}, {world}", {hello : "Hello", world : "World"); //"Hello, World";</code></li>
<li class='green'><span class=''> </span><code> * comb.string.format("{[.2]min}...{[.2]max}", {min: 1, max: 10}); //"1.00...10.00"</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {String} str the string to format, if you want to use a spacing character as padding (other than \\s) then put your format in brackets.</code></li>
<li class='green'><span class=''> </span><code> *  &lt;ol&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;String Formats %[options]s&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *          &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;- : left justified&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;Char : padding character &lt;b&gt;Excludes d,j,s&lt;/b&gt;&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;Number : width&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *          &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;Number Formats %[options]d&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *          &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;`-` : left justified&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;`+` or `&lt;space&gt;` : signed number if space is used the number will use a extra `&lt;space&gt;` instead of a `+`&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;`&lt;Char&gt;` : padding character &lt;b&gt;Excludes d,j,s&lt;/b&gt;&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;`Number` : width&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;`.Number`: specify the precision of the number&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *          &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;Object Formats %[options]j&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *          &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;Number : spacing for object properties.&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *          &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *  &lt;/ol&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object|Array|Arguments...} obj the parameters to replace in the string</code></li>
<li class='green'><span class=''> </span><code> *                                    if an array is passed then the array is used sequentially</code></li>
<li class='green'><span class=''> </span><code> *                                    if an object is passed then the object keys are used</code></li>
<li class='green'><span class=''> </span><code> *                                    if a variable number of args are passed then they are used like an array</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {String} the formatted string</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.string</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function format(str, obj) {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>180</span><code>    if (obj instanceof Array) {</code></li>
<li class='green'><span class='hits'>82</span><code>        var i = 0, len = obj.length;</code></li>
<li class='green'><span class=''> </span><code>        //find the matches</code></li>
<li class='green'><span class='hits'>82</span><code>        return str.replace(FORMAT_REGEX, function (m, format, type) {</code></li>
<li class='green'><span class='hits'>134</span><code>            var replacer, ret;</code></li>
<li class='green'><span class='hits'>134</span><code>            if (i &lt; len) {</code></li>
<li class='green'><span class='hits'>132</span><code>                replacer = obj[i++];</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class=''> </span><code>                //we are out of things to replace with so</code></li>
<li class='green'><span class=''> </span><code>                //just return the match?</code></li>
<li class='green'><span class='hits'>2</span><code>                return m;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>132</span><code>            if (m === "%s" || m === "%d" || m === "%D") {</code></li>
<li class='green'><span class=''> </span><code>                //fast path!</code></li>
<li class='green'><span class='hits'>61</span><code>                ret = replacer + "";</code></li>
<li class='green'><span class='hits'>71</span><code>            } else if (m === "%Z") {</code></li>
<li class='green'><span class='hits'>2</span><code>                ret = replacer.toUTCString();</code></li>
<li class='green'><span class='hits'>69</span><code>            } else if (m === "%j") {</code></li>
<li class='green'><span class='hits'>4</span><code>                try {</code></li>
<li class='green'><span class='hits'>4</span><code>                    ret = JSON.stringify(replacer);</code></li>
<li class='green'><span class=''> </span><code>                } catch (e) {</code></li>
<li class='green'><span class='hits'>2</span><code>                    throw new Error("comb.string.format : Unable to parse json from ", replacer);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>65</span><code>                format = format.replace(/^\[|\]$/g, "");</code></li>
<li class='green'><span class='hits'>65</span><code>                switch (type) {</code></li>
<li class='green'><span class=''> </span><code>                case "s":</code></li>
<li class='green'><span class='hits'>8</span><code>                    ret = formatString(replacer, format);</code></li>
<li class='green'><span class='hits'>8</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                case "d":</code></li>
<li class='green'><span class='hits'>35</span><code>                    ret = formatNumber(replacer, format);</code></li>
<li class='green'><span class='hits'>33</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                case "j":</code></li>
<li class='green'><span class='hits'>6</span><code>                    ret = formatObject(replacer, format);</code></li>
<li class='green'><span class='hits'>4</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                case "D":</code></li>
<li class='green'><span class='hits'>8</span><code>                    ret = getDate().date.format(replacer, format);</code></li>
<li class='green'><span class='hits'>8</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                case "Z":</code></li>
<li class='green'><span class='hits'>8</span><code>                    ret = getDate().date.format(replacer, format, true);</code></li>
<li class='green'><span class='hits'>8</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>126</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class='hits'>98</span><code>    } else if (isHash(obj)) {</code></li>
<li class='green'><span class='hits'>36</span><code>        return str.replace(INTERP_REGEX, function (m, format, value) {</code></li>
<li class='green'><span class='hits'>142</span><code>            value = obj[value];</code></li>
<li class='green'><span class='hits'>142</span><code>            if (!misc.isUndefined(value)) {</code></li>
<li class='green'><span class='hits'>140</span><code>                if (format) {</code></li>
<li class='green'><span class='hits'>86</span><code>                    if (comb.isString(value)) {</code></li>
<li class='green'><span class='hits'>56</span><code>                        return formatString(value, format);</code></li>
<li class='green'><span class='hits'>30</span><code>                    } else if (typeof value === "number") {</code></li>
<li class='green'><span class='hits'>2</span><code>                        return formatNumber(value, format);</code></li>
<li class='green'><span class='hits'>28</span><code>                    } else if (getDate().isDate(value)) {</code></li>
<li class='green'><span class='hits'>26</span><code>                        return getDate().date.format(value, format);</code></li>
<li class='green'><span class='hits'>2</span><code>                    } else if (typeof value === "object") {</code></li>
<li class='green'><span class='hits'>2</span><code>                        return formatObject(value, format);</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>54</span><code>                    return "" + value;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>2</span><code>            return m;</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>62</span><code>        var args = pSlice.call(arguments).slice(1);</code></li>
<li class='green'><span class='hits'>62</span><code>        return format(str, args);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var styles = {</code></li>
<li class='green'><span class=''> </span><code>    //styles</code></li>
<li class='green'><span class=''> </span><code>    bold: 1,</code></li>
<li class='green'><span class=''> </span><code>    bright: 1,</code></li>
<li class='green'><span class=''> </span><code>    italic: 3,</code></li>
<li class='green'><span class=''> </span><code>    underline: 4,</code></li>
<li class='green'><span class=''> </span><code>    blink: 5,</code></li>
<li class='green'><span class=''> </span><code>    inverse: 7,</code></li>
<li class='green'><span class=''> </span><code>    crossedOut: 9,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    red: 31,</code></li>
<li class='green'><span class=''> </span><code>    green: 32,</code></li>
<li class='green'><span class=''> </span><code>    yellow: 33,</code></li>
<li class='green'><span class=''> </span><code>    blue: 34,</code></li>
<li class='green'><span class=''> </span><code>    magenta: 35,</code></li>
<li class='green'><span class=''> </span><code>    cyan: 36,</code></li>
<li class='green'><span class=''> </span><code>    white: 37,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    redBackground: 41,</code></li>
<li class='green'><span class=''> </span><code>    greenBackground: 42,</code></li>
<li class='green'><span class=''> </span><code>    yellowBackground: 43,</code></li>
<li class='green'><span class=''> </span><code>    blueBackground: 44,</code></li>
<li class='green'><span class=''> </span><code>    magentaBackground: 45,</code></li>
<li class='green'><span class=''> </span><code>    cyanBackground: 46,</code></li>
<li class='green'><span class=''> </span><code>    whiteBackground: 47,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    encircled: 52,</code></li>
<li class='green'><span class=''> </span><code>    overlined: 53,</code></li>
<li class='green'><span class=''> </span><code>    grey: 90,</code></li>
<li class='green'><span class=''> </span><code>    black: 90</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Styles a string according to the specified styles.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * //style a string red</code></li>
<li class='green'><span class=''> </span><code> * comb.string.style('myStr', 'red');</code></li>
<li class='green'><span class=''> </span><code> * //style a string red and bold</code></li>
<li class='green'><span class=''> </span><code> * comb.string.style('myStr', ['red', bold]);</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {String} str The string to style.</code></li>
<li class='green'><span class=''> </span><code> * @param {String|Array} styles the style or styles to apply to a string.</code></li>
<li class='green'><span class=''> </span><code> *          options include :</code></li>
<li class='green'><span class=''> </span><code> *          &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;bold&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;bright&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;italic&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;underline&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;inverse&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;crossedOut&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;blink&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;red&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;green&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;yellow&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;blue&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;magenta&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;cyan&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;white&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;redBackground&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;greenBackground&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;yellowBackground&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;blueBackground&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;magentaBackground&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;cyanBackground&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;whiteBackground&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;grey&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *             &lt;li&gt;black&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *          &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.string</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function style(str, options) {</code></li>
<li class='green'><span class='hits'>89</span><code>    var ret = str;</code></li>
<li class='green'><span class='hits'>89</span><code>    if (options) {</code></li>
<li class='green'><span class='hits'>89</span><code>        if (ret instanceof Array) {</code></li>
<li class='green'><span class='hits'>2</span><code>            ret = ret.map(function (s) {</code></li>
<li class='green'><span class='hits'>6</span><code>                return style(s, options);</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>87</span><code>        } else if (options instanceof Array) {</code></li>
<li class='green'><span class='hits'>8</span><code>            options.forEach(function (option) {</code></li>
<li class='green'><span class='hits'>24</span><code>                ret = style(ret, option);</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>79</span><code>        } else if (options in styles) {</code></li>
<li class='green'><span class='hits'>79</span><code>            ret = '\x1B[' + styles[options] + 'm' + str + '\x1B[0m';</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>89</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Returns a string duplicated n times;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.string.multiply("HELLO", 5) =&gt; "HELLOHELLOHELLOHELLOHELLO"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.string</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function multiply(str, times) {</code></li>
<li class='green'><span class='hits'>156</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>156</span><code>    if (times) {</code></li>
<li class='green'><span class='hits'>150</span><code>        for (var i = 0; i &lt; times; i++) {</code></li>
<li class='green'><span class='hits'>568</span><code>            ret.push(str);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>156</span><code>    return ret.join("");</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Converts a string to an array</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.string.toArray("a|b|c|d", "|") =&gt; ["a","b","c","d"]</code></li>
<li class='green'><span class=''> </span><code> * comb.string.toArray("a", "|") =&gt; ["a"]</code></li>
<li class='green'><span class=''> </span><code> * comb.string.toArray("", "|") =&gt; []</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {String} str the string to parse</code></li>
<li class='green'><span class=''> </span><code> * @param {String} delimeter the delimeter to use</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.string</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function toArray(testStr, delim) {</code></li>
<li class='green'><span class='hits'>6</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>6</span><code>    if (testStr) {</code></li>
<li class='green'><span class='hits'>4</span><code>        if (testStr.indexOf(delim) &gt; 0) {</code></li>
<li class='green'><span class='hits'>2</span><code>            ret = testStr.replace(/\s+/g, "").split(delim);</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>2</span><code>            ret = [testStr];</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>6</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**@namespace String utilities*/</code></li>
<li class='green'><span class='hits'>1</span><code>comb.string = {</code></li>
<li class='green'><span class=''> </span><code>    pad: pad,</code></li>
<li class='green'><span class=''> </span><code>    truncate: truncate,</code></li>
<li class='green'><span class=''> </span><code>    format: format,</code></li>
<li class='green'><span class=''> </span><code>    toArray: toArray,</code></li>
<li class='green'><span class=''> </span><code>    multiply: multiply,</code></li>
<li class='green'><span class=''> </span><code>    style: style,</code></li>
<li class='green'><span class=''> </span><code>    escapeHtml: escapeHtml</code></li>
<li class='green'><span class=''> </span><code>};</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="async.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>async.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>98.88</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>1245</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>179</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>2</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="async.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> * @name async</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @namespace utilities for working with promises.</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var promise = require("./promise.js"),</code></li>
<li class='green'><span class=''> </span><code>    when = promise.when,</code></li>
<li class='green'><span class=''> </span><code>    serial = promise.serial,</code></li>
<li class='green'><span class=''> </span><code>    PromiseList = promise.PromiseList,</code></li>
<li class='green'><span class=''> </span><code>    base = require("./base"),</code></li>
<li class='green'><span class=''> </span><code>    merge = base.merge,</code></li>
<li class='green'><span class=''> </span><code>    isDefined = base.isDefined,</code></li>
<li class='green'><span class=''> </span><code>    isNumber = base.isNumber,</code></li>
<li class='green'><span class=''> </span><code>    isString = base.isString,</code></li>
<li class='green'><span class=''> </span><code>    argsToArray = base.argsToArray,</code></li>
<li class='green'><span class=''> </span><code>    array = base.array,</code></li>
<li class='green'><span class=''> </span><code>    isArray = base.isArray,</code></li>
<li class='green'><span class=''> </span><code>    Promise = promise.Promise,</code></li>
<li class='green'><span class=''> </span><code>    isFunction = base.isFunction,</code></li>
<li class='green'><span class=''> </span><code>    sum = array.sum,</code></li>
<li class='green'><span class=''> </span><code>    avg = array.avg,</code></li>
<li class='green'><span class=''> </span><code>    sort = array.sort,</code></li>
<li class='green'><span class=''> </span><code>    min = array.min,</code></li>
<li class='green'><span class=''> </span><code>    max = array.max,</code></li>
<li class='green'><span class=''> </span><code>    map = array.map,</code></li>
<li class='green'><span class=''> </span><code>    forEach = array.forEach,</code></li>
<li class='green'><span class=''> </span><code>    difference = array.difference,</code></li>
<li class='green'><span class=''> </span><code>    removeDuplicates = array.removeDuplicates,</code></li>
<li class='green'><span class=''> </span><code>    unique = array.unique,</code></li>
<li class='green'><span class=''> </span><code>    rotate = array.rotate,</code></li>
<li class='green'><span class=''> </span><code>    permutations = array.permutations,</code></li>
<li class='green'><span class=''> </span><code>    zip = array.zip,</code></li>
<li class='green'><span class=''> </span><code>    transpose = array.transpose,</code></li>
<li class='green'><span class=''> </span><code>    valuesAt = array.valuesAt,</code></li>
<li class='green'><span class=''> </span><code>    union = array.union,</code></li>
<li class='green'><span class=''> </span><code>    intersect = array.intersect,</code></li>
<li class='green'><span class=''> </span><code>    powerSet = array.powerSet,</code></li>
<li class='green'><span class=''> </span><code>    cartesian = array.cartesian,</code></li>
<li class='green'><span class=''> </span><code>    compact = array.compact,</code></li>
<li class='green'><span class=''> </span><code>    multiply = array.multiply,</code></li>
<li class='green'><span class=''> </span><code>    flatten = array.flatten,</code></li>
<li class='green'><span class=''> </span><code>    invoke = array.invoke;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var nextTick;</code></li>
<li class='green'><span class='hits'>1</span><code>if (typeof setImmediate === "function") {</code></li>
<li class='green'><span class=''> </span><code>    // In IE10, or use https://github.com/NobleJS/setImmediate</code></li>
<li class='green'><span class='hits'>1</span><code>    nextTick = setImmediate;</code></li>
<li class='green'><span class=''> </span><code>} else {</code></li>
<li class='red'><span class='nohits'>0</span><code>    nextTick = function (cb) {</code></li>
<li class='red'><span class='nohits'>0</span><code>        process.nextTick(cb);</code></li>
<li class='green'><span class=''> </span><code>    };</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function _loopResults(cb, scope, results, index, offset, limit) {</code></li>
<li class='green'><span class='hits'>79</span><code>    return function () {</code></li>
<li class='green'><span class='hits'>79</span><code>        return when(results.slice(offset, limit + offset).map(function (r, i) {</code></li>
<li class='green'><span class='hits'>574</span><code>            var ret = new Promise();</code></li>
<li class='green'><span class='hits'>574</span><code>            nextTick(function () {</code></li>
<li class='green'><span class='hits'>574</span><code>                try {</code></li>
<li class='green'><span class='hits'>574</span><code>                    when(cb.apply(scope || results, [r, i + offset, results])).then(function () {</code></li>
<li class='green'><span class='hits'>564</span><code>                        ret.callback.apply(ret, arguments);</code></li>
<li class='green'><span class=''> </span><code>                    }, function () {</code></li>
<li class='green'><span class='hits'>5</span><code>                        ret.errback.apply(ret, arguments);</code></li>
<li class='green'><span class=''> </span><code>                    });</code></li>
<li class='green'><span class=''> </span><code>                } catch (e) {</code></li>
<li class='green'><span class='hits'>5</span><code>                    ret.errback(e);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>574</span><code>            ret.both(function () {</code></li>
<li class='green'><span class='hits'>574</span><code>                cb = scope = results = index = offset = limit = null;</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>574</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        }));</code></li>
<li class='green'><span class=''> </span><code>    };</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function asyncLoop(promise, cb, scope, limit) {</code></li>
<li class='green'><span class='hits'>52</span><code>    if (isNumber(scope)) {</code></li>
<li class='green'><span class='hits'>13</span><code>        limit = scope;</code></li>
<li class='green'><span class='hits'>13</span><code>        scope = null;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>52</span><code>    return when(promise).chain(function (results) {</code></li>
<li class='green'><span class='hits'>52</span><code>        var loopResults = (isArray(results) ? results : [results]);</code></li>
<li class='green'><span class='hits'>52</span><code>        limit = limit || loopResults.length;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>52</span><code>        var list = [];</code></li>
<li class='green'><span class='hits'>52</span><code>        for (var offset = 0, i = 0, l = loopResults.length; offset &lt; l; offset += limit, i++) {</code></li>
<li class='green'><span class='hits'>79</span><code>            list.push(_loopResults(cb, scope, loopResults, i, offset, limit));</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>52</span><code>        var ret = new Promise();</code></li>
<li class='green'><span class='hits'>52</span><code>        serial(list).then(function (loopResults) {</code></li>
<li class='green'><span class='hits'>42</span><code>            ret.callback({loopResults: flatten(loopResults) || [], arr: results});</code></li>
<li class='green'><span class=''> </span><code>//            loopResults = null;</code></li>
<li class='green'><span class=''> </span><code>//            results = null;</code></li>
<li class='green'><span class=''> </span><code>        }, function (error) {</code></li>
<li class='green'><span class='hits'>10</span><code>            error = compact(error);</code></li>
<li class='green'><span class='hits'>10</span><code>            ret.errback(error.length === 1 ? error[0] : error);</code></li>
<li class='green'><span class=''> </span><code>//            loopResults = null;</code></li>
<li class='green'><span class=''> </span><code>//            results = null;</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class='hits'>52</span><code>        return ret;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function normalizeResult(result) {</code></li>
<li class='green'><span class='hits'>92</span><code>    return isArray(result) ? result : isDefined(result) ? [result] : result;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Loops through the results of an promise. The promise can return an array or just a single item.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.forEach(asyncArr(), function(){</code></li>
<li class='green'><span class=''> </span><code> *      //do something with it</code></li>
<li class='green'><span class=''> </span><code> * }).then(function(arr){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(arr); //[1,2,3,4,5];</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * You may also return a promise from the iterator block.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * var myNewArr = [];</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.forEach(asyncArr(), function(item, index){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(function(){</code></li>
<li class='green'><span class=''> </span><code> *         myNewArr.push([item, index]);</code></li>
<li class='green'><span class=''> </span><code> *         ret.callback();</code></li>
<li class='green'><span class=''> </span><code> *     });</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise();</code></li>
<li class='green'><span class=''> </span><code> * }).then(function(){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(myNewArr) //[[1,0], [2,1], [3,2], [4,3], [5,4]]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {comb.Promise|Array} promise the promise or array to loop through</code></li>
<li class='green'><span class=''> </span><code> * @param {Function} iterator a function to invoke for each item</code></li>
<li class='green'><span class=''> </span><code> * @param [scope] optional scope to execute the function in.</code></li>
<li class='green'><span class=''> </span><code> * @return {comb.Promise} a promise that is resolved with the original array.</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name forEach</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncForEach(promise, iterator, scope, limit) {</code></li>
<li class='green'><span class='hits'>11</span><code>    return asyncArray(asyncLoop(promise, iterator, scope, limit).chain(function (results) {</code></li>
<li class='green'><span class='hits'>9</span><code>        return results.arr;</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Loops through the results of an promise resolving with the return value of the iterator function.</code></li>
<li class='green'><span class=''> </span><code> * The promise can return an array or just a single item.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.map(asyncArr(), function(item){</code></li>
<li class='green'><span class=''> </span><code> *      return item * 2;</code></li>
<li class='green'><span class=''> </span><code> * }).then(function(arr){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(arr); //[2,4,6,8,10];</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * You may also return a promise from the iterator block.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * comb.async.map(asyncArr(), function(item, index){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(function(){</code></li>
<li class='green'><span class=''> </span><code> *         ret.callback(item * 2);</code></li>
<li class='green'><span class=''> </span><code> *     });</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise();</code></li>
<li class='green'><span class=''> </span><code> * }).then(function(){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(myNewArr) //[2,4,6,8,10];</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {comb.Promise|Array} promise the promise or array to loop through</code></li>
<li class='green'><span class=''> </span><code> * @param {Function} iterator a function to invoke for each item</code></li>
<li class='green'><span class=''> </span><code> * @param [scope] optional scope to execute the function in.</code></li>
<li class='green'><span class=''> </span><code> * @return {comb.Promise} a promise that is resolved with the mapped array.</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name map</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncMap(promise, iterator, scope, limit) {</code></li>
<li class='green'><span class='hits'>15</span><code>    return asyncArray(asyncLoop(promise, iterator, scope, limit).chain(function (results) {</code></li>
<li class='green'><span class='hits'>13</span><code>        return results.loopResults;</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Loops through the results of an promise resolving with the filtered array.</code></li>
<li class='green'><span class=''> </span><code> * The promise can return an array or just a single item.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.filter(asyncArr(), function(item){</code></li>
<li class='green'><span class=''> </span><code> *      return item % 2;</code></li>
<li class='green'><span class=''> </span><code> * }).then(function(arr){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(arr); //[1,3,5];</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * You may also return a promise from the iterator block.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * comb.async.filter(asyncArr(), function(item, index){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(function(){</code></li>
<li class='green'><span class=''> </span><code> *         ret.callback(item % 2);</code></li>
<li class='green'><span class=''> </span><code> *     });</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise();</code></li>
<li class='green'><span class=''> </span><code> * }).then(function(){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(myNewArr) //[1,3,5];</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {comb.Promise|Array} promise the promise or array to loop through</code></li>
<li class='green'><span class=''> </span><code> * @param {Function} iterator a function to invoke for each item</code></li>
<li class='green'><span class=''> </span><code> * @param [scope] optional scope to execute the function in.</code></li>
<li class='green'><span class=''> </span><code> * @return {comb.Promise} a promise that is resolved with the filtered array.</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name filter</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncFilter(promise, iterator, scope, limit) {</code></li>
<li class='green'><span class='hits'>7</span><code>    return asyncArray(asyncLoop(promise, iterator, scope, limit).chain(function (results) {</code></li>
<li class='green'><span class='hits'>5</span><code>        var loopResults = results.loopResults, resultArr = results.arr;</code></li>
<li class='green'><span class='hits'>5</span><code>        return (isArray(resultArr) ? resultArr : [resultArr]).filter(function (res, i) {</code></li>
<li class='green'><span class='hits'>65</span><code>            return loopResults[i];</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Loops through the results of an promise resolving with true if every item passed, false otherwise.</code></li>
<li class='green'><span class=''> </span><code> * The promise can return an array or just a single item.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.every(asyncArr(), function(item){</code></li>
<li class='green'><span class=''> </span><code> *      return item &lt;= 5;</code></li>
<li class='green'><span class=''> </span><code> * }).then(function(every){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(every); //true</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * You may also return a promise from the iterator block.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * comb.async.every(asyncArr(), function(item, index){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(function(){</code></li>
<li class='green'><span class=''> </span><code> *         ret.callback(item == 1);</code></li>
<li class='green'><span class=''> </span><code> *     });</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise();</code></li>
<li class='green'><span class=''> </span><code> * }).then(function(){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(myNewArr) //false;</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {comb.Promise|Array} promise the promise or array to loop through</code></li>
<li class='green'><span class=''> </span><code> * @param {Function} iterator a function to invoke for each item</code></li>
<li class='green'><span class=''> </span><code> * @param [scope] optional scope to execute the function in.</code></li>
<li class='green'><span class=''> </span><code> * @return {comb.Promise} a promise that is resolved true if every item passed false otherwise.</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name every</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncEvery(promise, iterator, scope, limit) {</code></li>
<li class='green'><span class='hits'>9</span><code>    return asyncArray(asyncLoop(promise, iterator, scope, limit).chain(function (results) {</code></li>
<li class='green'><span class='hits'>7</span><code>        return results.loopResults.every(function (res) {</code></li>
<li class='green'><span class='hits'>52</span><code>            return !!res;</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Loops through the results of an promise resolving with true if some items passed, false otherwise.</code></li>
<li class='green'><span class=''> </span><code> * The promise can return an array or just a single item.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.some(asyncArr(), function(item){</code></li>
<li class='green'><span class=''> </span><code> *      return item == 1;</code></li>
<li class='green'><span class=''> </span><code> * }).then(function(every){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(every); //true</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * You may also return a promise from the iterator block.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * comb.async.some(asyncArr(), function(item, index){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(function(){</code></li>
<li class='green'><span class=''> </span><code> *         ret.callback(item &gt; 5);</code></li>
<li class='green'><span class=''> </span><code> *     });</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise();</code></li>
<li class='green'><span class=''> </span><code> * }).then(function(){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(myNewArr) //false;</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {comb.Promise|Array} promise the promise or array to loop through</code></li>
<li class='green'><span class=''> </span><code> * @param {Function} iterator a function to invoke for each item</code></li>
<li class='green'><span class=''> </span><code> * @param [scope] optional scope to execute the function in.</code></li>
<li class='green'><span class=''> </span><code> * @return {comb.Promise} a promise that is resolved with true if some items passed false otherwise.</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name some</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncSome(promise, iterator, scope, limit) {</code></li>
<li class='green'><span class='hits'>10</span><code>    return asyncArray(asyncLoop(promise, iterator, scope, limit).chain(function (results) {</code></li>
<li class='green'><span class='hits'>8</span><code>        return results.loopResults.some(function (res) {</code></li>
<li class='green'><span class='hits'>53</span><code>            return !!res;</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Zips results from promises into an array.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.zip(asyncArr(), asyncArr()).then(function(zipped){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(zipped); //[[1,1],[2,2],[3,3], [4,4], [5,5]]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).zip(asyncArr()).then(function(zipped){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(zipped); //[[1,1],[2,2],[3,3], [4,4], [5,5]]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {comb.Promise} an array with all the arrays zipped together.</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name zip</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncZip() {</code></li>
<li class='green'><span class='hits'>1</span><code>    return asyncArray(when.apply(null, argsToArray(arguments)).chain(function (result) {</code></li>
<li class='green'><span class='hits'>1</span><code>        return zip.apply(array, normalizeResult(result).map(function (arg) {</code></li>
<li class='green'><span class='hits'>3</span><code>            return isArray(arg) ? arg : [arg];</code></li>
<li class='green'><span class=''> </span><code>        }));</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.avg}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).avg().then(function(avg){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(avg); //3</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.avg(asyncArr()).then(function(avg){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(avg); //3</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name avg</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncAvg(avgPromise) {</code></li>
<li class='green'><span class='hits'>5</span><code>    return when(avgPromise).chain(function (result) {</code></li>
<li class='green'><span class='hits'>5</span><code>        return avg.call(array, normalizeResult(result));</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.cartesian}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).cartesian([1,2,3]).then(function(avg){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(avg); //[ [ 1, 1 ], [ 1, 2 ], [ 1, 3 ], [ 2, 1 ], [ 2, 2 ], [ 2, 3 ] ]</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  comb.async.cartesian(asyncArr(), [1,2,3]).then(function(avg){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(avg); //[ [ 1, 1 ], [ 1, 2 ], [ 1, 3 ], [ 2, 1 ], [ 2, 2 ], [ 2, 3 ] ]</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name cartesian</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncCartesian() {</code></li>
<li class='green'><span class='hits'>3</span><code>    return asyncArray(when.apply(null, argsToArray(arguments)).chain(function (result) {</code></li>
<li class='green'><span class='hits'>3</span><code>        return cartesian.apply(array, normalizeResult(result).map(function (arg) {</code></li>
<li class='green'><span class='hits'>6</span><code>            return isArray(arg) ? arg : [arg];</code></li>
<li class='green'><span class=''> </span><code>        }));</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.compact}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,null,2,null,3,null,4,null,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).compact().then(function(compacted){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(compacted); //[1,2,3,4,5]</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.compact(asyncArr()).then(function(compacted){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(compacted); //[1,2,3,4,5]</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name compact</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncCompact(arr) {</code></li>
<li class='green'><span class='hits'>2</span><code>    return asyncArray(when(arr).chain(function (result) {</code></li>
<li class='green'><span class='hits'>2</span><code>        return compact.call(array, normalizeResult(result));</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.difference}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).difference([3,4,5]).then(function(diff){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(diff); //[1,2]</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.difference(asyncArr(), [3,4,5]).then(function(diff){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(diff); //[1,2]</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name difference</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncDifference() {</code></li>
<li class='green'><span class='hits'>5</span><code>    return asyncArray(when.apply(null, argsToArray(arguments)).chain(function (result) {</code></li>
<li class='green'><span class='hits'>5</span><code>        return difference.apply(array, normalizeResult(result).map(function (arg) {</code></li>
<li class='green'><span class='hits'>11</span><code>            return isArray(arg) ? arg : [arg];</code></li>
<li class='green'><span class=''> </span><code>        }));</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.flatten}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [[1],[2],[3],[4],[5]]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).flatten().then(function(flat){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(flat); //[1,2,3,4,5]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.flatten(asyncArr()).then(function(flat){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(flat); //[1,2,3,4,5]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name flatten</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncFlatten() {</code></li>
<li class='green'><span class='hits'>4</span><code>    return asyncArray(when.apply(null, argsToArray(arguments)).chain(function (result) {</code></li>
<li class='green'><span class='hits'>4</span><code>        return flatten.apply(array, normalizeResult(result).map(function (arg) {</code></li>
<li class='green'><span class='hits'>12</span><code>            return isArray(arg) ? arg : [arg];</code></li>
<li class='green'><span class=''> </span><code>        }));</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.intersect}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).intersect([3,4], [3]).then(function(intersection){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(intersection); //[3]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.intersect(asyncArr(), [3,4]).then(function(intersection){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(intersection); //[3,4]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name intersect</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncIntersect() {</code></li>
<li class='green'><span class='hits'>5</span><code>    return asyncArray(when.apply(null, argsToArray(arguments)).chain(function (result) {</code></li>
<li class='green'><span class='hits'>5</span><code>        return intersect.apply(array, normalizeResult(result).map(function (arg) {</code></li>
<li class='green'><span class='hits'>15</span><code>            return isArray(arg) ? arg : [arg];</code></li>
<li class='green'><span class=''> </span><code>        }));</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.max}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).max().then(function(max){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(max); //5</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.max(asyncArr()).then(function(max){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(max); //5</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name max</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncMax() {</code></li>
<li class='green'><span class='hits'>7</span><code>    var args = argsToArray(arguments), last = args.pop(), cmp = null;</code></li>
<li class='green'><span class='hits'>7</span><code>    if (isFunction(last) || isString(last)) {</code></li>
<li class='green'><span class='hits'>3</span><code>        cmp = last;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>4</span><code>        args.push(last);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>7</span><code>    return when.apply(null, args).chain(function (result) {</code></li>
<li class='green'><span class='hits'>7</span><code>        return max.call(array, normalizeResult(result), cmp);</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.min}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).min().then(function(min){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(min) //3</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.min(asyncArr()).then(function(min){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(min) //3</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name min</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncMin() {</code></li>
<li class='green'><span class='hits'>7</span><code>    var args = argsToArray(arguments), last = args.pop(), cmp = null;</code></li>
<li class='green'><span class='hits'>7</span><code>    if (isFunction(last) || isString(last)) {</code></li>
<li class='green'><span class='hits'>3</span><code>        cmp = last;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>4</span><code>        args.push(last);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>7</span><code>    return when.apply(null, args).chain(function (result) {</code></li>
<li class='green'><span class='hits'>7</span><code>        return min.call(array, normalizeResult(result), cmp);</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.sort}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,3,2,5,4]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).sort().then(function(sorted){</code></li>
<li class='green'><span class=''> </span><code> *    console.log(sorted); //[1,2,3,4,5]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.sort(asyncArr()).then(function(sorted){</code></li>
<li class='green'><span class=''> </span><code> *    console.log(sorted); //[1,2,3,4,5]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name sort</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncSort() {</code></li>
<li class='green'><span class='hits'>8</span><code>    var args = argsToArray(arguments), last = args.pop(), cmp = null;</code></li>
<li class='green'><span class='hits'>8</span><code>    if (isFunction(last) || isString(last)) {</code></li>
<li class='green'><span class='hits'>4</span><code>        cmp = last;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>4</span><code>        args.push(last);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>8</span><code>    return asyncArray(when.apply(null, args).chain(function (result) {</code></li>
<li class='green'><span class='hits'>8</span><code>        return sort.call(array, normalizeResult(result), cmp);</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.multiply}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).multiply(2).then(function(mult){</code></li>
<li class='green'><span class=''> </span><code> *    console.log(mult); //[1,2,3,4,5,1,2,3,4,5]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.multiply(asyncArr(),2 ).then(function(mult){</code></li>
<li class='green'><span class=''> </span><code> *    console.log(mult); //[1,2,3,4,5,1,2,3,4,5]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name multiply</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncMultiply() {</code></li>
<li class='green'><span class='hits'>4</span><code>    var args = argsToArray(arguments), last = args.pop(), times = null;</code></li>
<li class='green'><span class='hits'>4</span><code>    if (isNumber(last)) {</code></li>
<li class='green'><span class='hits'>3</span><code>        times = last;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>1</span><code>        args.push(last);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>4</span><code>    return asyncArray(when.apply(null, args).chain(function (result) {</code></li>
<li class='green'><span class='hits'>4</span><code>        return multiply.call(array, normalizeResult(result), times);</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.permutations}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).permutations().then(function(permutations){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(permutations) //[ [ 1, 2, 3 ],</code></li>
<li class='green'><span class=''> </span><code> *                                //  [ 1, 3, 2 ],</code></li>
<li class='green'><span class=''> </span><code> *                                //  [ 2, 3, 1 ],</code></li>
<li class='green'><span class=''> </span><code> *                                //  [ 2, 1, 3 ],</code></li>
<li class='green'><span class=''> </span><code> *                                //  [ 3, 1, 2 ],</code></li>
<li class='green'><span class=''> </span><code> *                                //  [ 3, 2, 1 ] ]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.permutations(asyncArr()).then(function(permutations){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(permutations) //[ [ 1, 2, 3 ],</code></li>
<li class='green'><span class=''> </span><code> *                                //  [ 1, 3, 2 ],</code></li>
<li class='green'><span class=''> </span><code> *                                //  [ 2, 3, 1 ],</code></li>
<li class='green'><span class=''> </span><code> *                                //  [ 2, 1, 3 ],</code></li>
<li class='green'><span class=''> </span><code> *                                //  [ 3, 1, 2 ],</code></li>
<li class='green'><span class=''> </span><code> *                                //  [ 3, 2, 1 ] ]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name permutations</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncPermutations() {</code></li>
<li class='green'><span class='hits'>5</span><code>    var args = argsToArray(arguments), last = args.pop(), times = null;</code></li>
<li class='green'><span class='hits'>5</span><code>    if (isNumber(last)) {</code></li>
<li class='green'><span class='hits'>4</span><code>        times = last;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>1</span><code>        args.push(last);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>5</span><code>    return asyncArray(when.apply(null, args).chain(function (result) {</code></li>
<li class='green'><span class='hits'>5</span><code>        return permutations.call(array, normalizeResult(result), times);</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.powerSet}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).powerSet().then(function(set){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(set); //[ [], [ 1 ], [ 2 ], [ 1, 2 ], [ 3 ], [ 1, 3 ], [ 2, 3 ], [ 1, 2, 3 ] ]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.powerSet(asyncArr()).then(function(set){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(set); //[ [], [ 1 ], [ 2 ], [ 1, 2 ], [ 3 ], [ 1, 3 ], [ 2, 3 ], [ 1, 2, 3 ] ]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name powerSet</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncPowerSet(arr) {</code></li>
<li class='green'><span class='hits'>3</span><code>    return asyncArray(when(arr).chain(function (result) {</code></li>
<li class='green'><span class='hits'>3</span><code>        return powerSet.call(array, normalizeResult(result));</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.removeDuplicates}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,2,3,3,3,4,4,4]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).removeDuplicates().then(function(unique){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(unique); // [1, 2, 3, 4]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.removeDuplicates(asyncArray()).then(function(unique){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(unique); // [1, 2, 3, 4]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name removeDuplicates</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncRemoveDuplicates(arr) {</code></li>
<li class='green'><span class='hits'>4</span><code>    return asyncArray(when(arr).chain(function (result) {</code></li>
<li class='green'><span class='hits'>4</span><code>        return removeDuplicates.call(array, normalizeResult(result));</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.rotate}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).rotate(2).then(function(rotated){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(rotated); // [ 3, 4, 5, 1, 2 ]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.rotate(asyncArr(), 2).then(function(rotated){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(rotated); // [ 3, 4, 5, 1, 2 ]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name rotate</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncRotate() {</code></li>
<li class='green'><span class='hits'>8</span><code>    var args = argsToArray(arguments), last = args.pop(), times = null;</code></li>
<li class='green'><span class='hits'>8</span><code>    if (isNumber(last)) {</code></li>
<li class='green'><span class='hits'>7</span><code>        times = last;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>1</span><code>        args.push(last);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>8</span><code>    return asyncArray(when.apply(null, args).chain(function (result) {</code></li>
<li class='green'><span class='hits'>8</span><code>        return rotate.call(array, normalizeResult(result), times);</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.sum}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).sum().then(function(sum){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(sum) //15</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.sum(asyncArr()).then(function(sum){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(sum) //15</code></li>
<li class='green'><span class=''> </span><code> * })</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name sum</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncSum(arr) {</code></li>
<li class='green'><span class='hits'>6</span><code>    return when(arr).chain(function (result) {</code></li>
<li class='green'><span class='hits'>6</span><code>        return sum.call(array, normalizeResult(result));</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.transpose}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [[1, 2, 3], [4, 5, 6]]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).transpose().then(function(transposed){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(transposed); //[ [ 1, 4 ], [ 2, 5 ], [ 3, 6 ] ]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.transpose(asyncArr()).then(function(transposed){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(transposed); //[ [ 1, 4 ], [ 2, 5 ], [ 3, 6 ] ]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name transpose</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncTranspose(arr) {</code></li>
<li class='green'><span class='hits'>3</span><code>    return asyncArray(when(arr).chain(function (result) {</code></li>
<li class='green'><span class='hits'>3</span><code>        return transpose.call(array, normalizeResult(result));</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.union}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).union([3],[7], [9,10]).then(function(union){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(union); //[1,2,3,4,5,7,9,10]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.union(asyncArr(), [3],[7], [9,10]).then(function(union){</code></li>
<li class='green'><span class=''> </span><code> *      console.log(union); //[1,2,3,4,5,7,9,10]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name union</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncUnion() {</code></li>
<li class='green'><span class='hits'>2</span><code>    return asyncArray(when.apply(null, argsToArray(arguments)).chain(function (result) {</code></li>
<li class='green'><span class='hits'>2</span><code>        return union.apply(array, (normalizeResult(result)).map(function (arg) {</code></li>
<li class='green'><span class='hits'>7</span><code>            return isArray(arg) ? arg : [arg];</code></li>
<li class='green'><span class=''> </span><code>        }));</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.unique}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,2,3,3,4,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).unique().then(function(unique){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(unique); //[1,2,3,4,5]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.unique(asyncArr()).then(function(unique){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(unique); //[1,2,3,4,5]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name unique</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncUnique() {</code></li>
<li class='green'><span class='hits'>2</span><code>    return asyncRemoveDuplicates.apply(null, arguments);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.valuesAt}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.array(asyncArr()).valuesAt(2,3,4).then(function(values){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(values); //[3,4,5]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.async.valuesAt(asyncArr(), 2,3,4).then(function(values){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(values); //[3,4,5]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name valuesAt</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncValuesAt(arrPromise) {</code></li>
<li class='green'><span class='hits'>3</span><code>    var args = argsToArray(arguments, 1);</code></li>
<li class='green'><span class='hits'>3</span><code>    return asyncArray(when(arrPromise).chain(function (result) {</code></li>
<li class='green'><span class='hits'>3</span><code>        return when(valuesAt.apply(array, [normalizeResult(result)].concat(args)));</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.pluck}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * var when = comb.when,</code></li>
<li class='green'><span class=''> </span><code> *     array = comb.async.array;</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [</code></li>
<li class='green'><span class=''> </span><code> *                                              {name:{first:when("Fred"), last:"Jones"}, age:when(50), roles:["a", "b", "c"]},</code></li>
<li class='green'><span class=''> </span><code> *                                              {name:{first:"Bob", last:"Yukon"}, age:40, roles:when(["b", "c"])},</code></li>
<li class='green'><span class=''> </span><code> *                                              {name:{first:"Alice", last:"Palace"}, age:when(35), roles:["c"]},</code></li>
<li class='green'><span class=''> </span><code> *                                              {name:{first:when("Johnny"), last:"P."}, age:56, roles:when([])}</code></li>
<li class='green'><span class=''> </span><code> *                                             ]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * array(asyncArr()).pluck("name.first").then(function(values){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(values); //["Fred", "Bob", "Alice", "Johnny"]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * pluck(asyncArr(), "age").then(function(values){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(values); //[50, 40, 35, 56]</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name pluck</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncPluck(arrPromise, property) {</code></li>
<li class='green'><span class='hits'>5</span><code>    var args = argsToArray(arguments, 1);</code></li>
<li class='green'><span class='hits'>5</span><code>    return asyncArray(when(arrPromise).chain(function (result) {</code></li>
<li class='green'><span class='hits'>5</span><code>        var prop = property.split(".");</code></li>
<li class='green'><span class='hits'>5</span><code>        result = normalizeResult(result);</code></li>
<li class='green'><span class='hits'>5</span><code>        return asyncArray(prop).forEach(function (prop) {</code></li>
<li class='green'><span class='hits'>8</span><code>            var exec = prop.match(/(\w+)\(\)$/);</code></li>
<li class='green'><span class='hits'>8</span><code>            return asyncArray(result).map(function (item) {</code></li>
<li class='green'><span class='hits'>32</span><code>                return exec ? item[exec[1]]() : item[prop];</code></li>
<li class='green'><span class=''> </span><code>            }, 1).chain(function (res) {</code></li>
<li class='green'><span class='hits'>8</span><code>                    result = res;</code></li>
<li class='green'><span class=''> </span><code>                });</code></li>
<li class='green'><span class=''> </span><code>        }, 1).chain(function () {</code></li>
<li class='green'><span class='hits'>5</span><code>                return result;</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * Async version of {@link comb.array.invoke}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * function person(name, age) {</code></li>
<li class='green'><span class=''> </span><code> *      return {</code></li>
<li class='green'><span class=''> </span><code> *          getName:function () {</code></li>
<li class='green'><span class=''> </span><code> *              return when(name);</code></li>
<li class='green'><span class=''> </span><code> *          },</code></li>
<li class='green'><span class=''> </span><code> *          getOlder:function () {</code></li>
<li class='green'><span class=''> </span><code> *              age++;</code></li>
<li class='green'><span class=''> </span><code> *              return when(this);</code></li>
<li class='green'><span class=''> </span><code> *          },</code></li>
<li class='green'><span class=''> </span><code> *          getAge:function () {</code></li>
<li class='green'><span class=''> </span><code> *              return when(age);</code></li>
<li class='green'><span class=''> </span><code> *          }</code></li>
<li class='green'><span class=''> </span><code> *      };</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var arr = [when(person("Bob", 40)), when(person("Alice", 35)), when(person("Fred", 50)), when(person("Johnny", 56))];</code></li>
<li class='green'><span class=''> </span><code> * console.log(comb.async.invoke(arr, "getName")); //["Bob", "Alice", "Fred", "Johnny"]</code></li>
<li class='green'><span class=''> </span><code> * console.log(array(arr).invoke("getOlder").pluck("getAge")) //[41, 36, 51, 57]</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name invoke</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncInvoke(arrPromise) {</code></li>
<li class='green'><span class='hits'>2</span><code>    var args = argsToArray(arguments, 1);</code></li>
<li class='green'><span class='hits'>2</span><code>    return asyncArray(when(arrPromise).chain(function (result) {</code></li>
<li class='green'><span class='hits'>2</span><code>        return when(invoke.apply(array, [normalizeResult(result)].concat(args)));</code></li>
<li class='green'><span class=''> </span><code>    }));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var asyncExports = (exports.async = {</code></li>
<li class='green'><span class=''> </span><code>    array: asyncArray,</code></li>
<li class='green'><span class=''> </span><code>    forEach: asyncForEach,</code></li>
<li class='green'><span class=''> </span><code>    map: asyncMap,</code></li>
<li class='green'><span class=''> </span><code>    filter: asyncFilter,</code></li>
<li class='green'><span class=''> </span><code>    every: asyncEvery,</code></li>
<li class='green'><span class=''> </span><code>    some: asyncSome,</code></li>
<li class='green'><span class=''> </span><code>    zip: asyncZip,</code></li>
<li class='green'><span class=''> </span><code>    sum: asyncSum,</code></li>
<li class='green'><span class=''> </span><code>    avg: asyncAvg,</code></li>
<li class='green'><span class=''> </span><code>    sort: asyncSort,</code></li>
<li class='green'><span class=''> </span><code>    min: asyncMin,</code></li>
<li class='green'><span class=''> </span><code>    max: asyncMax,</code></li>
<li class='green'><span class=''> </span><code>    difference: asyncDifference,</code></li>
<li class='green'><span class=''> </span><code>    removeDuplicates: asyncRemoveDuplicates,</code></li>
<li class='green'><span class=''> </span><code>    unique: asyncUnique,</code></li>
<li class='green'><span class=''> </span><code>    rotate: asyncRotate,</code></li>
<li class='green'><span class=''> </span><code>    permutations: asyncPermutations,</code></li>
<li class='green'><span class=''> </span><code>    transpose: asyncTranspose,</code></li>
<li class='green'><span class=''> </span><code>    valuesAt: asyncValuesAt,</code></li>
<li class='green'><span class=''> </span><code>    union: asyncUnion,</code></li>
<li class='green'><span class=''> </span><code>    intersect: asyncIntersect,</code></li>
<li class='green'><span class=''> </span><code>    powerSet: asyncPowerSet,</code></li>
<li class='green'><span class=''> </span><code>    cartesian: asyncCartesian,</code></li>
<li class='green'><span class=''> </span><code>    compact: asyncCompact,</code></li>
<li class='green'><span class=''> </span><code>    multiply: asyncMultiply,</code></li>
<li class='green'><span class=''> </span><code>    flatten: asyncFlatten,</code></li>
<li class='green'><span class=''> </span><code>    pluck: asyncPluck,</code></li>
<li class='green'><span class=''> </span><code>    invoke: asyncInvoke</code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var methods = ["forEach", "map", "filter", "some", "every", "zip", "sum", "avg", "sort", "min", "max", "difference", "removeDuplicates", "unique", "rotate",</code></li>
<li class='green'><span class=''> </span><code>    "permutations", "transpose", "valuesAt", "union", "intersect", "powerSet", "cartesian", "compact",</code></li>
<li class='green'><span class=''> </span><code>    "multiply", "flatten", "pluck", "invoke"];</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Exposes array methods on a {@link comb.Promise}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * The methods added are.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * * forEach : See {@link comb.async.forEach}.</code></li>
<li class='green'><span class=''> </span><code> * * map : See {@link comb.async.map}.</code></li>
<li class='green'><span class=''> </span><code> * * filter : See {@link comb.async.filter}.</code></li>
<li class='green'><span class=''> </span><code> * * some : See {@link comb.async.some}.</code></li>
<li class='green'><span class=''> </span><code> * * every : See {@link comb.async.every}.</code></li>
<li class='green'><span class=''> </span><code> * * zip : See {@link comb.async.zip}.</code></li>
<li class='green'><span class=''> </span><code> * * sum : See {@link comb.async.sum}.</code></li>
<li class='green'><span class=''> </span><code> * * avg : See {@link comb.async.avg}.</code></li>
<li class='green'><span class=''> </span><code> * * sort : See {@link comb.async.sort}.</code></li>
<li class='green'><span class=''> </span><code> * * min : See {@link comb.async.min}.</code></li>
<li class='green'><span class=''> </span><code> * * max : See {@link comb.async.max}.</code></li>
<li class='green'><span class=''> </span><code> * * difference : See {@link comb.async.difference}.</code></li>
<li class='green'><span class=''> </span><code> * * removeDuplicates : See {@link comb.async.removeDuplicates}.</code></li>
<li class='green'><span class=''> </span><code> * * unique : See {@link comb.async.unique}.</code></li>
<li class='green'><span class=''> </span><code> * * rotate : See {@link comb.async.rotate}.</code></li>
<li class='green'><span class=''> </span><code> * * permutations : See {@link comb.async.permutations}.</code></li>
<li class='green'><span class=''> </span><code> * * transpose : See {@link comb.async.transpose}.</code></li>
<li class='green'><span class=''> </span><code> * * valuesAt : See {@link comb.async.valuesAt}.</code></li>
<li class='green'><span class=''> </span><code> * * union : See {@link comb.async.union}.</code></li>
<li class='green'><span class=''> </span><code> * * intersect : See {@link comb.async.intersect}.</code></li>
<li class='green'><span class=''> </span><code> * * powerSet : See {@link comb.async.powerSet}.</code></li>
<li class='green'><span class=''> </span><code> * * cartesian : See {@link comb.async.cartesian}.</code></li>
<li class='green'><span class=''> </span><code> * * compact : See {@link comb.async.compact}.</code></li>
<li class='green'><span class=''> </span><code> * * multiply : See {@link comb.async.multiply}.</code></li>
<li class='green'><span class=''> </span><code> * * flatten : See {@link comb.async.flatten}.</code></li>
<li class='green'><span class=''> </span><code> * * pluck : See {@link comb.async.pluck}.</code></li>
<li class='green'><span class=''> </span><code> * * invoke : See {@link comb.async.invoke}.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * When using this method each of the methods are chainable so you can combine actions.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * var array = comb.async.array;</code></li>
<li class='green'><span class=''> </span><code> * function asyncArr(){</code></li>
<li class='green'><span class=''> </span><code> *     var ret = new comb.Promise();</code></li>
<li class='green'><span class=''> </span><code> *     process.nextTick(ret.callback.bind(ret, [1,2,3,4,5]);</code></li>
<li class='green'><span class=''> </span><code> *     return ret.promise;</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * array(asyncArr())</code></li>
<li class='green'><span class=''> </span><code> *      .map(function (num, i) {</code></li>
<li class='green'><span class=''> </span><code> *          return num * (i + 1);</code></li>
<li class='green'><span class=''> </span><code> *      }).filter(function (num) {</code></li>
<li class='green'><span class=''> </span><code> *          return num % 2;</code></li>
<li class='green'><span class=''> </span><code> *      }).avg().then(function(avg){</code></li>
<li class='green'><span class=''> </span><code> *          console.log(avg); //11.666666666666666</code></li>
<li class='green'><span class=''> </span><code> *      });</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * @param {comb.Promise|[]} p the promise or array to use.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberof comb.async</code></li>
<li class='green'><span class=''> </span><code> * @name array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function asyncArray(p) {</code></li>
<li class='green'><span class='hits'>626</span><code>    var ret;</code></li>
<li class='green'><span class='hits'>626</span><code>    if (!p || !p.__isArrayAsync__) {</code></li>
<li class='green'><span class='hits'>410</span><code>        ret = merge(when(p), {</code></li>
<li class='green'><span class=''> </span><code>            promise: function () {</code></li>
<li class='green'><span class='hits'>216</span><code>                return asyncArray(this);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class='hits'>410</span><code>        forEach(methods, function (m) {</code></li>
<li class='green'><span class='hits'>11070</span><code>            var func = asyncExports[m];</code></li>
<li class='green'><span class='hits'>11070</span><code>            ret[m] = function () {</code></li>
<li class='green'><span class='hits'>143</span><code>                var args = argsToArray(arguments), mRet = new Promise();</code></li>
<li class='green'><span class='hits'>143</span><code>                nextTick(function () {</code></li>
<li class='green'><span class='hits'>143</span><code>                    func.apply(null, [ret].concat(args)).then(mRet);</code></li>
<li class='green'><span class=''> </span><code>                });</code></li>
<li class='green'><span class='hits'>143</span><code>                return asyncArray(mRet);</code></li>
<li class='green'><span class=''> </span><code>            };</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class='hits'>410</span><code>        ret.__isArrayAsync__ = true;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>216</span><code>        ret = p;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>626</span><code>    p = null;</code></li>
<li class='green'><span class='hits'>626</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="logging/index.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>logging/index.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>98.91</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>738</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>184</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>2</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="logging/index.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var os = require("os"),</code></li>
<li class='green'><span class=''> </span><code>    define = require("../define.js"),</code></li>
<li class='green'><span class=''> </span><code>    base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>    isString = base.isString,</code></li>
<li class='green'><span class=''> </span><code>    merge = base.merge,</code></li>
<li class='green'><span class=''> </span><code>    isUndefinedOrNull = base.isUndefinedOrNull,</code></li>
<li class='green'><span class=''> </span><code>    isHash = base.isHash,</code></li>
<li class='green'><span class=''> </span><code>    isInstanceOf = base.isInstanceOf,</code></li>
<li class='green'><span class=''> </span><code>    argsToArray = base.argsToArray,</code></li>
<li class='green'><span class=''> </span><code>    format = base.string.format,</code></li>
<li class='green'><span class=''> </span><code>    Level = require("./level"),</code></li>
<li class='green'><span class=''> </span><code>    appenders = require("./appenders"),</code></li>
<li class='green'><span class=''> </span><code>    Appender = appenders.Appender,</code></li>
<li class='green'><span class=''> </span><code>    configurators = require("./config");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var rootTree;</code></li>
<li class='green'><span class='hits'>1</span><code>var LoggerTree = define.define(null, {</code></li>
<li class='green'><span class=''> </span><code>    instance: {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor: function (root) {</code></li>
<li class='green'><span class='hits'>14</span><code>            this.__root = root;</code></li>
<li class='green'><span class='hits'>14</span><code>            this.__name = root.name;</code></li>
<li class='green'><span class='hits'>14</span><code>            this.__level = root.level;</code></li>
<li class='green'><span class='hits'>14</span><code>            this.__parent = root._parent;</code></li>
<li class='green'><span class='hits'>14</span><code>            this.__map = {};</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __getSubLoggers: function () {</code></li>
<li class='green'><span class='hits'>6</span><code>            var map = this.__map, ret = [], n;</code></li>
<li class='green'><span class='hits'>6</span><code>            for (var i in map) {</code></li>
<li class='green'><span class='hits'>2</span><code>                n = map[i];</code></li>
<li class='green'><span class='hits'>2</span><code>                if (n) {</code></li>
<li class='green'><span class='hits'>2</span><code>                    ret = ret.concat(n.tree.getCurrentLoggers());</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>6</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __getLoggers: function () {</code></li>
<li class='green'><span class='hits'>4</span><code>            return [this.__root].concat(this.__getSubLoggers())</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getCurrentLoggers: function () {</code></li>
<li class='green'><span class='hits'>4</span><code>            return this.__getLoggers();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getSubLoggers: function () {</code></li>
<li class='green'><span class='hits'>2</span><code>            return this.__getSubLoggers();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getLogger: function (name) {</code></li>
<li class='green'><span class='hits'>31</span><code>            var ret;</code></li>
<li class='green'><span class='hits'>31</span><code>            if (name) {</code></li>
<li class='green'><span class='hits'>29</span><code>                var parts = name.split(".");</code></li>
<li class='green'><span class='hits'>29</span><code>                if (parts.length) {</code></li>
<li class='green'><span class='hits'>29</span><code>                    var category = parts.shift();</code></li>
<li class='green'><span class='hits'>29</span><code>                    var lNode = this.__map[category];</code></li>
<li class='green'><span class='hits'>29</span><code>                    if (!lNode) {</code></li>
<li class='green'><span class='hits'>13</span><code>                        lNode = this.__map[category] = new Logger(category, this);</code></li>
<li class='green'><span class='hits'>13</span><code>                        lNode.addAppenders(this.__root.appenders);</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class='hits'>29</span><code>                    ret = lNode;</code></li>
<li class='green'><span class='hits'>29</span><code>                    if (parts.length) {</code></li>
<li class='green'><span class=''> </span><code>                        //keep searching</code></li>
<li class='green'><span class='hits'>10</span><code>                        name = parts.join(".");</code></li>
<li class='green'><span class='hits'>10</span><code>                        ret = lNode.tree.getLogger(name);</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>2</span><code>                ret = this.__root;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>31</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getRootLogger: function () {</code></li>
<li class='green'><span class='hits'>11</span><code>            return this.__root;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        isDisabled: function (level) {</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        resetConfiguration: function () {</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * level = string|Level</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        addAppender: function (appender) {</code></li>
<li class='green'><span class='hits'>63</span><code>            var map = this.__map;</code></li>
<li class='green'><span class='hits'>63</span><code>            for (var i in map) {</code></li>
<li class='green'><span class='hits'>41</span><code>                map[i].addAppender(appender);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        removeAppender: function (name) {</code></li>
<li class='green'><span class='hits'>46</span><code>            var map = this.__map;</code></li>
<li class='green'><span class='hits'>46</span><code>            for (var i in map) {</code></li>
<li class='green'><span class='hits'>39</span><code>                map[i].removeAppender(name);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        setters: {</code></li>
<li class='green'><span class=''> </span><code>            level: function (level) {</code></li>
<li class='green'><span class='hits'>57</span><code>                this.__level = level;</code></li>
<li class='green'><span class='hits'>57</span><code>                if (level &amp;&amp; level instanceof Level) {</code></li>
<li class='green'><span class='hits'>57</span><code>                    var map = this.__map;</code></li>
<li class='green'><span class='hits'>57</span><code>                    for (var i in map) {</code></li>
<li class='green'><span class='hits'>2</span><code>                        map[i].level = level;</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getters: {</code></li>
<li class='green'><span class=''> </span><code>            categories: function () {</code></li>
<li class='green'><span class='hits'>2</span><code>                return this.getCurrentLoggers().map(function (l) {</code></li>
<li class='green'><span class='hits'>3</span><code>                    return l.fullName;</code></li>
<li class='green'><span class=''> </span><code>                });</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            name: function () {</code></li>
<li class='green'><span class='hits'>35</span><code>                var ret = this.__name;</code></li>
<li class='green'><span class='hits'>35</span><code>                if (this.__parent) {</code></li>
<li class='green'><span class='hits'>21</span><code>                    var pName = this.__parent.name;</code></li>
<li class='green'><span class='hits'>21</span><code>                    if (pName) {</code></li>
<li class='green'><span class='hits'>8</span><code>                        ret = pName + "." + ret;</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>35</span><code>                return ret;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            level: function () {</code></li>
<li class='green'><span class='hits'>13</span><code>                return this.__level;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            additive: function () {</code></li>
<li class='green'><span class='hits'>13</span><code>                return this.__root.additive;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var comb = exports;</code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignore</code></li>
<li class='green'><span class=''> </span><code> * @namespace logging package*/</code></li>
<li class='green'><span class='hits'>1</span><code>comb.logging = merge({</code></li>
<li class='green'><span class=''> </span><code>    Level: Level</code></li>
<li class='green'><span class=''> </span><code>}, configurators);</code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignore</code></li>
<li class='green'><span class=''> </span><code> * @namespace appenders for logging*/</code></li>
<li class='green'><span class='hits'>1</span><code>comb.logging.appenders = appenders;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var logging = comb.logging, hasGetGid = process.hasOwnProperty("getgid");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class This class is the entry point for all logging actions in comb.</code></li>
<li class='green'><span class=''> </span><code> * &lt;p&gt;&lt;b&gt;Logger should be retrieved by calling Logger.getLogger() NOT through the new keyword&lt;/b&gt;&lt;p&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;p&gt;</code></li>
<li class='green'><span class=''> </span><code> *     All loggers in comb follow a heirarchy of inheritance based on a dot notation.</code></li>
<li class='green'><span class=''> </span><code> *     &lt;pre class="code"&gt;</code></li>
<li class='green'><span class=''> </span><code> *                          rootLogger - ""</code></li>
<li class='green'><span class=''> </span><code> *                                  /         \</code></li>
<li class='green'><span class=''> </span><code> *                               "my"      "myOther"</code></li>
<li class='green'><span class=''> </span><code> *                               /               \</code></li>
<li class='green'><span class=''> </span><code> *                         "my.logger"       "myOther.logger"</code></li>
<li class='green'><span class=''> </span><code> *                            /                     \</code></li>
<li class='green'><span class=''> </span><code> *                       "my.logger.Log"        "myOther.logger.Log"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *     &lt;/pre&gt;</code></li>
<li class='green'><span class=''> </span><code> *     In the above Tree the rootLogger is the base for all logger. my and myOther inherit from rootLogger</code></li>
<li class='green'><span class=''> </span><code> *     my.logger inherits from my, and myOther.logger inherits from myOther. The logs do not have to be retrieved in</code></li>
<li class='green'><span class=''> </span><code> *     order. If I set rootLogger to ERROR level and added a console appender to it the appender and level will be</code></li>
<li class='green'><span class=''> </span><code> *     added to all logs. However if I set my to INFO level and add a fileAppender to it the level and appender will</code></li>
<li class='green'><span class=''> </span><code> *     only be added to logs in "my" subtree. If you set my.logger to not be additive then levels, and appenders will not</code></li>
<li class='green'><span class=''> </span><code> *     propogate down to the rest of the tree.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * &lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * &lt;p&gt;For information on levels see {@link comb.logging.Level}.&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;p&gt;For information on appenders see</code></li>
<li class='green'><span class=''> </span><code> *          &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;{@link comb.logging.appenders.Appender}&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;{@link comb.logging.appenders.ConsoleAppender}&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;{@link comb.logging.appenders.FileAppender}&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;{@link comb.logging.appenders.JSONAppender}&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *              &lt;li&gt;{@link comb.logging.appenders.RollingFileAppender}&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *          &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;p&gt;For information on configurators see {@link comb.logging.BasicConfigurator} or {@link comb.logging.PropertyConfigurator}.&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var logger = comb.logger;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //configure you logging environement</code></li>
<li class='green'><span class=''> </span><code> * logger.configure();</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //add a file appender to all loggers</code></li>
<li class='green'><span class=''> </span><code> * logger.configure(logger.appender("FileAppender", {file : "/var/log/myLog.log"});</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //Retreiving a logger.</code></li>
<li class='green'><span class=''> </span><code> * var combLogger = logger("comb");</code></li>
<li class='green'><span class=''> </span><code> * var combCollectionLogger = logger("comb.collections");</code></li>
<li class='green'><span class=''> </span><code> * var treeLogger = logger("comb.collections.Tree")</code></li>
<li class='green'><span class=''> </span><code> *                      //add a JSON appender to tree logger just for fun!</code></li>
<li class='green'><span class=''> </span><code> *                      .addAppender("JSONAppender", {file : "/var/log/myTreeLogger.json"})</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //set my treeLogger to DEBUG Level</code></li>
<li class='green'><span class=''> </span><code> * treeLogger.level = "DEBUG";</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @name Logger</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.logging</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @property {Array&lt;comb.logging.Logger&gt;} subLoggers all loggers this logger is the parent of.</code></li>
<li class='green'><span class=''> </span><code> * @property {comb.logging.Level} level the level of this Logger</code></li>
<li class='green'><span class=''> </span><code> * @property {Boolean} additive set to false to prevent changes to this logger from propogating down.</code></li>
<li class='green'><span class=''> </span><code> * @property {Boolean} isDebug true if this Loggers level is DEBUG</code></li>
<li class='green'><span class=''> </span><code> * @property {Boolean} isTrace true if this Loggers level is TRACE</code></li>
<li class='green'><span class=''> </span><code> * @property {Boolean} isInfo true if this Loggers level is INFO</code></li>
<li class='green'><span class=''> </span><code> * @property {Boolean} isWarn true if this Loggers level is WARN</code></li>
<li class='green'><span class=''> </span><code> * @property {Boolean} isError true if this Loggers level is ERROR</code></li>
<li class='green'><span class=''> </span><code> * @property {Boolean} isFatal true if this Loggers level is FATAL</code></li>
<li class='green'><span class=''> </span><code> * @property {Boolean} isOff true if this Loggers level is OFF</code></li>
<li class='green'><span class=''> </span><code> * @property {String} name the name of this logger this &lt;b&gt;does not&lt;/b&gt; include the dot notated name</code></li>
<li class='green'><span class=''> </span><code> * @property {String} fullName the full path name of this Logger.</code></li>
<li class='green'><span class=''> </span><code> * @property {comb.logging.appenders.Appender} appenders list of appenders this logger currently contains.</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>var Logger = (logging.Logger = define.define(null, {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    instance: {</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.logging.Logger.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor: function (name, parent) {</code></li>
<li class='green'><span class='hits'>14</span><code>            this.__additive = true;</code></li>
<li class='green'><span class='hits'>14</span><code>            this.__name = name;</code></li>
<li class='green'><span class='hits'>14</span><code>            this._parent = parent;</code></li>
<li class='green'><span class='hits'>14</span><code>            this._tree = new LoggerTree(this);</code></li>
<li class='green'><span class='hits'>14</span><code>            this.fullName = this._tree.name;</code></li>
<li class='green'><span class='hits'>14</span><code>            if (!parent || !parent.additive) {</code></li>
<li class='green'><span class='hits'>1</span><code>                this.level = Level.ALL;</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>13</span><code>                this.level = parent.level;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>14</span><code>            this.__appenders = {};</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Log an info level message</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} message the message to log.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.Logger} for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        info: function (message) {</code></li>
<li class='green'><span class='hits'>17</span><code>            return this.log.apply(this, [Level.INFO].concat(argsToArray(arguments)));</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Log an debug level message</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} message the message to log.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.Logger} for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        debug: function (message) {</code></li>
<li class='green'><span class='hits'>14</span><code>            return this.log.apply(this, [Level.DEBUG].concat(argsToArray(arguments)));</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Log an error level message</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} message the message to log.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.Logger} for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        error: function (message) {</code></li>
<li class='green'><span class='hits'>14</span><code>            return this.log.apply(this, [Level.ERROR].concat(argsToArray(arguments)));</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Log an warn level message</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} message the message to log.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.Logger} for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        warn: function (message) {</code></li>
<li class='green'><span class='hits'>14</span><code>            return this.log.apply(this, [Level.WARN].concat(argsToArray(arguments)));</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Log an trace level message</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} message the message to log.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.Logger} for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        trace: function (message) {</code></li>
<li class='green'><span class='hits'>14</span><code>            return this.log.apply(this, [Level.TRACE].concat(argsToArray(arguments)));</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Log an fatal level message</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} message the message to log.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.Logger} for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        fatal: function (message) {</code></li>
<li class='green'><span class='hits'>14</span><code>            return this.log.apply(this, [Level.FATAL].concat(argsToArray(arguments)));</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Create a timer that can be used to log statements with a duration at the send.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * ```</code></li>
<li class='green'><span class=''> </span><code>         * var timer = LOGGER.timer();</code></li>
<li class='green'><span class=''> </span><code>         * setTimeout(function(){</code></li>
<li class='green'><span class=''> </span><code>         *      timer.info("HELLO TIMERS!!!"); //HELLO TIMERS!!! [Duration: 5000ms]</code></li>
<li class='green'><span class=''> </span><code>         * }, 5000);</code></li>
<li class='green'><span class=''> </span><code>         * ```</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param timerFormat</code></li>
<li class='green'><span class=''> </span><code>         * @returns {{info: *, debug: *, error: *, warn: *, trace: *, fatal: *, end: Function}}</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        timer: function (timerFormat) {</code></li>
<li class='green'><span class='hits'>6</span><code>            timerFormat = timerFormat || " [Duration: %dms]";</code></li>
<li class='green'><span class='hits'>6</span><code>            function timerLog(level, start) {</code></li>
<li class='green'><span class='hits'>42</span><code>                return function (message) {</code></li>
<li class='green'><span class='hits'>24</span><code>                    var args = argsToArray(arguments, 1);</code></li>
<li class='green'><span class='hits'>24</span><code>                    message += timerFormat;</code></li>
<li class='green'><span class='hits'>24</span><code>                    args.push(new Date() - start);</code></li>
<li class='green'><span class='hits'>24</span><code>                    self.log.apply(self, [level, message].concat(args));</code></li>
<li class='green'><span class='hits'>24</span><code>                    return ret;</code></li>
<li class='green'><span class=''> </span><code>                };</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>6</span><code>            var start = new Date(),</code></li>
<li class='green'><span class=''> </span><code>                self = this,</code></li>
<li class='green'><span class=''> </span><code>                ret = {</code></li>
<li class='green'><span class=''> </span><code>                    info: timerLog(Level.INFO, start),</code></li>
<li class='green'><span class=''> </span><code>                    debug: timerLog(Level.DEBUG, start),</code></li>
<li class='green'><span class=''> </span><code>                    error: timerLog(Level.ERROR, start),</code></li>
<li class='green'><span class=''> </span><code>                    warn: timerLog(Level.WARN, start),</code></li>
<li class='green'><span class=''> </span><code>                    trace: timerLog(Level.TRACE, start),</code></li>
<li class='green'><span class=''> </span><code>                    fatal: timerLog(Level.FATAL, start),</code></li>
<li class='green'><span class=''> </span><code>                    log: function (level) {</code></li>
<li class='green'><span class='hits'>6</span><code>                        return timerLog(level, start).apply(this, argsToArray(arguments, 1));</code></li>
<li class='green'><span class=''> </span><code>                    },</code></li>
<li class='green'><span class=''> </span><code>                    end: function () {</code></li>
<li class='red'><span class='nohits'>0</span><code>                        start = self = null;</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                };</code></li>
<li class='green'><span class='hits'>6</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Creates a log event to be passed to appenders</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {comb.logging.Level} level the level of the logging event</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} message the message to be logged</code></li>
<li class='green'><span class=''> </span><code>         * @return {Object} the logging event</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        getLogEvent: function getLogEvent(level, message) {</code></li>
<li class='green'><span class='hits'>82</span><code>            return {</code></li>
<li class='green'><span class=''> </span><code>                hostname: os.hostname(),</code></li>
<li class='green'><span class=''> </span><code>                pid: process.pid,</code></li>
<li class='green'><span class=''> </span><code>                gid: hasGetGid ? process.getgid() : null,</code></li>
<li class='green'><span class=''> </span><code>                processTitle: process.title,</code></li>
<li class='green'><span class=''> </span><code>                level: level,</code></li>
<li class='green'><span class=''> </span><code>                levelName: level.name,</code></li>
<li class='green'><span class=''> </span><code>                message: message,</code></li>
<li class='green'><span class=''> </span><code>                timeStamp: new Date(),</code></li>
<li class='green'><span class=''> </span><code>                name: this.fullName</code></li>
<li class='green'><span class=''> </span><code>            };</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Log a message</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {comb.logging.Level} level the level the message is</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} message the message to log.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.Logger} for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        log: function (level, message) {</code></li>
<li class='green'><span class='hits'>117</span><code>            level = Level.toLevel(level);</code></li>
<li class='green'><span class='hits'>117</span><code>            if (this.hasLevelGt(level)) {</code></li>
<li class='green'><span class='hits'>81</span><code>                var args = argsToArray(arguments, 1);</code></li>
<li class='green'><span class='hits'>81</span><code>                if (args.length &gt; 1) {</code></li>
<li class='green'><span class='hits'>30</span><code>                    message = format.apply(null, args);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>81</span><code>                if (Level.TRACE.equals(level)) {</code></li>
<li class='green'><span class='hits'>13</span><code>                    var err = new Error;</code></li>
<li class='green'><span class='hits'>13</span><code>                    err.name = "Trace";</code></li>
<li class='green'><span class='hits'>13</span><code>                    err.message = message || '';</code></li>
<li class='green'><span class='hits'>13</span><code>                    Error.captureStackTrace(err, arguments.callee);</code></li>
<li class='green'><span class='hits'>13</span><code>                    message = err.stack;</code></li>
<li class='green'><span class='hits'>68</span><code>                } else if (Level.ERROR.equals(level) &amp;&amp; isInstanceOf(message, Error)) {</code></li>
<li class='red'><span class='nohits'>0</span><code>                    message = message.stack;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>81</span><code>                var type = level.name.toLowerCase(), appenders = this.__appenders;</code></li>
<li class='green'><span class='hits'>81</span><code>                var event = this.getLogEvent(level, message);</code></li>
<li class='green'><span class='hits'>81</span><code>                Object.keys(appenders).forEach(function (i) {</code></li>
<li class='green'><span class='hits'>81</span><code>                    appenders[i].append(event);</code></li>
<li class='green'><span class=''> </span><code>                });</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>117</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Add an appender to this logger. If this is additive then the appender is added to all subloggers.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         * comb.logger("my.logger")</code></li>
<li class='green'><span class=''> </span><code>         *  .addAppender("ConsoleAppender")</code></li>
<li class='green'><span class=''> </span><code>         *  .addAppender("FileAppender", {file:'/var/log/my.log'})</code></li>
<li class='green'><span class=''> </span><code>         *  .addAppender("RollingFileAppender", {file:'/var/log/myRolling.log'})</code></li>
<li class='green'><span class=''> </span><code>         *  .addAppender("JSONAppender", {file:'/var/log/myJson.log'});</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {comb.logging.Appender|String} If the appender is an {@link comb.logging.appenders.Appender} then it is added.</code></li>
<li class='green'><span class=''> </span><code>         * If the appender is a string then {@link comb.logging.appenders.Appender.createAppender} will be called to create it.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} [opts = null] If the first argument is a string then the opts will be used as constructor arguments for</code></li>
<li class='green'><span class=''> </span><code>         * creating the appender.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.Logger} for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        addAppender: function (appender, opts) {</code></li>
<li class='green'><span class='hits'>82</span><code>            var args = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>82</span><code>            if (isString(appender)) {</code></li>
<li class='green'><span class='hits'>12</span><code>                this.addAppender(Appender.createAppender(appender, opts));</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>70</span><code>                if (!isUndefinedOrNull(appender)) {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>70</span><code>                    var name = appender.name;</code></li>
<li class='green'><span class='hits'>70</span><code>                    if (!(name in this.__appenders)) {</code></li>
<li class='green'><span class='hits'>63</span><code>                        this.__appenders[name] = appender;</code></li>
<li class='green'><span class='hits'>63</span><code>                        if (!appender.level) {</code></li>
<li class='green'><span class='hits'>15</span><code>                            appender.level = this.level;</code></li>
<li class='green'><span class=''> </span><code>                        }</code></li>
<li class='green'><span class='hits'>63</span><code>                        this._tree.addAppender(appender);</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>82</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Short cut to add a list of appenders to this Logger</code></li>
<li class='green'><span class=''> </span><code>         * @param {Array&lt;comb.logging.Appender&gt;} appenders</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.Logger} for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        addAppenders: function (appenders) {</code></li>
<li class='green'><span class='hits'>14</span><code>            appenders.forEach(this.addAppender.bind(this));</code></li>
<li class='green'><span class='hits'>14</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Removes and appender from this logger.</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} name the name of the appender</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.Logger} for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        removeAppender: function (name) {</code></li>
<li class='green'><span class='hits'>46</span><code>            if (name in this.__appenders) {</code></li>
<li class='green'><span class='hits'>46</span><code>                delete this.__appenders[name];</code></li>
<li class='green'><span class='hits'>46</span><code>                this._tree.removeAppender(name);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>46</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Removes a list of appenders from this logger.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {String[]} appenders a list of names of appenders to remove</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.Logger} for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        removeAppenders: function (appenders) {</code></li>
<li class='green'><span class='hits'>1</span><code>            appenders.forEach(this.removeAppender, this);</code></li>
<li class='green'><span class='hits'>1</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Removes all appenders from this logger and sub loggers if this Logger is additive.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.Logger} for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        removeAllAppenders: function () {</code></li>
<li class='green'><span class='hits'>13</span><code>            Object.keys(this.__appenders).forEach(this.removeAppender.bind(this));</code></li>
<li class='green'><span class='hits'>13</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Determines if an appender is attached.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} name the name of the appender.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        isAppenderAttached: function (name) {</code></li>
<li class='green'><span class='hits'>38</span><code>            return (name in this.__appenders);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Gets an appender from this logger</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} name the name of the appender.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.Appender|undefined} returns the appender with the specified name or</code></li>
<li class='green'><span class=''> </span><code>         *                                          undefined if it is not found.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        getAppender: function (name) {</code></li>
<li class='green'><span class='hits'>8</span><code>            var ret;</code></li>
<li class='green'><span class='hits'>8</span><code>            if (name in this.__appenders) {</code></li>
<li class='green'><span class='hits'>8</span><code>                ret = this.__appenders[name];</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>8</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        hasLevelGt: function (level) {</code></li>
<li class='green'><span class='hits'>117</span><code>            var ret = level.isGreaterOrEqualToo(this.level), i, appenders, keys, l;</code></li>
<li class='green'><span class='hits'>117</span><code>            if (!ret) {</code></li>
<li class='green'><span class='hits'>36</span><code>                appenders = this.__appenders;</code></li>
<li class='green'><span class='hits'>36</span><code>                keys = Object.keys(appenders);</code></li>
<li class='green'><span class='hits'>36</span><code>                l = keys.length;</code></li>
<li class='green'><span class='hits'>36</span><code>                i = -1;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>36</span><code>                while (++i &lt; l &amp;&amp; !ret) {</code></li>
<li class='green'><span class='hits'>36</span><code>                    ret = level.isGreaterOrEqualToo(appenders[keys[i]].level);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>117</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * @ignore</code></li>
<li class='green'><span class=''> </span><code>         * */</code></li>
<li class='green'><span class=''> </span><code>        setters: {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            level: function (level) {</code></li>
<li class='green'><span class='hits'>58</span><code>                level = Level.toLevel(level);</code></li>
<li class='green'><span class='hits'>58</span><code>                if (this.__additive) {</code></li>
<li class='green'><span class='hits'>57</span><code>                    this.__level = level;</code></li>
<li class='green'><span class='hits'>57</span><code>                    var appenders = this.__appenders;</code></li>
<li class='green'><span class='hits'>57</span><code>                    for (var i in appenders) {</code></li>
<li class='green'><span class='hits'>47</span><code>                        appenders[i].level = level;</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class='hits'>57</span><code>                    this._tree.level = level;</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                    this.__level = level;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            additive: function (additive) {</code></li>
<li class='green'><span class='hits'>2</span><code>                this.__additive = additive;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>        getters: {</code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>            subLoggers: function () {</code></li>
<li class='green'><span class='hits'>2</span><code>                return this._tree.getSubLoggers();</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>            level: function () {</code></li>
<li class='green'><span class='hits'>223</span><code>                return this.__level;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>            additive: function () {</code></li>
<li class='green'><span class='hits'>15</span><code>                return this.__additive;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            isAll: function () {</code></li>
<li class='green'><span class='hits'>8</span><code>                return Level.ALL.isGreaterOrEqualToo(this.level);</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>            isDebug: function () {</code></li>
<li class='green'><span class='hits'>8</span><code>                return Level.DEBUG.isGreaterOrEqualToo(this.level);</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>            isTrace: function () {</code></li>
<li class='green'><span class='hits'>8</span><code>                return Level.TRACE.isGreaterOrEqualToo(this.level);</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>            isInfo: function () {</code></li>
<li class='green'><span class='hits'>8</span><code>                return Level.INFO.isGreaterOrEqualToo(this.level);</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>            isWarn: function () {</code></li>
<li class='green'><span class='hits'>8</span><code>                return Level.WARN.isGreaterOrEqualToo(this.level);</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>            isError: function () {</code></li>
<li class='green'><span class='hits'>8</span><code>                return Level.ERROR.isGreaterOrEqualToo(this.level);</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>            isFatal: function () {</code></li>
<li class='green'><span class='hits'>8</span><code>                return Level.FATAL.isGreaterOrEqualToo(this.level);</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>            isOff: function () {</code></li>
<li class='green'><span class='hits'>9</span><code>                return Level.OFF.equals(this.level);</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>            name: function () {</code></li>
<li class='green'><span class='hits'>14</span><code>                return this.__name;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>            tree: function () {</code></li>
<li class='green'><span class='hits'>13</span><code>                return this._tree;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>            appenders: function () {</code></li>
<li class='green'><span class='hits'>18</span><code>                var ret = [];</code></li>
<li class='green'><span class='hits'>18</span><code>                for (var i in this.__appenders) {</code></li>
<li class='green'><span class='hits'>8</span><code>                    ret.push(this.__appenders[i]);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>18</span><code>                return ret;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            categories: function () {</code></li>
<li class='green'><span class='hits'>2</span><code>                return this._tree.categories;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    static: {</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.logging.Logger*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Return the root of all loggers</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        getRootLogger: function () {</code></li>
<li class='green'><span class='hits'>11</span><code>            return rootTree.getRootLogger();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Retrieves/Creates a logger based on the name passed in</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} name the name of the logger</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        getLogger: function (name) {</code></li>
<li class='green'><span class='hits'>21</span><code>            return rootTree.getLogger(name);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}));</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @function</code></li>
<li class='green'><span class=''> </span><code> * @description Alias to {@link comb.logging.Logger.getLogger}.  See {@link comb.logging.Logger} for more information.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.logger("my.logger");</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @namespace</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>exports.logger = Logger.getLogger.bind(Logger);</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @function</code></li>
<li class='green'><span class=''> </span><code> * @description Shortcut to configure loggers.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //same as new comb.logging.BasicConfigurator().configure();</code></li>
<li class='green'><span class=''> </span><code> * comb.logger.configure();</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //new comb.logging.PropertyConfigurator().configure("/location/to/logger/configuration.json");</code></li>
<li class='green'><span class=''> </span><code> * comb.logger.configure("/location/to/logger/configuration.json");</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.logger</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>exports.logger.configure = function configure() {</code></li>
<li class='green'><span class='hits'>4</span><code>    var args = argsToArray(arguments), configurator;</code></li>
<li class='green'><span class='hits'>4</span><code>    if (!args.length) {</code></li>
<li class='green'><span class='hits'>1</span><code>        configurator = new configurators.BasicConfigurator();</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>3</span><code>        var first = args[0];</code></li>
<li class='green'><span class='hits'>3</span><code>        if (isHash(first) || isString(first)) {</code></li>
<li class='green'><span class='hits'>2</span><code>            configurator = new configurators.PropertyConfigurator();</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>1</span><code>            configurator = new configurators.BasicConfigurator();</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>4</span><code>    configurator.configure.apply(configurator, args);</code></li>
<li class='green'><span class='hits'>4</span><code>    return this;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @function</code></li>
<li class='green'><span class=''> </span><code> * @description Factory method for creating appenders. See {@link comb.logging.appenders.Appender.createAppender} for</code></li>
<li class='green'><span class=''> </span><code> * arguments.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var appender = comb.logger.appender("ConsoleAppender");</code></li>
<li class='green'><span class=''> </span><code> * comb.logger("my.logger").addAppender(appender);</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.logger</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>exports.logger.appender = Appender.createAppender.bind(Appender);</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var rootLogger = new Logger("");</code></li>
<li class='green'><span class='hits'>1</span><code>rootTree = rootLogger._tree;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * The root for all loggers.</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.logger</code></li>
<li class='green'><span class=''> </span><code> * @type comb.logging.Logger</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>exports.logger.rootLogger = rootLogger;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="base/date/index.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>base/date/index.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>99.33</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>910</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>300</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>2</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="base/date/index.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var string,</code></li>
<li class='green'><span class=''> </span><code>    transforms = require("./transforms.js"),</code></li>
<li class='green'><span class=''> </span><code>    addTransform = transforms.addTransform,</code></li>
<li class='green'><span class=''> </span><code>    differenceTransform = transforms.differenceTransform;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function getString() {</code></li>
<li class='green'><span class='hits'>298</span><code>    return string || (string = require("../string").string);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignore</code></li>
<li class='green'><span class=''> </span><code> * Based on DOJO Date Implementation</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * Dojo is available under *either* the terms of the modified BSD license *or* the</code></li>
<li class='green'><span class=''> </span><code> * Academic Free License version 2.1. As a recipient of Dojo, you may choose which</code></li>
<li class='green'><span class=''> </span><code> * license to receive this code under (except as noted in per-module LICENSE</code></li>
<li class='green'><span class=''> </span><code> * files). Some modules may not be the copyright of the Dojo Foundation. These</code></li>
<li class='green'><span class=''> </span><code> * modules contain explicit declarations of copyright in both the LICENSE files in</code></li>
<li class='green'><span class=''> </span><code> * the directories in which they reside and in the code itself. No external</code></li>
<li class='green'><span class=''> </span><code> * contributions are allowed under licenses which are fundamentally incompatible</code></li>
<li class='green'><span class=''> </span><code> * with the AFL or BSD licenses that Dojo is distributed under.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var floor = Math.floor, round = Math.round, min = Math.min, pow = Math.pow, ceil = Math.ceil, abs = Math.abs;</code></li>
<li class='green'><span class='hits'>1</span><code>var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];</code></li>
<li class='green'><span class='hits'>1</span><code>var monthAbbr = ["Jan.", "Feb.", "Mar.", "Apr.", "May.", "Jun.", "Jul.", "Aug.", "Sep.", "Oct.", "Nov.", "Dec."];</code></li>
<li class='green'><span class='hits'>1</span><code>var monthLetter = ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"];</code></li>
<li class='green'><span class='hits'>1</span><code>var dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];</code></li>
<li class='green'><span class='hits'>1</span><code>var dayAbbr = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];</code></li>
<li class='green'><span class='hits'>1</span><code>var dayLetter = ["S", "M", "T", "W", "T", "F", "S"];</code></li>
<li class='green'><span class='hits'>1</span><code>var eraNames = ["Before Christ", "Anno Domini"];</code></li>
<li class='green'><span class='hits'>1</span><code>var eraAbbr = ["BC", "AD"];</code></li>
<li class='green'><span class='hits'>1</span><code>var eraLetter = ["B", "A"];</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var comb = exports, date;</code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determines if obj is a Date</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Anything} obj the thing to test if it is a Date</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @returns {Boolean} true if it is a Date false otherwise</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.isDate = function (obj) {</code></li>
<li class='green'><span class='hits'>1252</span><code>    var undef;</code></li>
<li class='green'><span class='hits'>1252</span><code>    return (obj !== undef &amp;&amp; typeof obj === "object" &amp;&amp; obj instanceof Date);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function getDayOfYear(/*Date*/dateObject, utc) {</code></li>
<li class='green'><span class=''> </span><code>    // summary: gets the day of the year as represented by dateObject</code></li>
<li class='green'><span class='hits'>6</span><code>    return date.difference(new Date(dateObject.getFullYear(), 0, 1, dateObject.getHours()), dateObject, null, utc) + 1; // Number</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function getWeekOfYear(/*Date*/dateObject, /*Number*/firstDayOfWeek, utc) {</code></li>
<li class='green'><span class='hits'>4</span><code>    firstDayOfWeek = firstDayOfWeek || 0;</code></li>
<li class='green'><span class='hits'>4</span><code>    var fullYear = dateObject[utc ? "getUTCFullYear" : "getFullYear"]();</code></li>
<li class='green'><span class='hits'>4</span><code>    var firstDayOfYear = new Date(fullYear, 0, 1).getDay(),</code></li>
<li class='green'><span class=''> </span><code>        adj = (firstDayOfYear - firstDayOfWeek + 7) % 7,</code></li>
<li class='green'><span class=''> </span><code>        week = floor((getDayOfYear(dateObject) + adj - 1) / 7);</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    // if year starts on the specified day, start counting weeks at 1</code></li>
<li class='green'><span class='hits'>4</span><code>    if (firstDayOfYear === firstDayOfWeek) {</code></li>
<li class='green'><span class='hits'>4</span><code>        week++;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>4</span><code>    return week; // Number</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function getTimezoneName(/*Date*/dateObject) {</code></li>
<li class='green'><span class='hits'>37</span><code>    var str = dateObject.toString();</code></li>
<li class='green'><span class='hits'>37</span><code>    var tz = '';</code></li>
<li class='green'><span class='hits'>37</span><code>    var pos = str.indexOf('(');</code></li>
<li class='green'><span class='hits'>37</span><code>    if (pos &gt; -1) {</code></li>
<li class='green'><span class='hits'>33</span><code>        tz = str.substring(++pos, str.indexOf(')'));</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>37</span><code>    return tz; // String</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function buildDateEXP(pattern, tokens) {</code></li>
<li class='green'><span class='hits'>55</span><code>    return pattern.replace(/([a-z])\1*/ig, function (match) {</code></li>
<li class='green'><span class=''> </span><code>        // Build a simple regexp.  Avoid captures, which would ruin the tokens list</code></li>
<li class='green'><span class='hits'>197</span><code>        var s,</code></li>
<li class='green'><span class=''> </span><code>            c = match.charAt(0),</code></li>
<li class='green'><span class=''> </span><code>            l = match.length,</code></li>
<li class='green'><span class=''> </span><code>            p2 = '', p3 = '';</code></li>
<li class='green'><span class='hits'>197</span><code>        p2 = '0?';</code></li>
<li class='green'><span class='hits'>197</span><code>        p3 = '0{0,2}';</code></li>
<li class='green'><span class='hits'>197</span><code>        if (c === 'y') {</code></li>
<li class='green'><span class='hits'>33</span><code>            s = '\\d{2,4}';</code></li>
<li class='green'><span class='hits'>164</span><code>        } else if (c === "M") {</code></li>
<li class='green'><span class='hits'>33</span><code>            s = (l &gt; 2) ? '\\S+?' : '1[0-2]|' + p2 + '[1-9]';</code></li>
<li class='green'><span class='hits'>131</span><code>        } else if (c === "D") {</code></li>
<li class='green'><span class='hits'>4</span><code>            s = '[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|' + p3 + '[1-9][0-9]|' + p2 + '[1-9]';</code></li>
<li class='green'><span class='hits'>127</span><code>        } else if (c === "d") {</code></li>
<li class='green'><span class='hits'>31</span><code>            s = '3[01]|[12]\\d|' + p2 + '[1-9]';</code></li>
<li class='green'><span class='hits'>96</span><code>        } else if (c === "w") {</code></li>
<li class='green'><span class='hits'>4</span><code>            s = '[1-4][0-9]|5[0-3]|' + p2 + '[1-9]';</code></li>
<li class='green'><span class='hits'>92</span><code>        } else if (c === "E") {</code></li>
<li class='green'><span class='hits'>12</span><code>            s = '\\S+';</code></li>
<li class='green'><span class='hits'>80</span><code>        } else if (c === "h") {</code></li>
<li class='green'><span class='hits'>10</span><code>            s = '1[0-2]|' + p2 + '[1-9]';</code></li>
<li class='green'><span class='hits'>70</span><code>        } else if (c === "K") {</code></li>
<li class='green'><span class='hits'>4</span><code>            s = '1[01]|' + p2 + '\\d';</code></li>
<li class='green'><span class='hits'>66</span><code>        } else if (c === "H") {</code></li>
<li class='green'><span class='hits'>2</span><code>            s = '1\\d|2[0-3]|' + p2 + '\\d';</code></li>
<li class='green'><span class='hits'>64</span><code>        } else if (c === "k") {</code></li>
<li class='green'><span class='hits'>2</span><code>            s = '1\\d|2[0-4]|' + p2 + '[1-9]';</code></li>
<li class='green'><span class='hits'>62</span><code>        } else if (c === "m" || c === "s") {</code></li>
<li class='green'><span class='hits'>30</span><code>            s = '[0-5]\\d';</code></li>
<li class='green'><span class='hits'>32</span><code>        } else if (c === "S") {</code></li>
<li class='green'><span class='hits'>10</span><code>            s = '\\d{' + l + '}';</code></li>
<li class='green'><span class='hits'>22</span><code>        } else if (c === "a") {</code></li>
<li class='green'><span class='hits'>6</span><code>            var am = 'AM', pm = 'PM';</code></li>
<li class='green'><span class='hits'>6</span><code>            s = am + '|' + pm;</code></li>
<li class='green'><span class='hits'>6</span><code>            if (am !== am.toLowerCase()) {</code></li>
<li class='green'><span class='hits'>6</span><code>                s += '|' + am.toLowerCase();</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>6</span><code>            if (pm !== pm.toLowerCase()) {</code></li>
<li class='green'><span class='hits'>6</span><code>                s += '|' + pm.toLowerCase();</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>6</span><code>            s = s.replace(/\./g, "\\.");</code></li>
<li class='green'><span class='hits'>16</span><code>        } else if (c === 'v' || c === 'z' || c === 'Z' || c === 'G' || c === 'q' || c === 'Q') {</code></li>
<li class='green'><span class='hits'>12</span><code>            s = ".*";</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>4</span><code>            s = c === " " ? "\\s*" : c + "*";</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>197</span><code>        if (tokens) {</code></li>
<li class='green'><span class='hits'>197</span><code>            tokens.push(match);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>197</span><code>        return "(" + s + ")"; // add capture</code></li>
<li class='green'><span class=''> </span><code>    }).replace(/[\xa0 ]/g, "[\\s\\xa0]"); // normalize whitespace.  Need explicit handling of \xa0 for IE.</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @namespace Utilities for Dates</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.date = {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**@lends comb.date*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * Returns the number of days in the month of a date</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @example</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.getDaysInMonth(new Date(2006, 1, 1)); //28</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.getDaysInMonth(new Date(2004, 1, 1)); //29</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.getDaysInMonth(new Date(2006, 2, 1)); //31</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.getDaysInMonth(new Date(2006, 3, 1)); //30</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.getDaysInMonth(new Date(2006, 4, 1)); //31</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.getDaysInMonth(new Date(2006, 5, 1)); //30</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.getDaysInMonth(new Date(2006, 6, 1)); //31</code></li>
<li class='green'><span class=''> </span><code>     * @param {Date} dateObject the date containing the month</code></li>
<li class='green'><span class=''> </span><code>     * @return {Number} the number of days in the month</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    getDaysInMonth: function (/*Date*/dateObject) {</code></li>
<li class='green'><span class=''> </span><code>        //	summary:</code></li>
<li class='green'><span class=''> </span><code>        //		Returns the number of days in the month used by dateObject</code></li>
<li class='green'><span class='hits'>36</span><code>        var month = dateObject.getMonth();</code></li>
<li class='green'><span class='hits'>36</span><code>        var days = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];</code></li>
<li class='green'><span class='hits'>36</span><code>        if (month === 1 &amp;&amp; date.isLeapYear(dateObject)) {</code></li>
<li class='green'><span class='hits'>6</span><code>            return 29;</code></li>
<li class='green'><span class=''> </span><code>        } // Number</code></li>
<li class='green'><span class='hits'>30</span><code>        return days[month]; // Number</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * Determines if a date is a leap year</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @example</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.isLeapYear(new Date(1600, 0, 1)); //true</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.isLeapYear(new Date(2004, 0, 1)); //true</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.isLeapYear(new Date(2000, 0, 1)); //true</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.isLeapYear(new Date(2006, 0, 1)); //false</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.isLeapYear(new Date(1900, 0, 1)); //false</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.isLeapYear(new Date(1800, 0, 1)); //false</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.isLeapYear(new Date(1700, 0, 1)); //false</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @param {Date} dateObject</code></li>
<li class='green'><span class=''> </span><code>     * @returns {Boolean} true if it is a leap year false otherwise</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    isLeapYear: function (/*Date*/dateObject, utc) {</code></li>
<li class='green'><span class='hits'>28</span><code>        var year = dateObject[utc ? "getUTCFullYear" : "getFullYear"]();</code></li>
<li class='green'><span class='hits'>28</span><code>        return (year % 400 === 0) || (year % 4 === 0 &amp;&amp; year % 100 !== 0);</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * Determines if a date is on a weekend</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @example</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * var thursday = new Date(2006, 8, 21);</code></li>
<li class='green'><span class=''> </span><code>     * var saturday = new Date(2006, 8, 23);</code></li>
<li class='green'><span class=''> </span><code>     * var sunday = new Date(2006, 8, 24);</code></li>
<li class='green'><span class=''> </span><code>     * var monday = new Date(2006, 8, 25);</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.isWeekend(thursday)); //false</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.isWeekend(saturday); //true</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.isWeekend(sunday); //true</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.isWeekend(monday)); //false</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @param {Date} dateObject the date to test</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @returns {Boolean} true if the date is a weekend</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    isWeekend: function (/*Date?*/dateObject, utc) {</code></li>
<li class='green'><span class=''> </span><code>        // summary:</code></li>
<li class='green'><span class=''> </span><code>        //	Determines if the date falls on a weekend, according to local custom.</code></li>
<li class='green'><span class='hits'>4</span><code>        var day = (dateObject || new Date())[utc ? "getUTCDay" : "getDay"]();</code></li>
<li class='green'><span class='hits'>4</span><code>        return day === 0 || day === 6;</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * Get the timezone of a date</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @example</code></li>
<li class='green'><span class=''> </span><code>     *  //just setting the strLocal to simulate the toString() of a date</code></li>
<li class='green'><span class=''> </span><code>     *  dt.str = 'Sun Sep 17 2006 22:25:51 GMT-0500 (CDT)';</code></li>
<li class='green'><span class=''> </span><code>     *  //just setting the strLocal to simulate the locale</code></li>
<li class='green'><span class=''> </span><code>     *  dt.strLocale = 'Sun 17 Sep 2006 10:25:51 PM CDT';</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.getTimezoneName(dt); //'CDT'</code></li>
<li class='green'><span class=''> </span><code>     *  dt.str = 'Sun Sep 17 2006 22:57:18 GMT-0500 (CDT)';</code></li>
<li class='green'><span class=''> </span><code>     *  dt.strLocale = 'Sun Sep 17 22:57:18 2006';</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.getTimezoneName(dt); //'CDT'</code></li>
<li class='green'><span class=''> </span><code>     * @param dateObject the date to get the timezone from</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @returns {String} the timezone of the date</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    getTimezoneName: getTimezoneName,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * Compares two dates</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @example</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * var d1 = new Date();</code></li>
<li class='green'><span class=''> </span><code>     * d1.setHours(0);</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.compare(d1, d1); // 0</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  var d1 = new Date();</code></li>
<li class='green'><span class=''> </span><code>     *  d1.setHours(0);</code></li>
<li class='green'><span class=''> </span><code>     *  var d2 = new Date();</code></li>
<li class='green'><span class=''> </span><code>     *  d2.setFullYear(2005);</code></li>
<li class='green'><span class=''> </span><code>     *  d2.setHours(12);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.compare(d1, d2, "date"); // 1</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.compare(d1, d2, "datetime"); // 1</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  var d1 = new Date();</code></li>
<li class='green'><span class=''> </span><code>     *  d1.setHours(0);</code></li>
<li class='green'><span class=''> </span><code>     *  var d2 = new Date();</code></li>
<li class='green'><span class=''> </span><code>     *  d2.setFullYear(2005);</code></li>
<li class='green'><span class=''> </span><code>     *  d2.setHours(12);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.compare(d2, d1, "date"); // -1</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.compare(d1, d2, "time"); //-1</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @param {Date|String} date1 the date to comapare</code></li>
<li class='green'><span class=''> </span><code>     * @param {Date|String} [date2=new Date()] the date to compare date1 againse</code></li>
<li class='green'><span class=''> </span><code>     * @param {"date"|"time"|"datetime"} portion compares the portion specified</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @returns -1 if date1 is &lt; date2 0 if date1 === date2  1 if date1 &gt; date2</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    compare: function (/*Date*/date1, /*Date*/date2, /*String*/portion) {</code></li>
<li class='green'><span class='hits'>10</span><code>        date1 = new Date(date1);</code></li>
<li class='green'><span class='hits'>10</span><code>        date2 = new Date((date2 || new Date()));</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>10</span><code>        if (portion === "date") {</code></li>
<li class='green'><span class=''> </span><code>            // Ignore times and compare dates.</code></li>
<li class='green'><span class='hits'>4</span><code>            date1.setHours(0, 0, 0, 0);</code></li>
<li class='green'><span class='hits'>4</span><code>            date2.setHours(0, 0, 0, 0);</code></li>
<li class='green'><span class='hits'>6</span><code>        } else if (portion === "time") {</code></li>
<li class='green'><span class=''> </span><code>            // Ignore dates and compare times.</code></li>
<li class='green'><span class='hits'>2</span><code>            date1.setFullYear(0, 0, 0);</code></li>
<li class='green'><span class='hits'>2</span><code>            date2.setFullYear(0, 0, 0);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>10</span><code>        return date1 &gt; date2 ? 1 : date1 &lt; date2 ? -1 : 0;</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * Adds a specified interval and amount to a date</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @example</code></li>
<li class='green'><span class=''> </span><code>     *  var dtA = new Date(2005, 11, 27);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "year", 1); //new Date(2006, 11, 27);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "years", 1); //new Date(2006, 11, 27);</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  dtA = new Date(2000, 0, 1);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "quarter", 1); //new Date(2000, 3, 1);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "quarters", 1); //new Date(2000, 3, 1);</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  dtA = new Date(2000, 0, 1);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "month", 1); //new Date(2000, 1, 1);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "months", 1); //new Date(2000, 1, 1);</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  dtA = new Date(2000, 0, 31);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "month", 1); //new Date(2000, 1, 29);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "months", 1); //new Date(2000, 1, 29);</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  dtA = new Date(2000, 0, 1);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "week", 1); //new Date(2000, 0, 8);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "weeks", 1); //new Date(2000, 0, 8);</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  dtA = new Date(2000, 0, 1);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "day", 1); //new Date(2000, 0, 2);</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  dtA = new Date(2000, 0, 1);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "weekday", 1); //new Date(2000, 0, 3);</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  dtA = new Date(2000, 0, 1, 11);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "hour", 1); //new Date(2000, 0, 1, 12);</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  dtA = new Date(2000, 11, 31, 23, 59);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "minute", 1); //new Date(2001, 0, 1, 0, 0);</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  dtA = new Date(2000, 11, 31, 23, 59, 59);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "second", 1); //new Date(2001, 0, 1, 0, 0, 0);</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *  dtA = new Date(2000, 11, 31, 23, 59, 59, 999);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.add(dtA, "millisecond", 1); //new Date(2001, 0, 1, 0, 0, 0, 0);</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @param {Date} date</code></li>
<li class='green'><span class=''> </span><code>     * @param {String} interval the interval to add</code></li>
<li class='green'><span class=''> </span><code>     *  &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;day | days&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;weekday | weekdays&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;year | years&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;week | weeks&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;quarter | quarters&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;months | months&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;hour | hours&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;minute | minutes&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;second | seconds&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;millisecond | milliseconds&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *  &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code>     * @param {Number} [amount=0] the amount to add</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    add: function (/*Date*/date, /*String*/interval, /*int*/amount) {</code></li>
<li class='green'><span class='hits'>234</span><code>        var res = addTransform(interval, date, amount || 0);</code></li>
<li class='green'><span class='hits'>234</span><code>        amount = res[0];</code></li>
<li class='green'><span class='hits'>234</span><code>        var property = res[1];</code></li>
<li class='green'><span class='hits'>234</span><code>        var sum = new Date(date);</code></li>
<li class='green'><span class='hits'>234</span><code>        var fixOvershoot = res[2];</code></li>
<li class='green'><span class='hits'>234</span><code>        if (property) {</code></li>
<li class='green'><span class='hits'>234</span><code>            sum["set" + property](sum["get" + property]() + amount);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>234</span><code>        if (fixOvershoot &amp;&amp; (sum.getDate() &lt; date.getDate())) {</code></li>
<li class='green'><span class='hits'>26</span><code>            sum.setDate(0);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>234</span><code>        return sum; // Date</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * Finds the difference between two dates based on the specified interval</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @example</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * var dtA, dtB;</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * dtA = new Date(2005, 11, 27);</code></li>
<li class='green'><span class=''> </span><code>     * dtB = new Date(2006, 11, 27);</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.difference(dtA, dtB, "year"); //1</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * dtA = new Date(2000, 1, 29);</code></li>
<li class='green'><span class=''> </span><code>     * dtB = new Date(2001, 2, 1);</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.difference(dtA, dtB, "quarter"); //4</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.difference(dtA, dtB, "month"); //13</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * dtA = new Date(2000, 1, 1);</code></li>
<li class='green'><span class=''> </span><code>     * dtB = new Date(2000, 1, 8);</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.difference(dtA, dtB, "week"); //1</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * dtA = new Date(2000, 1, 29);</code></li>
<li class='green'><span class=''> </span><code>     * dtB = new Date(2000, 2, 1);</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.difference(dtA, dtB, "day"); //1</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * dtA = new Date(2006, 7, 3);</code></li>
<li class='green'><span class=''> </span><code>     * dtB = new Date(2006, 7, 11);</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.difference(dtA, dtB, "weekday"); //6</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * dtA = new Date(2000, 11, 31, 23);</code></li>
<li class='green'><span class=''> </span><code>     * dtB = new Date(2001, 0, 1, 0);</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.difference(dtA, dtB, "hour"); //1</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * dtA = new Date(2000, 11, 31, 23, 59);</code></li>
<li class='green'><span class=''> </span><code>     * dtB = new Date(2001, 0, 1, 0, 0);</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.difference(dtA, dtB, "minute"); //1</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * dtA = new Date(2000, 11, 31, 23, 59, 59);</code></li>
<li class='green'><span class=''> </span><code>     * dtB = new Date(2001, 0, 1, 0, 0, 0);</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.difference(dtA, dtB, "second"); //1</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * dtA = new Date(2000, 11, 31, 23, 59, 59, 999);</code></li>
<li class='green'><span class=''> </span><code>     * dtB = new Date(2001, 0, 1, 0, 0, 0, 0);</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.difference(dtA, dtB, "millisecond"); //1</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @param {Date} date1</code></li>
<li class='green'><span class=''> </span><code>     * @param {Date} [date2 = new Date()]</code></li>
<li class='green'><span class=''> </span><code>     * @param {String} [interval = "day"] the intercal to find the difference of.</code></li>
<li class='green'><span class=''> </span><code>     *   &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;day | days&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;weekday | weekdays&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;year | years&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;week | weeks&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;quarter | quarters&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;months | months&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;hour | hours&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;minute | minutes&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;second | seconds&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *      &lt;li&gt;millisecond | milliseconds&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *  &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    difference: function (/*Date*/date1, /*Date?*/date2, /*String*/interval, utc) {</code></li>
<li class='green'><span class='hits'>162</span><code>        date2 = date2 || new Date();</code></li>
<li class='green'><span class='hits'>162</span><code>        interval = interval || "day";</code></li>
<li class='green'><span class='hits'>162</span><code>        return differenceTransform(interval, date1, date2, utc);</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * Parses a date string into a date object</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @example</code></li>
<li class='green'><span class=''> </span><code>     *  var aug_11_2006 = new Date(2006, 7, 11, 0);</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.parse("08/11/06", "MM/dd/yy"); //aug_11_2006</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.parse("11Aug2006", 'ddMMMyyyy'); //aug_11_2006</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.parse("Aug2006", 'MMMyyyy'); //new Date(2006, 7, 1)</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.parse("Aug 11, 2006", "MMM dd, yyyy"); //aug_11_2006</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.parse("August 11, 2006", "MMMM dd, yyyy"); //aug_11_2006</code></li>
<li class='green'><span class=''> </span><code>     *  comb.date.parse("Friday, August 11, 2006", "EEEE, MMMM dd, yyyy"); //aug_11_2006</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @param {String} dateStr The string to parse</code></li>
<li class='green'><span class=''> </span><code>     * @param {String} format the format of the date composed of the following options</code></li>
<li class='green'><span class=''> </span><code>     * &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; G    Era designator    Text    AD&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; y    Year    Year    1996; 96&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; M    Month in year    Month    July; Jul; 07&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; w    Week in year    Number    27&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; W    Week in month    Number    2&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; D    Day in year    Number    189&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; d    Day in month    Number    10&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; E    Day in week    Text    Tuesday; Tue&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; a    Am/pm marker    Text    PM&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; H    Hour in day (0-23)    Number    0&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; k    Hour in day (1-24)    Number    24&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; K    Hour in am/pm (0-11)    Number    0&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; h    Hour in am/pm (1-12)    Number    12&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; m    Minute in hour    Number    30&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; s    Second in minute    Number    55&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; S    Millisecond    Number    978&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; z    Time zone    General time zone    Pacific Standard Time; PST; GMT-08:00&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; Z    Time zone    RFC 822 time zone    -0800 &lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     * &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @returns {Date} the parsed date</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    parse: function (dateStr, format) {</code></li>
<li class='green'><span class='hits'>57</span><code>        if (!format) {</code></li>
<li class='green'><span class='hits'>2</span><code>            throw new Error('format required when calling comb.date.parse');</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>55</span><code>        var tokens = [], regexp = buildDateEXP(format, tokens),</code></li>
<li class='green'><span class=''> </span><code>            re = new RegExp("^" + regexp + "$", "i"),</code></li>
<li class='green'><span class=''> </span><code>            match = re.exec(dateStr);</code></li>
<li class='green'><span class='hits'>55</span><code>        if (!match) {</code></li>
<li class='green'><span class='hits'>7</span><code>            return null;</code></li>
<li class='green'><span class=''> </span><code>        } // null</code></li>
<li class='green'><span class='hits'>48</span><code>        var result = [1970, 0, 1, 0, 0, 0, 0], // will get converted to a Date at the end</code></li>
<li class='green'><span class=''> </span><code>            amPm = "",</code></li>
<li class='green'><span class=''> </span><code>            valid = match.every(function (v, i) {</code></li>
<li class='green'><span class='hits'>212</span><code>                if (i) {</code></li>
<li class='green'><span class='hits'>164</span><code>                    var token = tokens[i - 1];</code></li>
<li class='green'><span class='hits'>164</span><code>                    var l = token.length, type = token.charAt(0);</code></li>
<li class='green'><span class='hits'>164</span><code>                    if (type === 'y') {</code></li>
<li class='green'><span class='hits'>26</span><code>                        if (v &lt; 100) {</code></li>
<li class='green'><span class='hits'>6</span><code>                            v = parseInt(v, 10);</code></li>
<li class='green'><span class=''> </span><code>                            //choose century to apply, according to a sliding window</code></li>
<li class='green'><span class=''> </span><code>                            //of 80 years before and 20 years after present year</code></li>
<li class='green'><span class='hits'>6</span><code>                            var year = '' + new Date().getFullYear(),</code></li>
<li class='green'><span class=''> </span><code>                                century = year.substring(0, 2) * 100,</code></li>
<li class='green'><span class=''> </span><code>                                cutoff = min(year.substring(2, 4) + 20, 99);</code></li>
<li class='green'><span class='hits'>6</span><code>                            result[0] = (v &lt; cutoff) ? century + v : century - 100 + v;</code></li>
<li class='green'><span class=''> </span><code>                        } else {</code></li>
<li class='green'><span class='hits'>20</span><code>                            result[0] = v;</code></li>
<li class='green'><span class=''> </span><code>                        }</code></li>
<li class='green'><span class='hits'>138</span><code>                    } else if (type === "M") {</code></li>
<li class='green'><span class='hits'>28</span><code>                        if (l &gt; 2) {</code></li>
<li class='green'><span class='hits'>20</span><code>                            var months = monthNames;</code></li>
<li class='green'><span class='hits'>20</span><code>                            if (l === 3) {</code></li>
<li class='green'><span class='hits'>8</span><code>                                months = monthAbbr;</code></li>
<li class='green'><span class=''> </span><code>                            }</code></li>
<li class='green'><span class=''> </span><code>                            //Tolerate abbreviating period in month part</code></li>
<li class='green'><span class=''> </span><code>                            //Case-insensitive comparison</code></li>
<li class='green'><span class='hits'>20</span><code>                            v = v.replace(".", "").toLowerCase();</code></li>
<li class='green'><span class='hits'>20</span><code>                            months = months.map(function (s) {</code></li>
<li class='green'><span class='hits'>240</span><code>                                return s.replace(".", "").toLowerCase();</code></li>
<li class='green'><span class=''> </span><code>                            });</code></li>
<li class='green'><span class='hits'>20</span><code>                            if ((v = months.indexOf(v)) === -1) {</code></li>
<li class='green'><span class='hits'>2</span><code>                                return false;</code></li>
<li class='green'><span class=''> </span><code>                            }</code></li>
<li class='green'><span class=''> </span><code>                        } else {</code></li>
<li class='green'><span class='hits'>8</span><code>                            v--;</code></li>
<li class='green'><span class=''> </span><code>                        }</code></li>
<li class='green'><span class='hits'>26</span><code>                        result[1] = v;</code></li>
<li class='green'><span class='hits'>110</span><code>                    } else if (type === "E" || type === "e") {</code></li>
<li class='green'><span class='hits'>12</span><code>                        var days = dayNames;</code></li>
<li class='green'><span class='hits'>12</span><code>                        if (l === 3) {</code></li>
<li class='green'><span class='hits'>4</span><code>                            days = dayAbbr;</code></li>
<li class='green'><span class=''> </span><code>                        }</code></li>
<li class='green'><span class=''> </span><code>                        //Case-insensitive comparison</code></li>
<li class='green'><span class='hits'>12</span><code>                        v = v.toLowerCase();</code></li>
<li class='green'><span class='hits'>12</span><code>                        days = days.map(function (d) {</code></li>
<li class='green'><span class='hits'>84</span><code>                            return d.toLowerCase();</code></li>
<li class='green'><span class=''> </span><code>                        });</code></li>
<li class='green'><span class='hits'>12</span><code>                        var d = days.indexOf(v);</code></li>
<li class='green'><span class='hits'>12</span><code>                        if (d === -1) {</code></li>
<li class='green'><span class='hits'>4</span><code>                            v = parseInt(v, 10);</code></li>
<li class='green'><span class='hits'>4</span><code>                            if (isNaN(v) || v &gt; days.length) {</code></li>
<li class='green'><span class='hits'>2</span><code>                                return false;</code></li>
<li class='green'><span class=''> </span><code>                            }</code></li>
<li class='green'><span class=''> </span><code>                        } else {</code></li>
<li class='green'><span class='hits'>8</span><code>                            v = d;</code></li>
<li class='green'><span class=''> </span><code>                        }</code></li>
<li class='green'><span class='hits'>98</span><code>                    } else if (type === 'D' || type === "d") {</code></li>
<li class='green'><span class='hits'>30</span><code>                        if (type === "D") {</code></li>
<li class='green'><span class='hits'>4</span><code>                            result[1] = 0;</code></li>
<li class='green'><span class=''> </span><code>                        }</code></li>
<li class='green'><span class='hits'>30</span><code>                        result[2] = v;</code></li>
<li class='green'><span class='hits'>68</span><code>                    } else if (type === "a") {</code></li>
<li class='green'><span class='hits'>4</span><code>                        var am = "am";</code></li>
<li class='green'><span class='hits'>4</span><code>                        var pm = "pm";</code></li>
<li class='green'><span class='hits'>4</span><code>                        var period = /\./g;</code></li>
<li class='green'><span class='hits'>4</span><code>                        v = v.replace(period, '').toLowerCase();</code></li>
<li class='green'><span class=''> </span><code>                        // we might not have seen the hours field yet, so store the state and apply hour change later</code></li>
<li class='green'><span class='hits'>4</span><code>                        amPm = (v === pm) ? 'p' : (v === am) ? 'a' : '';</code></li>
<li class='green'><span class='hits'>64</span><code>                    } else if (type === "k" || type === "h" || type === "H" || type === "K") {</code></li>
<li class='green'><span class='hits'>14</span><code>                        if (type === "k" &amp;&amp; (+v) === 24) {</code></li>
<li class='green'><span class='hits'>2</span><code>                            v = 0;</code></li>
<li class='green'><span class=''> </span><code>                        }</code></li>
<li class='green'><span class='hits'>14</span><code>                        result[3] = v;</code></li>
<li class='green'><span class='hits'>50</span><code>                    } else if (type === "m") {</code></li>
<li class='green'><span class='hits'>14</span><code>                        result[4] = v;</code></li>
<li class='green'><span class='hits'>36</span><code>                    } else if (type === "s") {</code></li>
<li class='green'><span class='hits'>10</span><code>                        result[5] = v;</code></li>
<li class='green'><span class='hits'>26</span><code>                    } else if (type === "S") {</code></li>
<li class='green'><span class='hits'>8</span><code>                        result[6] = v;</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>208</span><code>                return true;</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>48</span><code>        if (valid) {</code></li>
<li class='green'><span class='hits'>44</span><code>            var hours = +result[3];</code></li>
<li class='green'><span class=''> </span><code>            //account for am/pm</code></li>
<li class='green'><span class='hits'>44</span><code>            if (amPm === 'p' &amp;&amp; hours &lt; 12) {</code></li>
<li class='green'><span class='hits'>2</span><code>                result[3] = hours + 12; //e.g., 3pm -&gt; 15</code></li>
<li class='green'><span class='hits'>42</span><code>            } else if (amPm === 'a' &amp;&amp; hours === 12) {</code></li>
<li class='green'><span class='hits'>2</span><code>                result[3] = 0; //12am -&gt; 0</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>44</span><code>            var dateObject = new Date(result[0], result[1], result[2], result[3], result[4], result[5], result[6]); // Date</code></li>
<li class='green'><span class='hits'>44</span><code>            var dateToken = (tokens.indexOf('d') !== -1),</code></li>
<li class='green'><span class=''> </span><code>                monthToken = (tokens.indexOf('M') !== -1),</code></li>
<li class='green'><span class=''> </span><code>                month = result[1],</code></li>
<li class='green'><span class=''> </span><code>                day = result[2],</code></li>
<li class='green'><span class=''> </span><code>                dateMonth = dateObject.getMonth(),</code></li>
<li class='green'><span class=''> </span><code>                dateDay = dateObject.getDate();</code></li>
<li class='green'><span class='hits'>44</span><code>            if ((monthToken &amp;&amp; dateMonth &gt; month) || (dateToken &amp;&amp; dateDay &gt; day)) {</code></li>
<li class='green'><span class='hits'>2</span><code>                return null;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>42</span><code>            return dateObject; // Date</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>4</span><code>            return null;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * Formats a date to the specidifed format string</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @example</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * var date = new Date(2006, 7, 11, 0, 55, 12, 345);</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.format(date, "EEEE, MMMM dd, yyyy"); //"Friday, August 11, 2006"</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.format(date, "M/dd/yy"); //"8/11/06"</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.format(date, "E"); //"6"</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.format(date, "h:m a"); //"12:55 AM"</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.format(date, 'h:m:s'); //"12:55:12"</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.format(date, 'h:m:s.SS'); //"12:55:12.35"</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.format(date, 'k:m:s.SS'); //"24:55:12.35"</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.format(date, 'H:m:s.SS'); //"0:55:12.35"</code></li>
<li class='green'><span class=''> </span><code>     * comb.date.format(date, "ddMMyyyy"); //"11082006"</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @param date the date to format</code></li>
<li class='green'><span class=''> </span><code>     * @param {String} format the format of the date composed of the following options</code></li>
<li class='green'><span class=''> </span><code>     * &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; G    Era designator    Text    AD&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; y    Year    Year    1996; 96&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; M    Month in year    Month    July; Jul; 07&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; w    Week in year    Number    27&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; W    Week in month    Number    2&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; D    Day in year    Number    189&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; d    Day in month    Number    10&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; E    Day in week    Text    Tuesday; Tue&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; a    Am/pm marker    Text    PM&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; H    Hour in day (0-23)    Number    0&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; k    Hour in day (1-24)    Number    24&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; K    Hour in am/pm (0-11)    Number    0&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; h    Hour in am/pm (1-12)    Number    12&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; m    Minute in hour    Number    30&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; s    Second in minute    Number    55&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; S    Millisecond    Number    978&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; z    Time zone    General time zone    Pacific Standard Time; PST; GMT-08:00&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     *                  &lt;li&gt; Z    Time zone    RFC 822 time zone    -0800 &lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>     * &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    format: function (date, format, utc) {</code></li>
<li class='green'><span class='hits'>78</span><code>        utc = utc || false;</code></li>
<li class='green'><span class='hits'>78</span><code>        var fullYear, month, day, d, hour, minute, second, millisecond;</code></li>
<li class='green'><span class='hits'>78</span><code>        if (utc) {</code></li>
<li class='green'><span class='hits'>26</span><code>            fullYear = date.getUTCFullYear();</code></li>
<li class='green'><span class='hits'>26</span><code>            month = date.getUTCMonth();</code></li>
<li class='green'><span class='hits'>26</span><code>            day = date.getUTCDay();</code></li>
<li class='green'><span class='hits'>26</span><code>            d = date.getUTCDate();</code></li>
<li class='green'><span class='hits'>26</span><code>            hour = date.getUTCHours();</code></li>
<li class='green'><span class='hits'>26</span><code>            minute = date.getUTCMinutes();</code></li>
<li class='green'><span class='hits'>26</span><code>            second = date.getUTCSeconds();</code></li>
<li class='green'><span class='hits'>26</span><code>            millisecond = date.getUTCMilliseconds();</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>52</span><code>            fullYear = date.getFullYear();</code></li>
<li class='green'><span class='hits'>52</span><code>            month = date.getMonth();</code></li>
<li class='green'><span class='hits'>52</span><code>            d = date.getDate();</code></li>
<li class='green'><span class='hits'>52</span><code>            day = date.getDay();</code></li>
<li class='green'><span class='hits'>52</span><code>            hour = date.getHours();</code></li>
<li class='green'><span class='hits'>52</span><code>            minute = date.getMinutes();</code></li>
<li class='green'><span class='hits'>52</span><code>            second = date.getSeconds();</code></li>
<li class='green'><span class='hits'>52</span><code>            millisecond = date.getMilliseconds();</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>78</span><code>        return format.replace(/([A-Za-z])\1*/g, function (match, options) {</code></li>
<li class='green'><span class='hits'>372</span><code>            var s, pad, h,</code></li>
<li class='green'><span class=''> </span><code>                c = match.charAt(0),</code></li>
<li class='green'><span class=''> </span><code>                l = match.length;</code></li>
<li class='green'><span class='hits'>372</span><code>            if (c === 'd') {</code></li>
<li class='green'><span class='hits'>42</span><code>                s = "" + d;</code></li>
<li class='green'><span class='hits'>42</span><code>                pad = true;</code></li>
<li class='green'><span class='hits'>330</span><code>            } else if (c === "H" &amp;&amp; !s) {</code></li>
<li class='green'><span class='hits'>30</span><code>                s = "" + hour;</code></li>
<li class='green'><span class='hits'>30</span><code>                pad = true;</code></li>
<li class='green'><span class='hits'>300</span><code>            } else if (c === 'm' &amp;&amp; !s) {</code></li>
<li class='green'><span class='hits'>40</span><code>                s = "" + minute;</code></li>
<li class='green'><span class='hits'>40</span><code>                pad = true;</code></li>
<li class='green'><span class='hits'>260</span><code>            } else if (c === 's') {</code></li>
<li class='green'><span class='hits'>38</span><code>                if (!s) {</code></li>
<li class='green'><span class='hits'>38</span><code>                    s = "" + second;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>38</span><code>                pad = true;</code></li>
<li class='green'><span class='hits'>222</span><code>            } else if (c === "G") {</code></li>
<li class='green'><span class='hits'>4</span><code>                s = ((l &lt; 4) ? eraAbbr : eraNames)[fullYear &lt; 0 ? 0 : 1];</code></li>
<li class='green'><span class='hits'>218</span><code>            } else if (c === "y") {</code></li>
<li class='green'><span class='hits'>48</span><code>                s = fullYear;</code></li>
<li class='green'><span class='hits'>48</span><code>                if (l &gt; 1) {</code></li>
<li class='green'><span class='hits'>48</span><code>                    if (l === 2) {</code></li>
<li class='green'><span class='hits'>6</span><code>                        s = getString().truncate("" + s, 2, true);</code></li>
<li class='green'><span class=''> </span><code>                    } else {</code></li>
<li class='green'><span class='hits'>42</span><code>                        pad = true;</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>170</span><code>            } else if (c.toUpperCase() === "Q") {</code></li>
<li class='green'><span class='hits'>6</span><code>                s = ceil((month + 1) / 3);</code></li>
<li class='green'><span class='hits'>6</span><code>                pad = true;</code></li>
<li class='green'><span class='hits'>164</span><code>            } else if (c === "M") {</code></li>
<li class='green'><span class='hits'>42</span><code>                if (l &lt; 3) {</code></li>
<li class='green'><span class='hits'>32</span><code>                    s = month + 1;</code></li>
<li class='green'><span class='hits'>32</span><code>                    pad = true;</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>10</span><code>                    s = (l === 3 ? monthAbbr : monthNames)[month];</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>122</span><code>            } else if (c === "w") {</code></li>
<li class='green'><span class='hits'>4</span><code>                s = getWeekOfYear(date, 0, utc);</code></li>
<li class='green'><span class='hits'>4</span><code>                pad = true;</code></li>
<li class='green'><span class='hits'>118</span><code>            } else if (c === "D") {</code></li>
<li class='green'><span class='hits'>2</span><code>                s = getDayOfYear(date, utc);</code></li>
<li class='green'><span class='hits'>2</span><code>                pad = true;</code></li>
<li class='green'><span class='hits'>116</span><code>            } else if (c === "E") {</code></li>
<li class='green'><span class='hits'>12</span><code>                if (l &lt; 3) {</code></li>
<li class='green'><span class='hits'>2</span><code>                    s = day + 1;</code></li>
<li class='green'><span class='hits'>2</span><code>                    pad = true;</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>10</span><code>                    s = (l === -3 ? dayAbbr : dayNames)[day];</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>104</span><code>            } else if (c === 'a') {</code></li>
<li class='green'><span class='hits'>2</span><code>                s = (hour &lt; 12) ? 'AM' : 'PM';</code></li>
<li class='green'><span class='hits'>102</span><code>            } else if (c === "h") {</code></li>
<li class='green'><span class='hits'>6</span><code>                s = (hour % 12) || 12;</code></li>
<li class='green'><span class='hits'>6</span><code>                pad = true;</code></li>
<li class='green'><span class='hits'>96</span><code>            } else if (c === "K") {</code></li>
<li class='green'><span class='hits'>2</span><code>                s = (hour % 12);</code></li>
<li class='green'><span class='hits'>2</span><code>                pad = true;</code></li>
<li class='green'><span class='hits'>94</span><code>            } else if (c === "k") {</code></li>
<li class='green'><span class='hits'>2</span><code>                s = hour || 24;</code></li>
<li class='green'><span class='hits'>2</span><code>                pad = true;</code></li>
<li class='green'><span class='hits'>92</span><code>            } else if (c === "S") {</code></li>
<li class='green'><span class='hits'>36</span><code>                s = round(millisecond * pow(10, l - 3));</code></li>
<li class='green'><span class='hits'>36</span><code>                pad = true;</code></li>
<li class='green'><span class='hits'>56</span><code>            } else if (c === "z" || c === "v" || c === "Z") {</code></li>
<li class='green'><span class='hits'>30</span><code>                s = getTimezoneName(date);</code></li>
<li class='green'><span class='hits'>30</span><code>                if ((c === "z" || c === "v") &amp;&amp; !s) {</code></li>
<li class='green'><span class='hits'>4</span><code>                    l = 4;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>30</span><code>                if (!s || c === "Z") {</code></li>
<li class='green'><span class='hits'>4</span><code>                    var offset = date.getTimezoneOffset();</code></li>
<li class='green'><span class='hits'>4</span><code>                    var tz = [</code></li>
<li class='green'><span class=''> </span><code>                        (offset &gt;= 0 ? "-" : "+"),</code></li>
<li class='green'><span class=''> </span><code>                        getString().pad(floor(abs(offset) / 60), 2, "0"),</code></li>
<li class='green'><span class=''> </span><code>                        getString().pad(abs(offset) % 60, 2, "0")</code></li>
<li class='green'><span class=''> </span><code>                    ];</code></li>
<li class='green'><span class='hits'>4</span><code>                    if (l === 4) {</code></li>
<li class='green'><span class='hits'>4</span><code>                        tz.splice(0, 0, "GMT");</code></li>
<li class='green'><span class='hits'>4</span><code>                        tz.splice(3, 0, ":");</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class='hits'>4</span><code>                    s = tz.join("");</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>26</span><code>                s = match;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>372</span><code>            if (pad) {</code></li>
<li class='green'><span class='hits'>284</span><code>                s = getString().pad(s, l, '0');</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>372</span><code>            return s;</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>date = comb.date;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Adds the specified year/s to the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //assuming that current year is 2012</code></li>
<li class='green'><span class=''> </span><code> * comb.yearsFromNow(1); //2013-mm-dd hh:MM:ss</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of years to add</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of years added</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.yearsFromNow = function (val) {</code></li>
<li class='green'><span class='hits'>1</span><code>    return date.add(new Date(), "years", val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Subtracts the specified year/s from the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of years to subtract</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of years subtracted</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.yearsAgo = function (val) {</code></li>
<li class='green'><span class='hits'>1</span><code>    return date.add(new Date(), "years", -val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Adds the specified month/s to the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //assuming that current month is february</code></li>
<li class='green'><span class=''> </span><code> * comb.yearsFromNow(2); //yyyy-04-dd hh:MM:ss</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of months to add</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of years added</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.monthsFromNow = function (val) {</code></li>
<li class='green'><span class='hits'>1</span><code>    return date.add(new Date(), "months", val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Subtracts the specified month/s from the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of months to subtract</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of months subtracted</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.monthsAgo = function (val) {</code></li>
<li class='green'><span class='hits'>1</span><code>    return date.add(new Date(), "months", -val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Adds the specified day/s to the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of days to add</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of days added</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.daysFromNow = function (val) {</code></li>
<li class='green'><span class='hits'>27</span><code>    return date.add(new Date(), "days", val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Subtracts the specified day/s from the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of days to subtract</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of days subtracted</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.daysAgo = function (val) {</code></li>
<li class='green'><span class='hits'>1</span><code>    return date.add(new Date(), "days", -val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Adds the specified weekday/s to the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of weekdays to add</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of weekdays added</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.weekDaysFromNow = function (val) {</code></li>
<li class='red'><span class='nohits'>0</span><code>    return date.add(new Date(), "weekdays", val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Subtracts the specified weekday/s from the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of weekdays to subtract</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of weekdays subtracted</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.weekDaysAgo = function (val) {</code></li>
<li class='red'><span class='nohits'>0</span><code>    return date.add(new Date(), "weekdays", -val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Adds the specified hour/s to the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of hours to add</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of hours added</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.hoursFromNow = function (val) {</code></li>
<li class='green'><span class='hits'>1</span><code>    return date.add(new Date(), "hours", val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Subtracts the specified hour/s from the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of hours to subtract</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of hours subtracted</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.hoursAgo = function (val) {</code></li>
<li class='green'><span class='hits'>1</span><code>    return date.add(new Date(), "hours", -val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Adds the specified minute/s to the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of minutes to add</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of minutes added</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.minutesFromNow = function (val) {</code></li>
<li class='green'><span class='hits'>1</span><code>    return date.add(new Date(), "minutes", val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Subtracts the specified minute/s from the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of minutes to subtract</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of minutes subtracted</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.minutesAgo = function (val) {</code></li>
<li class='green'><span class='hits'>1</span><code>    return date.add(new Date(), "minutes", -val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Adds the specified second/s to the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of seconds to add</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of seconds added</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.secondsFromNow = function (val) {</code></li>
<li class='green'><span class='hits'>1</span><code>    return date.add(new Date(), "seconds", val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Subtracts the specified second/s from the current date.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} val the number of seconds to subtract</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Date} a date with the number of seconds subtracted</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.secondsAgo = function (val) {</code></li>
<li class='green'><span class='hits'>1</span><code>    return date.add(new Date(), "seconds", -val);</code></li>
<li class='green'><span class=''> </span><code>};</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="base/array.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>base/array.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>1123</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>363</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="base/array.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var obj = require("./object"),</code></li>
<li class='green'><span class=''> </span><code>    merge = obj.merge,</code></li>
<li class='green'><span class=''> </span><code>    misc = require("./misc"),</code></li>
<li class='green'><span class=''> </span><code>    argsToArray = misc.argsToArray,</code></li>
<li class='green'><span class=''> </span><code>    string = require("./string"),</code></li>
<li class='green'><span class=''> </span><code>    isString = string.isString,</code></li>
<li class='green'><span class=''> </span><code>    number = require("./number.js"),</code></li>
<li class='green'><span class=''> </span><code>    floor = Math.floor,</code></li>
<li class='green'><span class=''> </span><code>    abs = Math.abs,</code></li>
<li class='green'><span class=''> </span><code>    mathMax = Math.max,</code></li>
<li class='green'><span class=''> </span><code>    mathMin = Math.min;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var isArray = exports.isArray = function isArray(obj) {</code></li>
<li class='green'><span class='hits'>12427</span><code>    return Object.prototype.toString.call(obj) === "[object Array]";</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function isDate(obj) {</code></li>
<li class='green'><span class='hits'>126</span><code>    var undef;</code></li>
<li class='green'><span class='hits'>126</span><code>    return (obj !== undef &amp;&amp; typeof obj === "object" &amp;&amp; obj instanceof Date);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function cross(num, cros) {</code></li>
<li class='green'><span class='hits'>21</span><code>    var ret = reduceRight(cros, function (a, b) {</code></li>
<li class='green'><span class='hits'>57</span><code>        if (!isArray(b)) {</code></li>
<li class='green'><span class='hits'>57</span><code>            b = [b];</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>57</span><code>        b.unshift(num);</code></li>
<li class='green'><span class='hits'>57</span><code>        a.unshift(b);</code></li>
<li class='green'><span class='hits'>57</span><code>        return a;</code></li>
<li class='green'><span class=''> </span><code>    }, []);</code></li>
<li class='green'><span class='hits'>21</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function permute(num, cross, length) {</code></li>
<li class='green'><span class='hits'>18</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>18</span><code>    for (var i = 0; i &lt; cross.length; i++) {</code></li>
<li class='green'><span class='hits'>36</span><code>        ret.push([num].concat(rotate(cross, i)).slice(0, length));</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>18</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function intersection(a, b) {</code></li>
<li class='green'><span class='hits'>40</span><code>    var ret = [], aOne;</code></li>
<li class='green'><span class='hits'>40</span><code>    if (isArray(a) &amp;&amp; isArray(b) &amp;&amp; a.length &amp;&amp; b.length) {</code></li>
<li class='green'><span class='hits'>38</span><code>        for (var i = 0, l = a.length; i &lt; l; i++) {</code></li>
<li class='green'><span class='hits'>129</span><code>            aOne = a[i];</code></li>
<li class='green'><span class='hits'>129</span><code>            if (indexOf(b, aOne) !== -1) {</code></li>
<li class='green'><span class='hits'>94</span><code>                ret.push(aOne);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>40</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var _sort = (function () {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>    var isAll = function (arr, test) {</code></li>
<li class='green'><span class='hits'>63</span><code>        return every(arr, test);</code></li>
<li class='green'><span class=''> </span><code>    };</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>    var defaultCmp = function (a, b) {</code></li>
<li class='green'><span class='hits'>90</span><code>        return a - b;</code></li>
<li class='green'><span class=''> </span><code>    };</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>    var dateSort = function (a, b) {</code></li>
<li class='green'><span class='hits'>27</span><code>        return a.getTime() - b.getTime();</code></li>
<li class='green'><span class=''> </span><code>    };</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>    return function _sort(arr, property) {</code></li>
<li class='green'><span class='hits'>66</span><code>        var ret = [];</code></li>
<li class='green'><span class='hits'>66</span><code>        if (isArray(arr)) {</code></li>
<li class='green'><span class='hits'>66</span><code>            ret = arr.slice();</code></li>
<li class='green'><span class='hits'>66</span><code>            if (property) {</code></li>
<li class='green'><span class='hits'>30</span><code>                if (typeof property === "function") {</code></li>
<li class='green'><span class='hits'>3</span><code>                    ret.sort(property);</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>27</span><code>                    ret.sort(function (a, b) {</code></li>
<li class='green'><span class='hits'>81</span><code>                        var aProp = a[property], bProp = b[property];</code></li>
<li class='green'><span class='hits'>81</span><code>                        if (isString(aProp) &amp;&amp; isString(bProp)) {</code></li>
<li class='green'><span class='hits'>27</span><code>                            return aProp &gt; bProp ? 1 : aProp &lt; bProp ? -1 : 0;</code></li>
<li class='green'><span class='hits'>54</span><code>                        } else if (isDate(aProp) &amp;&amp; isDate(bProp)) {</code></li>
<li class='green'><span class='hits'>27</span><code>                            return aProp.getTime() - bProp.getTime()</code></li>
<li class='green'><span class=''> </span><code>                        } else {</code></li>
<li class='green'><span class='hits'>27</span><code>                            return aProp - bProp;</code></li>
<li class='green'><span class=''> </span><code>                        }</code></li>
<li class='green'><span class=''> </span><code>                    });</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>36</span><code>                if (isAll(ret, isString)) {</code></li>
<li class='green'><span class='hits'>9</span><code>                    ret.sort();</code></li>
<li class='green'><span class='hits'>27</span><code>                } else if (isAll(ret, isDate)) {</code></li>
<li class='green'><span class='hits'>9</span><code>                    ret.sort(dateSort);</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>18</span><code>                    ret.sort(defaultCmp);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>66</span><code>        return ret;</code></li>
<li class='green'><span class=''> </span><code>    };</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>})();</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function indexOf(arr, searchElement, fromIndex) {</code></li>
<li class='green'><span class='hits'>363</span><code>    if (!isArray(arr)) {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>362</span><code>    var t = Object(arr);</code></li>
<li class='green'><span class='hits'>362</span><code>    var len = t.length &gt;&gt;&gt; 0;</code></li>
<li class='green'><span class='hits'>362</span><code>    if (len === 0) {</code></li>
<li class='green'><span class='hits'>39</span><code>        return -1;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>323</span><code>    var n = 0;</code></li>
<li class='green'><span class='hits'>323</span><code>    if (arguments.length &gt; 2) {</code></li>
<li class='green'><span class='hits'>8</span><code>        n = Number(arguments[2]);</code></li>
<li class='green'><span class='hits'>8</span><code>        if (n !== n) { // shortcut for verifying if it's NaN</code></li>
<li class='green'><span class='hits'>2</span><code>            n = 0;</code></li>
<li class='green'><span class='hits'>6</span><code>        } else if (n !== 0 &amp;&amp; n !== Infinity &amp;&amp; n !== -Infinity) {</code></li>
<li class='green'><span class='hits'>2</span><code>            n = (n &gt; 0 || -1) * floor(abs(n));</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>323</span><code>    if (n &gt;= len) {</code></li>
<li class='green'><span class='hits'>2</span><code>        return -1;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>321</span><code>    var k = n &gt;= 0 ? n : mathMax(len - abs(n), 0);</code></li>
<li class='green'><span class='hits'>321</span><code>    for (; k &lt; len; k++) {</code></li>
<li class='green'><span class='hits'>644</span><code>        if (k in t &amp;&amp; t[k] === searchElement) {</code></li>
<li class='green'><span class='hits'>180</span><code>            return k;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>141</span><code>    return -1;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function lastIndexOf(arr, searchElement, fromIndex) {</code></li>
<li class='green'><span class='hits'>12</span><code>    if (!isArray(arr)) {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>11</span><code>    var t = Object(arr);</code></li>
<li class='green'><span class='hits'>11</span><code>    var len = t.length &gt;&gt;&gt; 0;</code></li>
<li class='green'><span class='hits'>11</span><code>    if (len === 0) {</code></li>
<li class='green'><span class='hits'>1</span><code>        return -1;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>10</span><code>    var n = len;</code></li>
<li class='green'><span class='hits'>10</span><code>    if (arguments.length &gt; 2) {</code></li>
<li class='green'><span class='hits'>8</span><code>        n = Number(arguments[2]);</code></li>
<li class='green'><span class='hits'>8</span><code>        if (n !== n) {</code></li>
<li class='green'><span class='hits'>2</span><code>            n = 0;</code></li>
<li class='green'><span class='hits'>6</span><code>        } else if (n !== 0 &amp;&amp; n !== (1 / 0) &amp;&amp; n !== -(1 / 0)) {</code></li>
<li class='green'><span class='hits'>2</span><code>            n = (n &gt; 0 || -1) * floor(abs(n));</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>10</span><code>    var k = n &gt;= 0 ? mathMin(n, len - 1) : len - abs(n);</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>10</span><code>    for (; k &gt;= 0; k--) {</code></li>
<li class='green'><span class='hits'>18</span><code>        if (k in t &amp;&amp; t[k] === searchElement) {</code></li>
<li class='green'><span class='hits'>6</span><code>            return k;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>4</span><code>    return -1;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function filter(arr, iterator, scope) {</code></li>
<li class='green'><span class='hits'>47</span><code>    if (!isArray(arr) || typeof iterator !== "function") {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>46</span><code>    var t = Object(arr);</code></li>
<li class='green'><span class='hits'>46</span><code>    var len = t.length &gt;&gt;&gt; 0;</code></li>
<li class='green'><span class='hits'>46</span><code>    var res = [];</code></li>
<li class='green'><span class='hits'>46</span><code>    for (var i = 0; i &lt; len; i++) {</code></li>
<li class='green'><span class='hits'>168</span><code>        if (i in t) {</code></li>
<li class='green'><span class='hits'>128</span><code>            var val = t[i]; // in case fun mutates this</code></li>
<li class='green'><span class='hits'>128</span><code>            if (iterator.call(scope, val, i, t)) {</code></li>
<li class='green'><span class='hits'>76</span><code>                res.push(val);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>46</span><code>    return res;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function forEach(arr, iterator, scope) {</code></li>
<li class='green'><span class='hits'>8495</span><code>    if (!isArray(arr) || typeof iterator !== "function") {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>8494</span><code>    for (var i = 0, len = arr.length; i &lt; len; ++i) {</code></li>
<li class='green'><span class='hits'>71440</span><code>        iterator.call(scope || arr, arr[i], i, arr);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>8494</span><code>    return arr;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function every(arr, iterator, scope) {</code></li>
<li class='green'><span class='hits'>281</span><code>    if (!isArray(arr) || typeof iterator !== "function") {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>280</span><code>    var t = Object(arr);</code></li>
<li class='green'><span class='hits'>280</span><code>    var len = t.length &gt;&gt;&gt; 0;</code></li>
<li class='green'><span class='hits'>280</span><code>    for (var i = 0; i &lt; len; i++) {</code></li>
<li class='green'><span class='hits'>830</span><code>        if (i in t &amp;&amp; !iterator.call(scope, t[i], i, t)) {</code></li>
<li class='green'><span class='hits'>171</span><code>            return false;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>109</span><code>    return true;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function some(arr, iterator, scope) {</code></li>
<li class='green'><span class='hits'>7</span><code>    if (!isArray(arr) || typeof iterator !== "function") {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>6</span><code>    var t = Object(arr);</code></li>
<li class='green'><span class='hits'>6</span><code>    var len = t.length &gt;&gt;&gt; 0;</code></li>
<li class='green'><span class='hits'>6</span><code>    for (var i = 0; i &lt; len; i++) {</code></li>
<li class='green'><span class='hits'>30</span><code>        if (i in t &amp;&amp; iterator.call(scope, t[i], i, t)) {</code></li>
<li class='green'><span class='hits'>2</span><code>            return true;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>4</span><code>    return false;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function map(arr, iterator, scope) {</code></li>
<li class='green'><span class='hits'>53</span><code>    if (!isArray(arr) || typeof iterator !== "function") {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>52</span><code>    var t = Object(arr);</code></li>
<li class='green'><span class='hits'>52</span><code>    var len = t.length &gt;&gt;&gt; 0;</code></li>
<li class='green'><span class='hits'>52</span><code>    var res = [];</code></li>
<li class='green'><span class='hits'>52</span><code>    for (var i = 0; i &lt; len; i++) {</code></li>
<li class='green'><span class='hits'>177</span><code>        if (i in t) {</code></li>
<li class='green'><span class='hits'>177</span><code>            res.push(iterator.call(scope, t[i], i, t));</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>52</span><code>    return res;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function reduce(arr, accumulator, curr) {</code></li>
<li class='green'><span class='hits'>211</span><code>    if (!isArray(arr) || typeof accumulator !== "function") {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>210</span><code>    var i = 0, l = arr.length &gt;&gt; 0;</code></li>
<li class='green'><span class='hits'>210</span><code>    if (arguments.length &lt; 3) {</code></li>
<li class='green'><span class='hits'>24</span><code>        if (l === 0) {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new TypeError("Array length is 0 and no second argument");</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>23</span><code>        curr = arr[0];</code></li>
<li class='green'><span class='hits'>23</span><code>        i = 1; // start accumulating at the second element</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>186</span><code>        curr = arguments[2];</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>209</span><code>    while (i &lt; l) {</code></li>
<li class='green'><span class='hits'>508</span><code>        if (i in arr) {</code></li>
<li class='green'><span class='hits'>508</span><code>            curr = accumulator.call(undefined, curr, arr[i], i, arr);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>508</span><code>        ++i;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>209</span><code>    return curr;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function reduceRight(arr, accumulator, curr) {</code></li>
<li class='green'><span class='hits'>27</span><code>    if (!isArray(arr) || typeof accumulator !== "function") {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>26</span><code>    var t = Object(arr);</code></li>
<li class='green'><span class='hits'>26</span><code>    var len = t.length &gt;&gt;&gt; 0;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    // no value to return if no initial value, empty array</code></li>
<li class='green'><span class='hits'>26</span><code>    if (len === 0 &amp;&amp; arguments.length === 2) {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>25</span><code>    var k = len - 1;</code></li>
<li class='green'><span class='hits'>25</span><code>    if (arguments.length &gt;= 3) {</code></li>
<li class='green'><span class='hits'>23</span><code>        curr = arguments[2];</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>2</span><code>        do {</code></li>
<li class='green'><span class='hits'>2</span><code>            if (k in arr) {</code></li>
<li class='green'><span class='hits'>2</span><code>                curr = arr[k--];</code></li>
<li class='green'><span class='hits'>2</span><code>                break;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>        while (true);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>25</span><code>    while (k &gt;= 0) {</code></li>
<li class='green'><span class='hits'>75</span><code>        if (k in t) {</code></li>
<li class='green'><span class='hits'>75</span><code>            curr = accumulator.call(undefined, curr, t[k], k, t);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>75</span><code>        k--;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>25</span><code>    return curr;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * converts anything to an array</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.toArray({a : "b", b : "c"}) =&gt; [["a","b"], ["b","c"]];</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.toArray("a") =&gt; ["a"]</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.toArray(["a"]) =&gt;  ["a"];</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.toArray() =&gt; [];</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.toArray("a", {a : "b"}) =&gt; ["a", ["a", "b"]];</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function toArray(o) {</code></li>
<li class='green'><span class='hits'>101</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>101</span><code>    if (o != null) {</code></li>
<li class='green'><span class='hits'>100</span><code>        var args = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>100</span><code>        if (args.length === 1) {</code></li>
<li class='green'><span class='hits'>98</span><code>            if (isArray(o)) {</code></li>
<li class='green'><span class='hits'>85</span><code>                ret = o;</code></li>
<li class='green'><span class='hits'>13</span><code>            } else if (obj.isHash(o)) {</code></li>
<li class='green'><span class='hits'>4</span><code>                for (var i in o) {</code></li>
<li class='green'><span class='hits'>6</span><code>                    if (o.hasOwnProperty(i)) {</code></li>
<li class='green'><span class='hits'>6</span><code>                        ret.push([i, o[i]]);</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>9</span><code>                ret.push(o);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>2</span><code>            forEach(args, function (a) {</code></li>
<li class='green'><span class='hits'>4</span><code>                ret = ret.concat(toArray(a));</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>101</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Sums all items in an array</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.sum([1,2,3]) =&gt; 6</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.sum(["A","B","C"]) =&gt; "ABC";</code></li>
<li class='green'><span class=''> </span><code> *  var d1 = new Date(1999), d2 = new Date(2000), d3 = new Date(3000);</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.sum([d1,d2,d3]) =&gt; "Wed Dec 31 1969 18:00:01 GMT-0600 (CST)"</code></li>
<li class='green'><span class=''> </span><code> *                              + "Wed Dec 31 1969"  18:00:02 GMT-0600 (CST)"</code></li>
<li class='green'><span class=''> </span><code> *                              + "Wed Dec 31 1969 18:00:03 GMT-0600 (CST)"</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.sum([{},{},{}]) =&gt; "[object Object][object Object][object Object]";</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number[]} array the array of numbers to sum</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function sum(array) {</code></li>
<li class='green'><span class='hits'>27</span><code>    array = array || [];</code></li>
<li class='green'><span class='hits'>27</span><code>    if (array.length) {</code></li>
<li class='green'><span class='hits'>21</span><code>        return reduce(array, function (a, b) {</code></li>
<li class='green'><span class='hits'>49</span><code>            return a + b;</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>6</span><code>        return 0;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Averages an array of numbers.</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.array.avg([1,2,3]); //2</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Number[]} array - an array of numbers</code></li>
<li class='green'><span class=''> </span><code> * @return {Number} the average of all the numbers in the array.</code></li>
<li class='green'><span class=''> </span><code> * @throws {Error} if the array is not all numbers.</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function avg(arr) {</code></li>
<li class='green'><span class='hits'>13</span><code>    arr = arr || [];</code></li>
<li class='green'><span class='hits'>13</span><code>    if (arr.length) {</code></li>
<li class='green'><span class='hits'>8</span><code>        var total = sum(arr);</code></li>
<li class='green'><span class='hits'>8</span><code>        if (number.isNumber(total)) {</code></li>
<li class='green'><span class='hits'>4</span><code>            return  total / arr.length;</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>4</span><code>            throw new Error("Cannot average an array of non numbers.");</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>5</span><code>        return 0;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Allows the sorting of an array based on a property name instead. This can also</code></li>
<li class='green'><span class=''> </span><code> * act as a sort that does not change the original array.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * &lt;b&gt;NOTE:&lt;/b&gt; this does not change the original array!</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * comb.array.sort([{a : 1}, {a : 2}, {a : -2}], "a"); //[{a : -2}, {a : 1}, {a : 2}];</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} arr the array to sort</code></li>
<li class='green'><span class=''> </span><code> * @param {String|Function} cmp the property to sort on. Or a function used to compare.</code></li>
<li class='green'><span class=''> </span><code> * @return {Array} a copy of the original array that is sorted.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function sort(arr, cmp) {</code></li>
<li class='green'><span class='hits'>24</span><code>    return _sort(arr, cmp);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Finds that min value of an array. If a second argument is provided and it is a function</code></li>
<li class='green'><span class=''> </span><code> * it will be used as a comparator function. If the second argument is a string then it will be used</code></li>
<li class='green'><span class=''> </span><code> * as a property look up on each item.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * comb.array.min([{a : 1}, {a : 2}, {a : -2}], "a"); //{a : -2}</code></li>
<li class='green'><span class=''> </span><code> * comb.array.min([{a : 1}, {a : 2}, {a : -2}], function(a,b){</code></li>
<li class='green'><span class=''> </span><code> *      return a.a - b.a</code></li>
<li class='green'><span class=''> </span><code> * }); //{a : -2}</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} arr the array to find the min value on</code></li>
<li class='green'><span class=''> </span><code> * @param {String|Function} cmp the property to sort on. Or a function used to compare.</code></li>
<li class='green'><span class=''> </span><code> * @return {*}</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function min(arr, cmp) {</code></li>
<li class='green'><span class='hits'>21</span><code>    return _sort(arr, cmp)[0];</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Finds that max value of an array. If a second argument is provided and it is a function</code></li>
<li class='green'><span class=''> </span><code> * it will be used as a comparator function. If the second argument is a string then it will be used</code></li>
<li class='green'><span class=''> </span><code> * as a property look up on each item.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * comb.array.max([{a : 1}, {a : 2}, {a : -2}], "a"); //{a : 2}</code></li>
<li class='green'><span class=''> </span><code> * comb.array.max([{a : 1}, {a : 2}, {a : -2}], function(a,b){</code></li>
<li class='green'><span class=''> </span><code> *      return a.a - b.a</code></li>
<li class='green'><span class=''> </span><code> * }); //{a : 2}</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param arr the array to find the max value on</code></li>
<li class='green'><span class=''> </span><code> * @param {String|Function} cmp the property to sort on. Or a function used to compare.</code></li>
<li class='green'><span class=''> </span><code> * @return {*} the maximum value of the array based on the provided cmp.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function max(arr, cmp) {</code></li>
<li class='green'><span class='hits'>21</span><code>    return _sort(arr, cmp)[arr.length - 1];</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Finds the difference of the two arrays.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.array.difference([1,2,3], [2,3]); //[1]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.difference(["a","b",3], [3]); //["a","b"]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} arr1 the array we are subtracting from</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} arr2 the array we are subtracting from arr1</code></li>
<li class='green'><span class=''> </span><code> * @return {*} the difference of the arrays.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function difference(arr1, arr2) {</code></li>
<li class='green'><span class='hits'>25</span><code>    var ret = arr1, args = flatten(argsToArray(arguments, 1));</code></li>
<li class='green'><span class='hits'>25</span><code>    if (isArray(arr1)) {</code></li>
<li class='green'><span class='hits'>25</span><code>        ret = filter(arr1, function (a) {</code></li>
<li class='green'><span class='hits'>72</span><code>            return indexOf(args, a) === -1;</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>25</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Removes duplicates from an array</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.array.removeDuplicates([1,1,1]) =&gt; [1]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.removeDuplicates([1,2,3,2]) =&gt; [1,2,3]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Aray} array the array of elements to remove duplicates from</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function removeDuplicates(arr) {</code></li>
<li class='green'><span class='hits'>43</span><code>    if (isArray(arr)) {</code></li>
<li class='green'><span class='hits'>43</span><code>        return reduce(arr, function (a, b) {</code></li>
<li class='green'><span class='hits'>151</span><code>            if (indexOf(a, b) === -1) {</code></li>
<li class='green'><span class='hits'>106</span><code>                return a.concat(b);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>45</span><code>                return a;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }, []);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * See {@link comb.array.removeDuplicates}</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function unique(arr) {</code></li>
<li class='green'><span class='hits'>4</span><code>    return removeDuplicates(arr);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Rotates an array the number of specified positions</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * var arr = ["a", "b", "c", "d"];</code></li>
<li class='green'><span class=''> </span><code> * comb.array.rotate(arr)     =&gt; ["b", "c", "d", "a"]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.rotate(arr, 2)  =&gt; ["c", "d", "a", "b"]);</code></li>
<li class='green'><span class=''> </span><code> * comb.array.rotate(arr, 3)  =&gt; ["d", "a", "b", "c"]);</code></li>
<li class='green'><span class=''> </span><code> * comb.array.rotate(arr, 4)  =&gt; ["a", "b", "c", "d"]);</code></li>
<li class='green'><span class=''> </span><code> * comb.array.rotate(arr, -1) =&gt; ["d", "a", "b", "c"]);</code></li>
<li class='green'><span class=''> </span><code> * comb.array.rotate(arr, -2) =&gt; ["c", "d", "a", "b"]);</code></li>
<li class='green'><span class=''> </span><code> * comb.array.rotate(arr, -3) =&gt; ["b", "c", "d", "a"]);</code></li>
<li class='green'><span class=''> </span><code> * comb.array.rotate(arr, -4) =&gt; ["a", "b", "c", "d"]);</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} array the array of elements to remove duplicates from</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} numberOfTimes the number of times to rotate the array</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function rotate(arr, numberOfTimes) {</code></li>
<li class='green'><span class='hits'>174</span><code>    var ret = arr.slice();</code></li>
<li class='green'><span class='hits'>174</span><code>    if (typeof numberOfTimes !== "number") {</code></li>
<li class='green'><span class='hits'>3</span><code>        numberOfTimes = 1;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>174</span><code>    if (numberOfTimes &amp;&amp; isArray(arr)) {</code></li>
<li class='green'><span class='hits'>96</span><code>        if (numberOfTimes &gt; 0) {</code></li>
<li class='green'><span class='hits'>66</span><code>            ret.push(ret.shift());</code></li>
<li class='green'><span class='hits'>66</span><code>            numberOfTimes--;</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>30</span><code>            ret.unshift(ret.pop());</code></li>
<li class='green'><span class='hits'>30</span><code>            numberOfTimes++;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>96</span><code>        return rotate(ret, numberOfTimes);</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>78</span><code>        return ret;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Finds all permutations of an array</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * var arr = [1,2,3];</code></li>
<li class='green'><span class=''> </span><code> * comb.array.permutations(arr)    =&gt; [[ 1, 2, 3 ],[ 1, 3, 2 ],[ 2, 3, 1 ],</code></li>
<li class='green'><span class=''> </span><code> *                                     [ 2, 1, 3 ],[ 3, 1, 2 ],[ 3, 2, 1 ]]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.permutations(arr, 2) =&gt; [[ 1, 2],[ 1, 3],[ 2, 3],[ 2, 1],[ 3, 1],[ 3, 2]]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.permutations(arr, 1) =&gt; [[1],[2],[3]]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.permutations(arr, 0) =&gt; [[]]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.permutations(arr, 4) =&gt; []</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} arr the array to permute.</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} length the number of elements to permute.</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function permutations(arr, length) {</code></li>
<li class='green'><span class='hits'>15</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>15</span><code>    if (isArray(arr)) {</code></li>
<li class='green'><span class='hits'>15</span><code>        var copy = arr.slice(0);</code></li>
<li class='green'><span class='hits'>15</span><code>        if (typeof length !== "number") {</code></li>
<li class='green'><span class='hits'>3</span><code>            length = arr.length;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>15</span><code>        if (!length) {</code></li>
<li class='green'><span class='hits'>3</span><code>            ret = [</code></li>
<li class='green'><span class=''> </span><code>                []</code></li>
<li class='green'><span class=''> </span><code>            ];</code></li>
<li class='green'><span class='hits'>12</span><code>        } else if (length &lt;= arr.length) {</code></li>
<li class='green'><span class='hits'>9</span><code>            ret = reduce(arr, function (a, b, i) {</code></li>
<li class='green'><span class='hits'>27</span><code>                var ret;</code></li>
<li class='green'><span class='hits'>27</span><code>                if (length &gt; 1) {</code></li>
<li class='green'><span class='hits'>18</span><code>                    ret = permute(b, rotate(copy, i).slice(1), length);</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>9</span><code>                    ret = [</code></li>
<li class='green'><span class=''> </span><code>                        [b]</code></li>
<li class='green'><span class=''> </span><code>                    ];</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>27</span><code>                return a.concat(ret);</code></li>
<li class='green'><span class=''> </span><code>            }, []);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>15</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Zips to arrays together</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *  var a = [ 4, 5, 6 ], b = [ 7, 8, 9 ]</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.zip([1], [2], [3]) =&gt; [[ 1, 2, 3 ]]);</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.zip([1,2], [2], [3]) =&gt; [[ 1, 2, 3 ],[2, null, null]]</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.zip([1,2,3], a, b) =&gt; [[1, 4, 7],[2, 5, 8],[3, 6, 9]]</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.zip([1,2], a, b) =&gt; [[1, 4, 7],[2, 5, 8]]</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.zip(a, [1,2], [8]) =&gt; [[4,1,8],[5,2,null],[6,null,null]]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param arrays variable number of arrays to zip together</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function zip() {</code></li>
<li class='green'><span class='hits'>11</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>11</span><code>    var arrs = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>11</span><code>    if (arrs.length &gt; 1) {</code></li>
<li class='green'><span class='hits'>11</span><code>        var arr1 = arrs.shift();</code></li>
<li class='green'><span class='hits'>11</span><code>        if (isArray(arr1)) {</code></li>
<li class='green'><span class='hits'>11</span><code>            ret = reduce(arr1, function (a, b, i) {</code></li>
<li class='green'><span class='hits'>38</span><code>                var curr = [b];</code></li>
<li class='green'><span class='hits'>38</span><code>                for (var j = 0; j &lt; arrs.length; j++) {</code></li>
<li class='green'><span class='hits'>76</span><code>                    var currArr = arrs[j];</code></li>
<li class='green'><span class='hits'>76</span><code>                    if (isArray(currArr) &amp;&amp; !misc.isUndefined(currArr[i])) {</code></li>
<li class='green'><span class='hits'>66</span><code>                        curr.push(currArr[i]);</code></li>
<li class='green'><span class=''> </span><code>                    } else {</code></li>
<li class='green'><span class='hits'>10</span><code>                        curr.push(null);</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>38</span><code>                a.push(curr);</code></li>
<li class='green'><span class='hits'>38</span><code>                return a;</code></li>
<li class='green'><span class=''> </span><code>            }, []);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>11</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Transposes an array of arrays</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.array.transpose([[1,2,3], [4,5,6]]) =&gt; [ [ 1, 4 ], [ 2, 5 ], [ 3, 6 ] ]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.transpose([[1,2], [3,4], [5,6]]) =&gt; [ [ 1, 3, 5 ], [ 2, 4, 6 ] ]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.transpose([[1], [3,4], [5,6]]) =&gt; [[1]])</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param [Array[Array[]]] arr Array of arrays</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function transpose(arr) {</code></li>
<li class='green'><span class='hits'>9</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>9</span><code>    if (isArray(arr) &amp;&amp; arr.length) {</code></li>
<li class='green'><span class='hits'>9</span><code>        var last;</code></li>
<li class='green'><span class='hits'>9</span><code>        forEach(arr, function (a) {</code></li>
<li class='green'><span class='hits'>24</span><code>            if (isArray(a) &amp;&amp; (!last || a.length === last.length)) {</code></li>
<li class='green'><span class='hits'>18</span><code>                forEach(a, function (b, i) {</code></li>
<li class='green'><span class='hits'>39</span><code>                    if (!ret[i]) {</code></li>
<li class='green'><span class='hits'>18</span><code>                        ret[i] = [];</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class='hits'>39</span><code>                    ret[i].push(b);</code></li>
<li class='green'><span class=''> </span><code>                });</code></li>
<li class='green'><span class='hits'>18</span><code>                last = a;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>9</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Retrieves values at specified indexes in the array</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  var arr =["a", "b", "c", "d"]</code></li>
<li class='green'><span class=''> </span><code> *   comb.array.valuesAt(arr, 1,2,3) =&gt; ["b", "c", "d"];</code></li>
<li class='green'><span class=''> </span><code> *   comb.array.valuesAt(arr, 1,2,3, 4) =&gt; ["b", "c", "d", null];</code></li>
<li class='green'><span class=''> </span><code> *   comb.array.valuesAt(arr, 0,3) =&gt; ["a", "d"];</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} arr the array to retrieve values from</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} indexes variable number of indexes to retrieve</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function valuesAt(arr, indexes) {</code></li>
<li class='green'><span class='hits'>9</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>9</span><code>    indexes = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>9</span><code>    arr = indexes.shift();</code></li>
<li class='green'><span class='hits'>9</span><code>    var l = arr.length;</code></li>
<li class='green'><span class='hits'>9</span><code>    if (isArray(arr) &amp;&amp; indexes.length) {</code></li>
<li class='green'><span class='hits'>9</span><code>        for (var i = 0; i &lt; indexes.length; i++) {</code></li>
<li class='green'><span class='hits'>27</span><code>            ret.push(arr[indexes[i]] || null);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>9</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Union a variable number of arrays together</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.array.union(['a','b','c'], ['b','c', 'd']) =&gt; ["a", "b", "c", "d"]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.union(["a"], ["b"], ["c"], ["d"], ["c"]) =&gt; ["a", "b", "c", "d"]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param arrs variable number of arrays to union</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function union() {</code></li>
<li class='green'><span class='hits'>6</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>6</span><code>    var arrs = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>6</span><code>    if (arrs.length &gt; 1) {</code></li>
<li class='green'><span class='hits'>6</span><code>        ret = removeDuplicates(reduce(arrs, function (a, b) {</code></li>
<li class='green'><span class='hits'>21</span><code>            return a.concat(b);</code></li>
<li class='green'><span class=''> </span><code>        }, []));</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>6</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Finds the intersection of arrays</code></li>
<li class='green'><span class=''> </span><code> * NOTE : this function accepts an arbitrary number of arrays</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * comb.array.intersect([1,2], [2,3], [2,3,5]) =&gt; [2]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.intersect([1,2,3], [2,3,4,5], [2,3,5]) =&gt; [2,3]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.intersect([1,2,3,4], [2,3,4,5], [2,3,4,5]) =&gt; [2,3,4]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.intersect([1,2,3,4,5], [1,2,3,4,5], [1,2,3]) =&gt; [1,2,3]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.intersect([[1,2,3,4,5],[1,2,3,4,5],[1,2,3]]) =&gt; [1,2,3]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} a</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} b</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function intersect(a, b) {</code></li>
<li class='green'><span class='hits'>25</span><code>    var collect = [], set;</code></li>
<li class='green'><span class='hits'>25</span><code>    var args = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>25</span><code>    if (args.length &gt; 1) {</code></li>
<li class='green'><span class=''> </span><code>        //assume we are intersections all the lists in the array</code></li>
<li class='green'><span class='hits'>23</span><code>        set = args;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>2</span><code>        set = args[0];</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>25</span><code>    if (isArray(set)) {</code></li>
<li class='green'><span class='hits'>25</span><code>        var x = set.shift();</code></li>
<li class='green'><span class='hits'>25</span><code>        collect = reduce(set, function (a, b) {</code></li>
<li class='green'><span class='hits'>40</span><code>            return intersection(a, b);</code></li>
<li class='green'><span class=''> </span><code>        }, x);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>25</span><code>    return removeDuplicates(collect);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Finds the powerset of an array</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  comb.array.powerSet([1,2]) =&gt; [</code></li>
<li class='green'><span class=''> </span><code> *           [],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 2 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1, 2 ]</code></li>
<li class='green'><span class=''> </span><code> *   ]</code></li>
<li class='green'><span class=''> </span><code> *   comb.array.powerSet([1,2,3]) =&gt; [</code></li>
<li class='green'><span class=''> </span><code> *           [],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 2 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1, 2 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 3 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1, 3 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 2, 3 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1, 2, 3 ]</code></li>
<li class='green'><span class=''> </span><code> *       ]</code></li>
<li class='green'><span class=''> </span><code> *   comb.array.powerSet([1,2,3,4]) =&gt; [</code></li>
<li class='green'><span class=''> </span><code> *           [],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 2 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1, 2 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 3 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1, 3 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 2, 3 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1, 2, 3 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 4 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1, 4 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 2, 4 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1, 2, 4 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 3, 4 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1, 3, 4 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 2, 3, 4 ],</code></li>
<li class='green'><span class=''> </span><code> *           [ 1, 2, 3, 4 ]</code></li>
<li class='green'><span class=''> </span><code> *       ]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} arr the array to find the powerset of</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function powerSet(arr) {</code></li>
<li class='green'><span class='hits'>9</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>9</span><code>    if (isArray(arr) &amp;&amp; arr.length) {</code></li>
<li class='green'><span class='hits'>9</span><code>        ret = reduce(arr, function (a, b) {</code></li>
<li class='green'><span class='hits'>27</span><code>            var ret = map(a, function (c) {</code></li>
<li class='green'><span class='hits'>75</span><code>                return c.concat(b);</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>27</span><code>            return a.concat(ret);</code></li>
<li class='green'><span class=''> </span><code>        }, [</code></li>
<li class='green'><span class=''> </span><code>            []</code></li>
<li class='green'><span class=''> </span><code>        ]);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>9</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Find the cartesian product of two arrays</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.array.cartesian([1,2], [2,3]) =&gt; [</code></li>
<li class='green'><span class=''> </span><code> *           [1,2],</code></li>
<li class='green'><span class=''> </span><code> *           [1,3],</code></li>
<li class='green'><span class=''> </span><code> *           [2,2],</code></li>
<li class='green'><span class=''> </span><code> *           [2,3]</code></li>
<li class='green'><span class=''> </span><code> *       ]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.cartesian([1,2], [2,3,4]) =&gt; [</code></li>
<li class='green'><span class=''> </span><code> *           [1,2],</code></li>
<li class='green'><span class=''> </span><code> *           [1,3],</code></li>
<li class='green'><span class=''> </span><code> *           [1,4] ,</code></li>
<li class='green'><span class=''> </span><code> *           [2,2],</code></li>
<li class='green'><span class=''> </span><code> *           [2,3],</code></li>
<li class='green'><span class=''> </span><code> *           [2,4]</code></li>
<li class='green'><span class=''> </span><code> *       ]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.cartesian([1,2,3], [2,3,4]) =&gt; [</code></li>
<li class='green'><span class=''> </span><code> *           [1,2],</code></li>
<li class='green'><span class=''> </span><code> *           [1,3],</code></li>
<li class='green'><span class=''> </span><code> *           [1,4] ,</code></li>
<li class='green'><span class=''> </span><code> *           [2,2],</code></li>
<li class='green'><span class=''> </span><code> *           [2,3],</code></li>
<li class='green'><span class=''> </span><code> *           [2,4] ,</code></li>
<li class='green'><span class=''> </span><code> *           [3,2],</code></li>
<li class='green'><span class=''> </span><code> *           [3,3],</code></li>
<li class='green'><span class=''> </span><code> *           [3,4]</code></li>
<li class='green'><span class=''> </span><code> *       ]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} a</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} b</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function cartesian(a, b) {</code></li>
<li class='green'><span class='hits'>30</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>30</span><code>    if (isArray(a) &amp;&amp; isArray(b) &amp;&amp; a.length &amp;&amp; b.length) {</code></li>
<li class='green'><span class='hits'>21</span><code>        ret = cross(a[0], b).concat(cartesian(a.slice(1), b));</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>30</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Compacts an array removing null or undefined objects from the array.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var x;</code></li>
<li class='green'><span class=''> </span><code> * comb.array.compact([1,null,null,x,2]) =&gt; [1,2]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.compact([1,2]) =&gt; [1,2]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} arr</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function compact(arr) {</code></li>
<li class='green'><span class='hits'>16</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>16</span><code>    if (isArray(arr) &amp;&amp; arr.length) {</code></li>
<li class='green'><span class='hits'>16</span><code>        ret = filter(arr, function (item) {</code></li>
<li class='green'><span class='hits'>31</span><code>            return !misc.isUndefinedOrNull(item);</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>16</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Creates a new array that is the result of the array concated the number of</code></li>
<li class='green'><span class=''> </span><code> * times. If times is not specified or it equals 0 then it defaults to 1.</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} arr the array to multiply.</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} [times=1] the number of times to multiple the array.</code></li>
<li class='green'><span class=''> </span><code> * @return {Array} a new array that is the result of the array multiplied the number of times specified.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function multiply(arr, times) {</code></li>
<li class='green'><span class='hits'>12</span><code>    times = number.isNumber(times) ? times : 1;</code></li>
<li class='green'><span class='hits'>12</span><code>    if (!times) {</code></li>
<li class='green'><span class=''> </span><code>        //make sure times is greater than zero if it is zero then dont multiply it</code></li>
<li class='green'><span class='hits'>3</span><code>        times = 1;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>12</span><code>    arr = toArray(arr || []);</code></li>
<li class='green'><span class='hits'>12</span><code>    var ret = [], i = 0;</code></li>
<li class='green'><span class='hits'>12</span><code>    while (++i &lt;= times) {</code></li>
<li class='green'><span class='hits'>15</span><code>        ret = ret.concat(arr);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>12</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Flatten multiple arrays into a single array</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.array.flatten([1,2], [2,3], [3,4]) =&gt; [1,2,2,3,3,4]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.flatten([1,"A"], [2,"B"], [3,"C"]) =&gt; [1,"A",2,"B",3,"C"]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param array</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function flatten(arr) {</code></li>
<li class='green'><span class='hits'>81</span><code>    var set;</code></li>
<li class='green'><span class='hits'>81</span><code>    var args = argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>81</span><code>    if (args.length &gt; 1) {</code></li>
<li class='green'><span class=''> </span><code>        //assume we are intersections all the lists in the array</code></li>
<li class='green'><span class='hits'>10</span><code>        set = args;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>71</span><code>        set = toArray(arr);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>81</span><code>    return reduce(set, function (a, b) {</code></li>
<li class='green'><span class='hits'>137</span><code>        return a.concat(b);</code></li>
<li class='green'><span class=''> </span><code>    }, []);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Plucks values from an array. Effectevily the same as using a array.map implementation. However the porperty specified supports</code></li>
<li class='green'><span class=''> </span><code> * a "dot" notation to access nested properties.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *   var arr = [</code></li>
<li class='green'><span class=''> </span><code> *                  {name:{first:"Fred", last:"Jones"}, age:50, roles:["a", "b", "c"]},</code></li>
<li class='green'><span class=''> </span><code> *                  {name:{first:"Bob", last:"Yukon"}, age:40, roles:["b", "c"]},</code></li>
<li class='green'><span class=''> </span><code> *                  {name:{first:"Alice", last:"Palace"}, age:35, roles:["c"]},</code></li>
<li class='green'><span class=''> </span><code> *                  {name:{first:"Johnny", last:"P."}, age:56, roles:[]}</code></li>
<li class='green'><span class=''> </span><code> *             ];</code></li>
<li class='green'><span class=''> </span><code> * console.log(comb.array.pluck(arr, "name.first")); //["Fred", "Bob", "Alice", "Johnny"]</code></li>
<li class='green'><span class=''> </span><code> * console.log(comb.array.pluck(arr, "age")); //[50, 40, 35, 56]</code></li>
<li class='green'><span class=''> </span><code> * console.log(comb.array.pluck(arr, "roles.length")); //[3, 2, 1, 0]</code></li>
<li class='green'><span class=''> </span><code> * console.log(comb.array.pluck(arr, "roles.0")); //["a", "b", "c", undefined]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} arr the array to pluck values from</code></li>
<li class='green'><span class=''> </span><code> * @param {String} prop the property to retrieve from each item in the array</code></li>
<li class='green'><span class=''> </span><code> * @return {Array} an array containing the plucked properties.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function pluck(arr, prop) {</code></li>
<li class='green'><span class='hits'>7</span><code>    prop = prop.split(".");</code></li>
<li class='green'><span class='hits'>7</span><code>    var result = arr.slice(0);</code></li>
<li class='green'><span class='hits'>7</span><code>    forEach(prop, function (prop) {</code></li>
<li class='green'><span class='hits'>13</span><code>        var exec = prop.match(/(\w+)\(\)$/);</code></li>
<li class='green'><span class='hits'>13</span><code>        result = map(result, function (item) {</code></li>
<li class='green'><span class='hits'>52</span><code>            return exec ? item[exec[1]]() : item[prop];</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>7</span><code>    return result;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Invokes the method specified in the scope of each item in the array. If you supply addional arguments they will</code></li>
<li class='green'><span class=''> </span><code> * be applied to the function.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * function person(name, age){</code></li>
<li class='green'><span class=''> </span><code> *     return {</code></li>
<li class='green'><span class=''> </span><code> *         getName : function(){</code></li>
<li class='green'><span class=''> </span><code> *             return name;</code></li>
<li class='green'><span class=''> </span><code> *         },</code></li>
<li class='green'><span class=''> </span><code> *         setName : function(newName){</code></li>
<li class='green'><span class=''> </span><code> *             name = newName;</code></li>
<li class='green'><span class=''> </span><code> *         },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *         getOlder : function(){</code></li>
<li class='green'><span class=''> </span><code> *             age++;</code></li>
<li class='green'><span class=''> </span><code> *             return this;</code></li>
<li class='green'><span class=''> </span><code> *         },</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *         getAge : function(){</code></li>
<li class='green'><span class=''> </span><code> *             return age;</code></li>
<li class='green'><span class=''> </span><code> *         }</code></li>
<li class='green'><span class=''> </span><code> *     };</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var arr = [person("Bob", 40), person("Alice", 35), person("Fred", 50), person("Johnny", 56)];</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * console.log(comb.array.invoke(arr, "getName")); //["Bob", "Alice", "Fred", "Johnny"]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * console.log(comb.array(arr).invoke("getOlder").invoke("getAge")); //[41, 36, 51, 57];</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Array} arr the array to iterate and invoke the functions on</code></li>
<li class='green'><span class=''> </span><code> * @param {String|Function} func the function to invoke, if it is a string then the function will be looked up on the</code></li>
<li class='green'><span class=''> </span><code> * each item in the array and invoked</code></li>
<li class='green'><span class=''> </span><code> * @param [args=null] variable number of arguments to apply to the function</code></li>
<li class='green'><span class=''> </span><code> * @return {Array} the return values of the functions invoked.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function invoke(arr, func, args) {</code></li>
<li class='green'><span class='hits'>8</span><code>    args = argsToArray(arguments, 2);</code></li>
<li class='green'><span class='hits'>8</span><code>    return map(arr, function (item) {</code></li>
<li class='green'><span class='hits'>32</span><code>        var exec = isString(func) ? item[func] : func;</code></li>
<li class='green'><span class='hits'>32</span><code>        return exec.apply(item, args);</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Paritition an array.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * var arr = [1,2,3,4,5];</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.array.partition(arr, 1); //[[1], [2], [3], [4], [5]]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.partition(arr, 2); //[[1,2], [3,4], [5]]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.partition(arr, 3); //[[1,2,3], [4,5]]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.array.partition(arr); //[[1, 2, 3, 4, 5]]</code></li>
<li class='green'><span class=''> </span><code> * comb.array.partition(arr, 0); //[[1, 2, 3, 4, 5]]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param array</code></li>
<li class='green'><span class=''> </span><code> * @param partitionSize</code></li>
<li class='green'><span class=''> </span><code> * @returns {Array}</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.array</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function partition(array, partitionSize) {</code></li>
<li class='green'><span class='hits'>14</span><code>    partitionSize = partitionSize || array.length;</code></li>
<li class='green'><span class='hits'>14</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>14</span><code>    for (var i = 0, l = array.length; i &lt; l; i += partitionSize) {</code></li>
<li class='green'><span class='hits'>30</span><code>        ret.push(array.slice(i, i + partitionSize));</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>14</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var comb = exports;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @namespace Utilities for working with arrays.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * The `comb.array` namespace can be used to decorate arrays with additional chainable funcitonality.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var arr = comb.array([1,3,2,5,4,6]);</code></li>
<li class='green'><span class=''> </span><code> * console.log(arr.sum()) //21</code></li>
<li class='green'><span class=''> </span><code> * console.log(arr.sort()) //[1,2,3,4,5,6]</code></li>
<li class='green'><span class=''> </span><code> * console.log(arr.min()) //[1]</code></li>
<li class='green'><span class=''> </span><code> * console.log(arr.max()) [6]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @function</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>comb.array = {</code></li>
<li class='green'><span class=''> </span><code>    toArray: toArray,</code></li>
<li class='green'><span class=''> </span><code>    sum: sum,</code></li>
<li class='green'><span class=''> </span><code>    avg: avg,</code></li>
<li class='green'><span class=''> </span><code>    sort: sort,</code></li>
<li class='green'><span class=''> </span><code>    min: min,</code></li>
<li class='green'><span class=''> </span><code>    max: max,</code></li>
<li class='green'><span class=''> </span><code>    difference: difference,</code></li>
<li class='green'><span class=''> </span><code>    removeDuplicates: removeDuplicates,</code></li>
<li class='green'><span class=''> </span><code>    unique: unique,</code></li>
<li class='green'><span class=''> </span><code>    rotate: rotate,</code></li>
<li class='green'><span class=''> </span><code>    permutations: permutations,</code></li>
<li class='green'><span class=''> </span><code>    zip: zip,</code></li>
<li class='green'><span class=''> </span><code>    transpose: transpose,</code></li>
<li class='green'><span class=''> </span><code>    valuesAt: valuesAt,</code></li>
<li class='green'><span class=''> </span><code>    union: union,</code></li>
<li class='green'><span class=''> </span><code>    intersect: intersect,</code></li>
<li class='green'><span class=''> </span><code>    powerSet: powerSet,</code></li>
<li class='green'><span class=''> </span><code>    cartesian: cartesian,</code></li>
<li class='green'><span class=''> </span><code>    compact: compact,</code></li>
<li class='green'><span class=''> </span><code>    multiply: multiply,</code></li>
<li class='green'><span class=''> </span><code>    flatten: flatten,</code></li>
<li class='green'><span class=''> </span><code>    pluck: pluck,</code></li>
<li class='green'><span class=''> </span><code>    invoke: invoke,</code></li>
<li class='green'><span class=''> </span><code>    forEach: forEach,</code></li>
<li class='green'><span class=''> </span><code>    map: map,</code></li>
<li class='green'><span class=''> </span><code>    filter: filter,</code></li>
<li class='green'><span class=''> </span><code>    reduce: reduce,</code></li>
<li class='green'><span class=''> </span><code>    reduceRight: reduceRight,</code></li>
<li class='green'><span class=''> </span><code>    some: some,</code></li>
<li class='green'><span class=''> </span><code>    every: every,</code></li>
<li class='green'><span class=''> </span><code>    indexOf: indexOf,</code></li>
<li class='green'><span class=''> </span><code>    lastIndexOf: lastIndexOf,</code></li>
<li class='green'><span class=''> </span><code>    partition: partition</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="base/broadcast.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>base/broadcast.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>171</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>63</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="base/broadcast.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var func = require("./functions"),</code></li>
<li class='green'><span class=''> </span><code>		obj = require("./object");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var comb = exports;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var wrapper = function() {</code></li>
<li class='green'><span class='hits'>8</span><code>	return function() {</code></li>
<li class='green'><span class='hits'>31</span><code>		var c = arguments.callee, listeners = c.__listeners, func = c.func, r;</code></li>
<li class='green'><span class='hits'>31</span><code>		if (func) {</code></li>
<li class='green'><span class='hits'>31</span><code>			r = func.apply(this, arguments);</code></li>
<li class='green'><span class=''> </span><code>		}</code></li>
<li class='green'><span class='hits'>31</span><code>		for (var i = 0; i &lt; listeners.length; i++) {</code></li>
<li class='green'><span class='hits'>39</span><code>			var lis = listeners[i];</code></li>
<li class='green'><span class='hits'>39</span><code>			if (lis) {</code></li>
<li class='green'><span class='hits'>30</span><code>				lis.apply(this, arguments);</code></li>
<li class='green'><span class=''> </span><code>			}</code></li>
<li class='green'><span class=''> </span><code>		}</code></li>
<li class='green'><span class='hits'>31</span><code>		return r;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>	}</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var listeners = {};</code></li>
<li class='green'><span class='hits'>1</span><code>obj.merge(comb, {</code></li>
<li class='green'><span class=''> </span><code>            /**@lends comb*/</code></li>
<li class='green'><span class=''> </span><code>			/**</code></li>
<li class='green'><span class=''> </span><code>			 * Disconnects a listener to a function</code></li>
<li class='green'><span class=''> </span><code>			 * @param {handle} A handle returned from comb.connect</code></li>
<li class='green'><span class=''> </span><code>			 */</code></li>
<li class='green'><span class=''> </span><code>			disconnect : function(handle) {</code></li>
<li class='green'><span class='hits'>10</span><code>				if (handle &amp;&amp; handle.length == 3) {</code></li>
<li class='green'><span class='hits'>9</span><code>					var obj = handle[0], method = handle[1], cb = handle[2];</code></li>
<li class='green'><span class='hits'>9</span><code>					if (typeof method != "string") throw "comb.disconnect : When calling disconnect the method must be string";</code></li>
<li class='green'><span class='hits'>9</span><code>					var scope = obj || global, ls;</code></li>
<li class='green'><span class='hits'>9</span><code>					if (typeof scope[method] == "function") {</code></li>
<li class='green'><span class='hits'>8</span><code>						ls = scope[method].__listeners;</code></li>
<li class='green'><span class='hits'>8</span><code>						if (ls &amp;&amp; cb-- &gt; 0) {</code></li>
<li class='green'><span class=''> </span><code>							//we dont want to splice it because our indexing will get off</code></li>
<li class='green'><span class='hits'>8</span><code>							ls[cb] = null;</code></li>
<li class='green'><span class=''> </span><code>						}</code></li>
<li class='green'><span class=''> </span><code>					} else {</code></li>
<li class='green'><span class='hits'>1</span><code>						throw new Error("unknown method " + method + " in object " + obj);</code></li>
<li class='green'><span class=''> </span><code>					}</code></li>
<li class='green'><span class=''> </span><code>				} else {</code></li>
<li class='green'><span class='hits'>1</span><code>					throw "comb.disconnect : invalid handle"</code></li>
<li class='green'><span class=''> </span><code>				}</code></li>
<li class='green'><span class=''> </span><code>			},</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>			/**</code></li>
<li class='green'><span class=''> </span><code>			 * Function to listen when other functions are called</code></li>
<li class='green'><span class=''> </span><code>			 *</code></li>
<li class='green'><span class=''> </span><code>			 * @example</code></li>
<li class='green'><span class=''> </span><code>			 *</code></li>
<li class='green'><span class=''> </span><code>			 *  comb.connect(obj, "event", myfunc);</code></li>
<li class='green'><span class=''> </span><code>			 *  comb.connect(obj, "event", "log", console);</code></li>
<li class='green'><span class=''> </span><code>			 *</code></li>
<li class='green'><span class=''> </span><code>			 * @param {Object} obj the object in which the method you are connecting to resides</code></li>
<li class='green'><span class=''> </span><code>			 * @param {String} method the name of the method to connect to</code></li>
<li class='green'><span class=''> </span><code>			 * @param {Function} cb the function to callback</code></li>
<li class='green'><span class=''> </span><code>			 * @param {Object} [scope] the scope to call the specified cb in</code></li>
<li class='green'><span class=''> </span><code>			 *</code></li>
<li class='green'><span class=''> </span><code>			 * @returns {Array} handle to pass to {@link comb.disconnect}</code></li>
<li class='green'><span class=''> </span><code>			 */</code></li>
<li class='green'><span class=''> </span><code>			connect : function(obj, method, cb, scope) {</code></li>
<li class='green'><span class='hits'>14</span><code>				var index;</code></li>
<li class='green'><span class='hits'>14</span><code>				if (typeof method != "string") throw new Error("When calling connect the method must be string");</code></li>
<li class='green'><span class='hits'>14</span><code>				if (!func.isFunction(cb)) throw new Error("When calling connect callback must be a string");</code></li>
<li class='green'><span class='hits'>14</span><code>				var scope = obj || global, listeners, newMethod;</code></li>
<li class='green'><span class='hits'>14</span><code>				if (typeof scope[method] == "function") {</code></li>
<li class='green'><span class='hits'>13</span><code>					listeners = scope[method].__listeners;</code></li>
<li class='green'><span class='hits'>13</span><code>					if (!listeners) {</code></li>
<li class='green'><span class='hits'>8</span><code>						newMethod = wrapper();</code></li>
<li class='green'><span class='hits'>8</span><code>						newMethod.func = obj[method];</code></li>
<li class='green'><span class='hits'>8</span><code>						listeners = (newMethod.__listeners = []);</code></li>
<li class='green'><span class='hits'>8</span><code>						scope[method] = newMethod;</code></li>
<li class='green'><span class=''> </span><code>					}</code></li>
<li class='green'><span class='hits'>13</span><code>					index = listeners.push(cb);</code></li>
<li class='green'><span class=''> </span><code>				} else {</code></li>
<li class='green'><span class='hits'>1</span><code>					throw new Error("unknow method " + method + " in object " + obj);</code></li>
<li class='green'><span class=''> </span><code>				}</code></li>
<li class='green'><span class='hits'>13</span><code>				return [obj, method, index];</code></li>
<li class='green'><span class=''> </span><code>			},</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>			/**</code></li>
<li class='green'><span class=''> </span><code>			 * Broadcasts an event to all listeners</code></li>
<li class='green'><span class=''> </span><code>			 * NOTE : the function takes a variable number of arguments</code></li>
<li class='green'><span class=''> </span><code>			 *        i.e. all arguments after the topic will be passed to the listeners</code></li>
<li class='green'><span class=''> </span><code>			 *</code></li>
<li class='green'><span class=''> </span><code>			 * @example</code></li>
<li class='green'><span class=''> </span><code>			 *</code></li>
<li class='green'><span class=''> </span><code>			 *</code></li>
<li class='green'><span class=''> </span><code>			 * comb.broadcast("hello", "hello world");</code></li>
<li class='green'><span class=''> </span><code>			 * //the args "hello" and "world" will be passed to any listener of the topic</code></li>
<li class='green'><span class=''> </span><code>			 * //"hello"</code></li>
<li class='green'><span class=''> </span><code>			 * comb.broadcast("hello", "hello", "world");</code></li>
<li class='green'><span class=''> </span><code>			 *</code></li>
<li class='green'><span class=''> </span><code>			 * @param  {String} topic the topic to brodcast</code></li>
<li class='green'><span class=''> </span><code>			 * @param params the information to bradcast</code></li>
<li class='green'><span class=''> </span><code>			 */</code></li>
<li class='green'><span class=''> </span><code>			broadcast : function() {</code></li>
<li class='green'><span class='hits'>4</span><code>				var args = Array.prototype.slice.call(arguments);</code></li>
<li class='green'><span class='hits'>4</span><code>				var topic = args.splice(0, 1)[0];</code></li>
<li class='green'><span class='hits'>4</span><code>				if (topic) {</code></li>
<li class='green'><span class='hits'>4</span><code>					var list = listeners[topic];</code></li>
<li class='green'><span class='hits'>4</span><code>					if (list) {</code></li>
<li class='green'><span class='hits'>4</span><code>						for (var i = list.length - 1; i &gt;= 0; i--) {</code></li>
<li class='green'><span class='hits'>4</span><code>							var han = list[i], cb = han.cb;</code></li>
<li class='green'><span class='hits'>4</span><code>							if (cb) {</code></li>
<li class='green'><span class='hits'>4</span><code>								cb.apply(this, args);</code></li>
<li class='green'><span class=''> </span><code>							}</code></li>
<li class='green'><span class=''> </span><code>						}</code></li>
<li class='green'><span class=''> </span><code>					}</code></li>
<li class='green'><span class=''> </span><code>				}</code></li>
<li class='green'><span class=''> </span><code>			},</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>			/**</code></li>
<li class='green'><span class=''> </span><code>			 * Listen for the broadcast of certain events</code></li>
<li class='green'><span class=''> </span><code>			 *</code></li>
<li class='green'><span class=''> </span><code>			 * @example</code></li>
<li class='green'><span class=''> </span><code>			 *  comb.listen("hello", function(arg1, arg2){</code></li>
<li class='green'><span class=''> </span><code>			 *     console.log(arg1);</code></li>
<li class='green'><span class=''> </span><code>			 *     console.log(arg2);</code></li>
<li class='green'><span class=''> </span><code>			 *  });</code></li>
<li class='green'><span class=''> </span><code>			 *</code></li>
<li class='green'><span class=''> </span><code>			 * @param {String} topic the topic to listen for</code></li>
<li class='green'><span class=''> </span><code>			 * @param {Function} callback the funciton to call when the topic is published</code></li>
<li class='green'><span class=''> </span><code>			 *</code></li>
<li class='green'><span class=''> </span><code>			 * @returns a handle to pass to {@link comb.unListen}</code></li>
<li class='green'><span class=''> </span><code>			 */</code></li>
<li class='green'><span class=''> </span><code>			listen : function(topic, callback) {</code></li>
<li class='green'><span class='hits'>3</span><code>				if (!func.isFunction(callback)) throw new Error("callback must be a function");</code></li>
<li class='green'><span class='hits'>3</span><code>				var handle = {</code></li>
<li class='green'><span class=''> </span><code>					topic : topic,</code></li>
<li class='green'><span class=''> </span><code>					cb : callback,</code></li>
<li class='green'><span class=''> </span><code>					pos : null</code></li>
<li class='green'><span class=''> </span><code>				};</code></li>
<li class='green'><span class='hits'>3</span><code>				var list = listeners[topic];</code></li>
<li class='green'><span class='hits'>3</span><code>				if (!list) {</code></li>
<li class='green'><span class='hits'>3</span><code>					list = (listeners[topic] = []);</code></li>
<li class='green'><span class=''> </span><code>				}</code></li>
<li class='green'><span class='hits'>3</span><code>				list.push(handle);</code></li>
<li class='green'><span class='hits'>3</span><code>				handle.pos = list.length - 1;</code></li>
<li class='green'><span class='hits'>3</span><code>				return handle;</code></li>
<li class='green'><span class=''> </span><code>			},</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>			/**</code></li>
<li class='green'><span class=''> </span><code>			 * Disconnects a listener</code></li>
<li class='green'><span class=''> </span><code>			 *</code></li>
<li class='green'><span class=''> </span><code>			 * @param handle a handle returned from {@link comb.listen}</code></li>
<li class='green'><span class=''> </span><code>			 */</code></li>
<li class='green'><span class=''> </span><code>			unListen : function(handle) {</code></li>
<li class='green'><span class='hits'>2</span><code>				if (handle) {</code></li>
<li class='green'><span class='hits'>2</span><code>					var topic = handle.topic, list = listeners[topic];</code></li>
<li class='green'><span class='hits'>2</span><code>					if (list) {</code></li>
<li class='green'><span class='hits'>2</span><code>						for (var i = list.length - 1; i &gt;= 0; i--) {</code></li>
<li class='green'><span class='hits'>2</span><code>							if (list[i] == handle) {</code></li>
<li class='green'><span class='hits'>2</span><code>								list.splice(i, 1);</code></li>
<li class='green'><span class=''> </span><code>							}</code></li>
<li class='green'><span class=''> </span><code>						}</code></li>
<li class='green'><span class='hits'>2</span><code>						if (!list.length) {</code></li>
<li class='green'><span class='hits'>2</span><code>							delete listeners[topic];</code></li>
<li class='green'><span class=''> </span><code>						}</code></li>
<li class='green'><span class=''> </span><code>					}</code></li>
<li class='green'><span class=''> </span><code>				}</code></li>
<li class='green'><span class=''> </span><code>			}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>		});</code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="base/characters.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>base/characters.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>762</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>2</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="base/characters.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var comb = exports;</code></li>
<li class='green'><span class=''> </span><code>/**@namespace comb characters*/</code></li>
<li class='green'><span class='hits'>1</span><code>comb.characters = {</code></li>
<li class='green'><span class=''> </span><code>    /**@lends comb.characters*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#152;&#186;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SMILEY: "&#226;&#152;&#186;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#152;&#187;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SOLID_SMILEY: "&#226;&#152;&#187;",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#153;&#165;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    HEART: "&#226;&#153;&#165;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#153;&#166;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DIAMOND: "&#226;&#153;&#166;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#153;&#163;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    CLOVE: "&#226;&#153;&#163;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#153;&#160;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SPADE: "&#226;&#153;&#160;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#128;&#162;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DOT: "&#226;&#128;&#162;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#151;&#152;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SQUARE_CIRCLE: "&#226;&#151;&#152;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#151;&#139;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    CIRCLE: "&#226;&#151;&#139;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#151;&#153;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    FILLED_SQUARE_CIRCLE: "&#226;&#151;&#153;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#153;&#130;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MALE: "&#226;&#153;&#130;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#153;&#128;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    FEMALE: "&#226;&#153;&#128;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#153;&#170;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    EIGHT_NOTE: "&#226;&#153;&#170;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#153;&#171;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DOUBLE_EIGHT_NOTE: "&#226;&#153;&#171;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#152;&#188;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SUN: "&#226;&#152;&#188;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#150;&#186;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    PLAY: "&#226;&#150;&#186;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#151;&#132;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    REWIND: "&#226;&#151;&#132;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#134;&#149;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    UP_DOWN: "&#226;&#134;&#149;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#182;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    PILCROW: "&#194;&#182;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#167;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SECTION: "&#194;&#167;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#150;&#172;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    THICK_MINUS: "&#226;&#150;&#172;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#134;&#168;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SMALL_UP_DOWN: "&#226;&#134;&#168;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#134;&#145;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    UP_ARROW: "&#226;&#134;&#145;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#134;&#147;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DOWN_ARROW: "&#226;&#134;&#147;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#134;&#146;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    RIGHT_ARROW: "&#226;&#134;&#146;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#134;&#144;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    LEFT_ARROW: "&#226;&#134;&#144;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#136;&#159;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    RIGHT_ANGLE: "&#226;&#136;&#159;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#134;&#148;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    LEFT_RIGHT_ARROW: "&#226;&#134;&#148;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#150;&#178;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    TRIANGLE: "&#226;&#150;&#178;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#150;&#188;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DOWN_TRIANGLE: "&#226;&#150;&#188;",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#140;&#130;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    HOUSE: "&#226;&#140;&#130;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#135;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    C_CEDILLA: "&#195;&#135;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#188;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    U_UMLAUT: "&#195;&#188;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#169;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    E_ACCENT: "&#195;&#169;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#162;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    A_LOWER_CIRCUMFLEX: "&#195;&#162;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#164;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    A_LOWER_UMLAUT: "&#195;&#164;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#160;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    A_LOWER_GRAVE_ACCENT: "&#195;&#160;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#165;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    A_LOWER_CIRCLE_OVER: "&#195;&#165;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#167;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    C_LOWER_CIRCUMFLEX: "&#195;&#167;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#170;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    E_LOWER_CIRCUMFLEX: "&#195;&#170;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#171;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    E_LOWER_UMLAUT: "&#195;&#171;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#168;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    E_LOWER_GRAVE_ACCENT: "&#195;&#168;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#175;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    I_LOWER_UMLAUT: "&#195;&#175;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#174;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    I_LOWER_CIRCUMFLEX: "&#195;&#174;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#172;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    I_LOWER_GRAVE_ACCENT: "&#195;&#172;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#132;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    A_UPPER_UMLAUT: "&#195;&#132;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#133;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    A_UPPER_CIRCLE: "&#195;&#133;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#137;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    E_UPPER_ACCENT: "&#195;&#137;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#166;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    A_E_LOWER: "&#195;&#166;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#134;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    A_E_UPPER: "&#195;&#134;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#180;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    O_LOWER_CIRCUMFLEX: "&#195;&#180;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#182;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    O_LOWER_UMLAUT: "&#195;&#182;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#178;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    O_LOWER_GRAVE_ACCENT: "&#195;&#178;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#187;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    U_LOWER_CIRCUMFLEX: "&#195;&#187;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#185;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    U_LOWER_GRAVE_ACCENT: "&#195;&#185;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#191;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    Y_LOWER_UMLAUT: "&#195;&#191;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#150;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    O_UPPER_UMLAUT: "&#195;&#150;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#156;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    U_UPPER_UMLAUT: "&#195;&#156;",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#162;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    CENTS: "&#194;&#162;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#163;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    POUND: "&#194;&#163;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#165;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    YEN: "&#194;&#165;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#164;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    CURRENCY: "&#194;&#164;",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#130;&#167;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    PTS: "&#226;&#130;&#167;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#198;&#146;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    FUNCTION: "&#198;&#146;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#161;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    A_LOWER_ACCENT: "&#195;&#161;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#173;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    I_LOWER_ACCENT: "&#195;&#173;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#179;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    O_LOWER_ACCENT: "&#195;&#179;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#186;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    U_LOWER_ACCENT: "&#195;&#186;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#177;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    N_LOWER_TILDE: "&#195;&#177;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#145;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    N_UPPER_TILDE: "&#195;&#145;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#170;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    A_SUPER: "&#194;&#170;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#186;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    O_SUPER: "&#194;&#186;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#191;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    UPSIDEDOWN_QUESTION: "&#194;&#191;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#140;&#144;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SIDEWAYS_L: "&#226;&#140;&#144;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#172;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    NEGATION: "&#194;&#172;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#189;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    ONE_HALF: "&#194;&#189;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#188;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    ONE_FOURTH: "&#194;&#188;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#161;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    UPSIDEDOWN_EXCLAMATION: "&#194;&#161;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#171;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DOUBLE_LEFT: "&#194;&#171;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#187;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DOUBLE_RIGHT: "&#194;&#187;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#150;&#145;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    LIGHT_SHADED_BOX: "&#226;&#150;&#145;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#150;&#146;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MEDIUM_SHADED_BOX: "&#226;&#150;&#146;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#150;&#147;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DARK_SHADED_BOX: "&#226;&#150;&#147;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#148;&#130;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    VERTICAL_LINE: "&#226;&#148;&#130;",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#148;&#164;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE__SINGLE_RIGHT_T: "&#226;&#148;&#164;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#148;&#144;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_RIGHT_TOP: "&#226;&#148;&#144;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#148;&#152;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_RIGHT_BOTTOM_SMALL: "&#226;&#148;&#152;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#148;&#140;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_LEFT_TOP_SMALL: "&#226;&#148;&#140;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#148;&#148;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_LEFT_BOTTOM_SMALL: "&#226;&#148;&#148;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#148;&#156;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_LEFT_T: "&#226;&#148;&#156;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#148;&#180;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_BOTTOM_T: "&#226;&#148;&#180;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#148;&#172;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_TOP_T: "&#226;&#148;&#172;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#148;&#188;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_CENTER: "&#226;&#148;&#188;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#148;&#128;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_HORIZONTAL_LINE: "&#226;&#148;&#128;",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#161;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_RIGHT_DOUBLECENTER_T: "&#226;&#149;&#161;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#155;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_RIGHT_DOUBLE_BL: "&#226;&#149;&#155;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#162;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_RIGHT_DOUBLE_T: "&#226;&#149;&#162;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#150;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_RIGHT_DOUBLEBOTTOM_TOP: "&#226;&#149;&#150;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#149;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_RIGHT_DOUBLELEFT_TOP: "&#226;&#149;&#149;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#158;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_LEFT_DOUBLE_T: "&#226;&#149;&#158;",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#167;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_BOTTOM_DOUBLE_T: "&#226;&#149;&#167;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#164;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_TOP_DOUBLE_T: "&#226;&#149;&#164;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#165;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_TOP_DOUBLECENTER_T: "&#226;&#149;&#165;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#168;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_BOTTOM_DOUBLECENTER_T: "&#226;&#149;&#168;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#152;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_LEFT_DOUBLERIGHT_BOTTOM: "&#226;&#149;&#152;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#146;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_LEFT_DOUBLERIGHT_TOP: "&#226;&#149;&#146;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#147;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_LEFT_DOUBLEBOTTOM_TOP: "&#226;&#149;&#147;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#153;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_LEFT_DOUBLETOP_BOTTOM: "&#226;&#149;&#153;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#147;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_LEFT_TOP: "&#206;&#147;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#156;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_RIGHT_BOTTOM: "&#226;&#149;&#156;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#159;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_LEFT_CENTER: "&#226;&#149;&#159;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#171;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_DOUBLECENTER_CENTER: "&#226;&#149;&#171;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#170;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_SINGLE_DOUBLECROSS_CENTER: "&#226;&#149;&#170;",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#163;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_DOUBLE_LEFT_CENTER: "&#226;&#149;&#163;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#145;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_DOUBLE_VERTICAL: "&#226;&#149;&#145;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#151;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_DOUBLE_RIGHT_TOP: "&#226;&#149;&#151;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#157;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_DOUBLE_RIGHT_BOTTOM: "&#226;&#149;&#157;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#154;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_DOUBLE_LEFT_BOTTOM: "&#226;&#149;&#154;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#148;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_DOUBLE_LEFT_TOP: "&#226;&#149;&#148;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#169;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_DOUBLE_BOTTOM_T: "&#226;&#149;&#169;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#166;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_DOUBLE_TOP_T: "&#226;&#149;&#166;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#160;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_DOUBLE_LEFT_T: "&#226;&#149;&#160;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#144;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_DOUBLE_HORIZONTAL: "&#226;&#149;&#144;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#149;&#172;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MAZE_DOUBLE_CROSS: "&#226;&#149;&#172;",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#150;&#136;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SOLID_RECTANGLE: "&#226;&#150;&#136;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#150;&#140;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    THICK_LEFT_VERTICAL: "&#226;&#150;&#140;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#150;&#144;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    THICK_RIGHT_VERTICAL: "&#226;&#150;&#144;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#150;&#132;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SOLID_SMALL_RECTANGLE_BOTTOM: "&#226;&#150;&#132;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#150;&#128;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SOLID_SMALL_RECTANGLE_TOP: "&#226;&#150;&#128;",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#166;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    PHI_UPPER: "&#206;&#166;",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#136;&#158;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    INFINITY: "&#226;&#136;&#158;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#136;&#169;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    INTERSECTION: "&#226;&#136;&#169;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#137;&#161;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DEFINITION: "&#226;&#137;&#161;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#177;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    PLUS_MINUS: "&#194;&#177;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#137;&#165;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    GT_EQ: "&#226;&#137;&#165;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#137;&#164;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    LT_EQ: "&#226;&#137;&#164;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#140;&#160;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    THEREFORE: "&#226;&#140;&#160;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#136;&#181;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SINCE: "&#226;&#136;&#181;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#136;&#132;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DOESNOT_EXIST: "&#226;&#136;&#132;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#136;&#131;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    EXISTS: "&#226;&#136;&#131;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#136;&#128;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    FOR_ALL: "&#226;&#136;&#128;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#138;&#149;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    EXCLUSIVE_OR: "&#226;&#138;&#149;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#140;&#161;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    BECAUSE: "&#226;&#140;&#161;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#183;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DIVIDE: "&#195;&#183;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#137;&#136;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    APPROX: "&#226;&#137;&#136;",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#176;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DEGREE: "&#194;&#176;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#136;&#153;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    BOLD_DOT: "&#226;&#136;&#153;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#183;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DOT_SMALL: "&#194;&#183;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#136;&#154;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    CHECK: "&#226;&#136;&#154;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#156;&#151;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    ITALIC_X: "&#226;&#156;&#151;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#129;&#191;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SUPER_N: "&#226;&#129;&#191;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#178;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SQUARED: "&#194;&#178;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#179;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    CUBED: "&#194;&#179;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#150;&#160;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SOLID_BOX: "&#226;&#150;&#160;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#128;&#176;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    PERMILE: "&#226;&#128;&#176;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#174;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    REGISTERED_TM: "&#194;&#174;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#169;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    COPYRIGHT: "&#194;&#169;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#226;&#132;&#162;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    TRADEMARK: "&#226;&#132;&#162;",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#178;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    BETA: "&#206;&#178;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#179;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    GAMMA: "&#206;&#179;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#182;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    ZETA: "&#206;&#182;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#183;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    ETA: "&#206;&#183;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#185;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    IOTA: "&#206;&#185;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#186;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    KAPPA: "&#206;&#186;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#187;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    LAMBDA: "&#206;&#187;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#189;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    NU: "&#206;&#189;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#190;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    XI: "&#206;&#190;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#191;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    OMICRON: "&#206;&#191;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#207;&#129;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    RHO: "&#207;&#129;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#207;&#133;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    UPSILON: "&#207;&#133;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#207;&#134;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    CHI_LOWER: "&#207;&#134;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#207;&#135;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    CHI_UPPER: "&#207;&#135;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#207;&#136;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    PSI: "&#207;&#136;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#177;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    ALPHA: "&#206;&#177;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#195;&#159;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    ESZETT: "&#195;&#159;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#207;&#128;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    PI: "&#207;&#128;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#163;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SIGMA_UPPER: "&#206;&#163;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#207;&#131;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    SIGMA_LOWER: "&#207;&#131;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#194;&#181;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    MU: "&#194;&#181;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#207;&#132;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    TAU: "&#207;&#132;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#152;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    THETA: "&#206;&#152;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#169;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    OMEGA: "&#206;&#169;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#180;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    DELTA: "&#206;&#180;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#207;&#134;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    PHI_LOWER: "&#207;&#134;",</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * &#206;&#181;</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    EPSILON: "&#206;&#181;"</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>};</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="base/date/transforms.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>base/date/transforms.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>148</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>75</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="base/date/transforms.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var floor = Math.floor, round = Math.round, min = Math.min, pow = Math.pow, ceil = Math.ceil, abs = Math.abs;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var addMap = {</code></li>
<li class='green'><span class=''> </span><code>    day: function addDay(date, amount) {</code></li>
<li class='green'><span class='hits'>62</span><code>        return [amount, "Date", false];</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    weekday: function addWeekday(date, amount) {</code></li>
<li class='green'><span class=''> </span><code>        // Divide the increment time span into weekspans plus leftover days</code></li>
<li class='green'><span class=''> </span><code>        // e.g., 8 days is one 5-day weekspan / and two leftover days</code></li>
<li class='green'><span class=''> </span><code>        // Can't have zero leftover days, so numbers divisible by 5 get</code></li>
<li class='green'><span class=''> </span><code>        // a days value of 5, and the remaining days make up the number of weeks</code></li>
<li class='green'><span class='hits'>38</span><code>        var days, weeks, mod = amount % 5, strt = date.getDay(), adj = 0;</code></li>
<li class='green'><span class='hits'>38</span><code>        if (!mod) {</code></li>
<li class='green'><span class='hits'>12</span><code>            days = (amount &gt; 0) ? 5 : -5;</code></li>
<li class='green'><span class='hits'>12</span><code>            weeks = (amount &gt; 0) ? ((amount - 5) / 5) : ((amount + 5) / 5);</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>26</span><code>            days = mod;</code></li>
<li class='green'><span class='hits'>26</span><code>            weeks = parseInt(amount / 5, 10);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>38</span><code>        if (strt === 6 &amp;&amp; amount &gt; 0) {</code></li>
<li class='green'><span class='hits'>4</span><code>            adj = 1;</code></li>
<li class='green'><span class='hits'>34</span><code>        } else if (strt === 0 &amp;&amp; amount &lt; 0) {</code></li>
<li class='green'><span class=''> </span><code>            // Orig date is Sun / negative increment</code></li>
<li class='green'><span class=''> </span><code>            // Jump back over Sat</code></li>
<li class='green'><span class='hits'>8</span><code>            adj = -1;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>        // Get weekday val for the new date</code></li>
<li class='green'><span class='hits'>38</span><code>        var trgt = strt + days;</code></li>
<li class='green'><span class=''> </span><code>        // New date is on Sat or Sun</code></li>
<li class='green'><span class='hits'>38</span><code>        if ((trgt === 0 || trgt === 6) || ((trgt &gt; 6 || trgt &lt;= 0) &amp;&amp; strt !== 6 &amp;&amp; strt !== 0)) {</code></li>
<li class='green'><span class='hits'>10</span><code>            adj = (amount &gt; 0) ? 2 : -2;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>        // Increment by number of weeks plus leftover days plus</code></li>
<li class='green'><span class=''> </span><code>        // weekend adjustments</code></li>
<li class='green'><span class='hits'>38</span><code>        return [(7 * weeks) + days + adj, "Date", false];</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    year: function addYear(date, amount) {</code></li>
<li class='green'><span class='hits'>36</span><code>        return [amount, "FullYear", true];</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    week: function addWeek(date, amount) {</code></li>
<li class='green'><span class='hits'>6</span><code>        return [amount * 7, "Date", false];</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    quarter: function addYear(date, amount) {</code></li>
<li class='green'><span class='hits'>18</span><code>        return [amount * 3, "Month", true];</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    month: function addYear(date, amount) {</code></li>
<li class='green'><span class='hits'>22</span><code>        return [amount, "Month", true];</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function addTransform(interval, date, amount) {</code></li>
<li class='green'><span class='hits'>234</span><code>    interval = interval.replace(/s$/, "");</code></li>
<li class='green'><span class='hits'>234</span><code>    if (addMap.hasOwnProperty(interval)) {</code></li>
<li class='green'><span class='hits'>182</span><code>        return addMap[interval](date, amount);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>52</span><code>    return [amount, "UTC" + interval.charAt(0).toUpperCase() + interval.substring(1) + "s", false];</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var differenceMap = {</code></li>
<li class='green'><span class=''> </span><code>    "quarter": function quarterDifference(date1, date2, utc) {</code></li>
<li class='green'><span class='hits'>10</span><code>        var yearDiff = date2.getFullYear() - date1.getFullYear();</code></li>
<li class='green'><span class='hits'>10</span><code>        var m1 = date1[utc ? "getUTCMonth" : "getMonth"]();</code></li>
<li class='green'><span class='hits'>10</span><code>        var m2 = date2[utc ? "getUTCMonth" : "getMonth"]();</code></li>
<li class='green'><span class=''> </span><code>        // Figure out which quarter the months are in</code></li>
<li class='green'><span class='hits'>10</span><code>        var q1 = floor(m1 / 3) + 1;</code></li>
<li class='green'><span class='hits'>10</span><code>        var q2 = floor(m2 / 3) + 1;</code></li>
<li class='green'><span class=''> </span><code>        // Add quarters for any year difference between the dates</code></li>
<li class='green'><span class='hits'>10</span><code>        q2 += (yearDiff * 4);</code></li>
<li class='green'><span class='hits'>10</span><code>        return q2 - q1;</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    "weekday": function weekdayDifference(date1, date2, utc) {</code></li>
<li class='green'><span class='hits'>56</span><code>        var days = differenceTransform("day", date1, date2, utc), weeks;</code></li>
<li class='green'><span class='hits'>56</span><code>        var mod = days % 7;</code></li>
<li class='green'><span class=''> </span><code>        // Even number of weeks</code></li>
<li class='green'><span class='hits'>56</span><code>        if (mod === 0) {</code></li>
<li class='green'><span class='hits'>14</span><code>            days = differenceTransform("week", date1, date2, utc) * 5;</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class=''> </span><code>            // Weeks plus spare change (&lt; 7 days)</code></li>
<li class='green'><span class='hits'>42</span><code>            var adj = 0, aDay = date1[utc ? "getUTCDay" : "getDay"](), bDay = date2[utc ? "getUTCDay" : "getDay"]();</code></li>
<li class='green'><span class='hits'>42</span><code>            weeks = parseInt(days / 7, 10);</code></li>
<li class='green'><span class=''> </span><code>            // Mark the date advanced by the number of</code></li>
<li class='green'><span class=''> </span><code>            // round weeks (may be zero)</code></li>
<li class='green'><span class='hits'>42</span><code>            var dtMark = new Date(date1);</code></li>
<li class='green'><span class='hits'>42</span><code>            dtMark.setDate(dtMark[utc ? "getUTCDate" : "getDate"]() + (weeks * 7));</code></li>
<li class='green'><span class='hits'>42</span><code>            var dayMark = dtMark[utc ? "getUTCDay" : "getDay"]();</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            // Spare change days -- 6 or less</code></li>
<li class='green'><span class='hits'>42</span><code>            if (days &gt; 0) {</code></li>
<li class='green'><span class='hits'>24</span><code>                if (aDay === 6 || bDay === 6) {</code></li>
<li class='green'><span class='hits'>6</span><code>                    adj = -1;</code></li>
<li class='green'><span class='hits'>18</span><code>                } else if (aDay === 0) {</code></li>
<li class='green'><span class='hits'>8</span><code>                    adj = 0;</code></li>
<li class='green'><span class='hits'>10</span><code>                } else if (bDay === 0 || (dayMark + mod) &gt; 5) {</code></li>
<li class='green'><span class='hits'>4</span><code>                    adj = -2;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>18</span><code>            } else if (days &lt; 0) {</code></li>
<li class='green'><span class='hits'>18</span><code>                if (aDay === 6) {</code></li>
<li class='green'><span class='hits'>2</span><code>                    adj = 0;</code></li>
<li class='green'><span class='hits'>16</span><code>                } else if (aDay === 0 || bDay === 0) {</code></li>
<li class='green'><span class='hits'>8</span><code>                    adj = 1;</code></li>
<li class='green'><span class='hits'>8</span><code>                } else if (bDay === 6 || (dayMark + mod) &lt; 0) {</code></li>
<li class='green'><span class='hits'>4</span><code>                    adj = 2;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>42</span><code>            days += adj;</code></li>
<li class='green'><span class='hits'>42</span><code>            days -= (weeks * 2);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>56</span><code>        return days;</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    year: function (date1, date2) {</code></li>
<li class='green'><span class='hits'>16</span><code>        return date2.getFullYear() - date1.getFullYear();</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    month: function (date1, date2, utc) {</code></li>
<li class='green'><span class='hits'>10</span><code>        var m1 = date1[utc ? "getUTCMonth" : "getMonth"]();</code></li>
<li class='green'><span class='hits'>10</span><code>        var m2 = date2[utc ? "getUTCMonth" : "getMonth"]();</code></li>
<li class='green'><span class='hits'>10</span><code>        return (m2 - m1) + ((date2.getFullYear() - date1.getFullYear()) * 12);</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    week: function (date1, date2, utc) {</code></li>
<li class='green'><span class='hits'>22</span><code>        return round(differenceTransform("day", date1, date2, utc) / 7);</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    day: function (date1, date2) {</code></li>
<li class='green'><span class='hits'>106</span><code>        return 1.1574074074074074e-8 * (date2.getTime() - date1.getTime());</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    hour: function (date1, date2) {</code></li>
<li class='green'><span class='hits'>12</span><code>        return 2.7777777777777776e-7 * (date2.getTime() - date1.getTime());</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    minute: function (date1, date2) {</code></li>
<li class='green'><span class='hits'>8</span><code>        return 0.000016666666666666667 * (date2.getTime() - date1.getTime());</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    second: function (date1, date2) {</code></li>
<li class='green'><span class='hits'>6</span><code>        return 0.001 * (date2.getTime() - date1.getTime());</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    millisecond: function (date1, date2) {</code></li>
<li class='green'><span class='hits'>8</span><code>        return date2.getTime() - date1.getTime();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function differenceTransform(interval, date1, date2, utc) {</code></li>
<li class='green'><span class='hits'>254</span><code>    interval = interval.replace(/s$/, "");</code></li>
<li class='green'><span class='hits'>254</span><code>    return round(differenceMap[interval](date1, date2, utc));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>exports.addTransform = addTransform;</code></li>
<li class='green'><span class='hits'>1</span><code>exports.differenceTransform = differenceTransform;</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="base/index.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>base/index.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>13</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>2</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="base/index.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var objectBase = require("./object");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>objectBase.merge(exports, objectBase,</code></li>
<li class='green'><span class=''> </span><code>    require("./broadcast"),</code></li>
<li class='green'><span class=''> </span><code>    require("./functions"),</code></li>
<li class='green'><span class=''> </span><code>    require("./string"),</code></li>
<li class='green'><span class=''> </span><code>    require("./number"),</code></li>
<li class='green'><span class=''> </span><code>    require("./misc"),</code></li>
<li class='green'><span class=''> </span><code>    require("./date"),</code></li>
<li class='green'><span class=''> </span><code>    require("./array"),</code></li>
<li class='green'><span class=''> </span><code>    require("./regexp"),</code></li>
<li class='green'><span class=''> </span><code>    require("./inflections"),</code></li>
<li class='green'><span class=''> </span><code>    require("./characters"));</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="base/inflections.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>base/inflections.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>215</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>93</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="base/inflections.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class=''> </span><code>/*</code></li>
<li class='green'><span class=''> </span><code> * A port of the Rails/Sequel inflections class</code></li>
<li class='green'><span class=''> </span><code> * http://sequel.rubyforge.org/rdoc/classes/Sequel/Inflections.html</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var array = require("./array").array, misc = require("./misc");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var comb = exports;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var CAMELIZE_CONVERT_REGEXP = /_(.)/g;</code></li>
<li class='green'><span class='hits'>1</span><code>var DASH = '-';</code></li>
<li class='green'><span class='hits'>1</span><code>var UNDERSCORE = '_';</code></li>
<li class='green'><span class='hits'>1</span><code>var UNDERSCORE_CONVERT_REGEXP1 = /([A-Z]+)(\d+|[A-Z][a-z])/g;</code></li>
<li class='green'><span class='hits'>1</span><code>var UNDERSCORE_CONVERT_REGEXP2 = /(\d+|[a-z])(\d+|[A-Z])/g;</code></li>
<li class='green'><span class='hits'>1</span><code>var UNDERSCORE_CONVERT_REPLACE = '$1_$2';</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var PLURALS = [], SINGULARS = [], UNCOUNTABLES = [];</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var _plural = function (rule, replacement) {</code></li>
<li class='green'><span class='hits'>20</span><code>    PLURALS.unshift([rule, replacement])</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class='hits'>1</span><code>var _singular = function (rule, replacement) {</code></li>
<li class='green'><span class='hits'>23</span><code>    SINGULARS.unshift([rule, replacement])</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Specifies a new irregular that applies to both pluralization and singularization at the same time. This can only be used</code></li>
<li class='green'><span class=''> </span><code> # for strings, not regular expressions. You simply pass the irregular in singular and plural form.</code></li>
<li class='green'><span class=''> </span><code> #</code></li>
<li class='green'><span class=''> </span><code> # Examples:</code></li>
<li class='green'><span class=''> </span><code> #   irregular 'octopus', 'octopi'</code></li>
<li class='green'><span class=''> </span><code> #   irregular 'person', 'people'</code></li>
<li class='green'><span class=''> </span><code> * @param singular the singular version</code></li>
<li class='green'><span class=''> </span><code> * @param plural  the plural version</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>var _irregular = function (singular, plural) {</code></li>
<li class='green'><span class='hits'>7</span><code>    _plural(new RegExp("(" + singular.substr(0, 1) + ")" + singular.substr(1) + "$"), "$1" + plural.substr(1));</code></li>
<li class='green'><span class='hits'>7</span><code>    _singular(new RegExp("(" + plural.substr(0, 1) + ")" + plural.substr(1) + "$"), "$1" + singular.substr(1));</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class='hits'>1</span><code>var _uncountable = function (words) {</code></li>
<li class='green'><span class='hits'>1</span><code>    UNCOUNTABLES.push(misc.argsToArray(arguments))</code></li>
<li class='green'><span class='hits'>1</span><code>    UNCOUNTABLES = array.flatten(UNCOUNTABLES);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>_plural(/$/, 's');</code></li>
<li class='green'><span class='hits'>1</span><code>_plural(/s$/i, 's');</code></li>
<li class='green'><span class='hits'>1</span><code>_plural(/(alias|(?:stat|octop|vir|b)us)$/i, '$1es');</code></li>
<li class='green'><span class='hits'>1</span><code>_plural(/(buffal|tomat)o$/i, '$1oes');</code></li>
<li class='green'><span class='hits'>1</span><code>_plural(/([ti])um$/i, '$1a');</code></li>
<li class='green'><span class='hits'>1</span><code>_plural(/sis$/i, 'ses');</code></li>
<li class='green'><span class='hits'>1</span><code>_plural(/(?:([^f])fe|([lr])f)$/i, '$1$2ves');</code></li>
<li class='green'><span class='hits'>1</span><code>_plural(/(hive)$/i, '$1s');</code></li>
<li class='green'><span class='hits'>1</span><code>_plural(/([^aeiouy]|qu)y$/i, '$1ies');</code></li>
<li class='green'><span class='hits'>1</span><code>_plural(/(x|ch|ss|sh)$/i, '$1es');</code></li>
<li class='green'><span class='hits'>1</span><code>_plural(/(matr|vert|ind)ix|ex$/i, '$1ices');</code></li>
<li class='green'><span class='hits'>1</span><code>_plural(/([m|l])ouse$/i, '$1ice');</code></li>
<li class='green'><span class='hits'>1</span><code>_plural(/^(ox)$/i, "$1en");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/s$/i, '');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/([ti])a$/i, '$1um');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/(analy|ba|cri|diagno|parenthe|progno|synop|the)ses$/i, '$1sis');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/([^f])ves$/i, '$1fe');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/([h|t]ive)s$/i, '$1');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/([lr])ves$/i, '$1f');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/([^aeiouy]|qu)ies$/i, '$1y');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/(m)ovies$/i, '$1ovie');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/(x|ch|ss|sh)es$/i, '$1');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/([m|l])ice$/i, '$1ouse');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/buses$/i, 'bus');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/oes$/i, 'o');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/shoes$/i, 'shoe');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/(alias|(?:stat|octop|vir|b)us)es$/i, '$1');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/(vert|ind)ices$/i, '$1ex');</code></li>
<li class='green'><span class='hits'>1</span><code>_singular(/matrices$/i, 'matrix');</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>_irregular('person', 'people');</code></li>
<li class='green'><span class='hits'>1</span><code>_irregular('man', 'men');</code></li>
<li class='green'><span class='hits'>1</span><code>_irregular('child', 'children');</code></li>
<li class='green'><span class='hits'>1</span><code>_irregular('sex', 'sexes');</code></li>
<li class='green'><span class='hits'>1</span><code>_irregular('move', 'moves');</code></li>
<li class='green'><span class='hits'>1</span><code>_irregular('quiz', 'quizzes');</code></li>
<li class='green'><span class='hits'>1</span><code>_irregular('testis', 'testes');</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>_uncountable("equipment", "information", "rice", "money", "species", "series", "fish", "sheep", "news");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>exports.singular = _singular;</code></li>
<li class='green'><span class='hits'>1</span><code>exports.plural = _plural;</code></li>
<li class='green'><span class='hits'>1</span><code>exports.uncountable = _uncountable;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Converts a string to camelcase</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *  comb.camelize('hello_world') =&gt; helloWorld</code></li>
<li class='green'><span class=''> </span><code> *  comb.camelize('column_name') =&gt; columnName</code></li>
<li class='green'><span class=''> </span><code> *  comb.camelize('columnName') =&gt; columnName</code></li>
<li class='green'><span class=''> </span><code> *  comb.camelize(null) =&gt; null</code></li>
<li class='green'><span class=''> </span><code> *  comb.camelize() =&gt; undefined</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {String} str the string to camelize</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @returns {String} the camelized version of the string</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.camelize = function (str) {</code></li>
<li class='green'><span class='hits'>14</span><code>    var ret = str;</code></li>
<li class='green'><span class='hits'>14</span><code>    if (!misc.isUndefinedOrNull(str)) {</code></li>
<li class='green'><span class='hits'>12</span><code>        ret = str.replace(CAMELIZE_CONVERT_REGEXP, function (a, b) {</code></li>
<li class='green'><span class='hits'>8</span><code>            return b.toUpperCase();</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>14</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * The reverse of camelize. Makes an underscored form from the expression in the string.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *  comb.underscore('helloWorld') =&gt; hello_world</code></li>
<li class='green'><span class=''> </span><code> *  comb.underscore('column_name') =&gt; column_name</code></li>
<li class='green'><span class=''> </span><code> *  comb.underscore('columnName') =&gt; column_name</code></li>
<li class='green'><span class=''> </span><code> *  comb.underscore(null) =&gt; null</code></li>
<li class='green'><span class=''> </span><code> *  comb.underscore() =&gt; undefined</code></li>
<li class='green'><span class=''> </span><code> * @param {String} str The string to underscore</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @returns {String} the underscored version of the string</code></li>
<li class='green'><span class=''> </span><code> *   */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.underscore = function (str) {</code></li>
<li class='green'><span class='hits'>12</span><code>    var ret = str;</code></li>
<li class='green'><span class='hits'>12</span><code>    if (!misc.isUndefinedOrNull(str)) {</code></li>
<li class='green'><span class='hits'>10</span><code>        ret = str.replace(UNDERSCORE_CONVERT_REGEXP1, UNDERSCORE_CONVERT_REPLACE)</code></li>
<li class='green'><span class=''> </span><code>            .replace(UNDERSCORE_CONVERT_REGEXP2, UNDERSCORE_CONVERT_REPLACE)</code></li>
<li class='green'><span class=''> </span><code>            .replace(DASH, UNDERSCORE).toLowerCase();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>12</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Singularizes and camelizes the string.  Also strips out all characters preceding</code></li>
<li class='green'><span class=''> </span><code> * and including a period (".").</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *   comb.classify('egg_and_hams') =&gt; "eggAndHam"</code></li>
<li class='green'><span class=''> </span><code> *   comb.classify('post') =&gt; "post"</code></li>
<li class='green'><span class=''> </span><code> *   comb.classify('schema.post') =&gt; "post"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {String} str the string to classify</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @returns {String} the classified version of the string</code></li>
<li class='green'><span class=''> </span><code> **/</code></li>
<li class='green'><span class='hits'>1</span><code>comb.classify = function (str) {</code></li>
<li class='green'><span class='hits'>8</span><code>    var ret = str;</code></li>
<li class='green'><span class='hits'>8</span><code>    if (!misc.isUndefinedOrNull(str)) {</code></li>
<li class='green'><span class='hits'>6</span><code>        ret = comb.camelize(comb.singularize(str.replace(/.*\./g, '')));</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>8</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Returns the plural form of the word in the string.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *  comb.pluralize("post") =&gt; "posts"</code></li>
<li class='green'><span class=''> </span><code> *  comb.pluralize("octopus") =&gt; "octopi"</code></li>
<li class='green'><span class=''> </span><code> *  comb.pluralize("sheep") =&gt; "sheep"</code></li>
<li class='green'><span class=''> </span><code> *  comb.pluralize("words") =&gt; "words"</code></li>
<li class='green'><span class=''> </span><code> *  comb.pluralize("the blue mailman") =&gt; "the blue mailmen"</code></li>
<li class='green'><span class=''> </span><code> *  comb.pluralize("CamelOctopus") =&gt; "CamelOctopi"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {String} str the string to pluralize</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @returns {String} the pluralized version of the string</code></li>
<li class='green'><span class=''> </span><code> **/</code></li>
<li class='green'><span class='hits'>1</span><code>comb.pluralize = function (str) {</code></li>
<li class='green'><span class='hits'>100</span><code>    var ret = str;</code></li>
<li class='green'><span class='hits'>100</span><code>    if (!misc.isUndefinedOrNull(str)) {</code></li>
<li class='green'><span class='hits'>98</span><code>        if (UNCOUNTABLES.indexOf(str) == -1) {</code></li>
<li class='green'><span class='hits'>96</span><code>            for (var i in PLURALS) {</code></li>
<li class='green'><span class='hits'>1282</span><code>                var s = PLURALS[i], rule = s[0], replacement = s[1];</code></li>
<li class='green'><span class='hits'>1282</span><code>                if ((ret = ret.replace(rule, replacement)) != str) {</code></li>
<li class='green'><span class='hits'>96</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>100</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * The reverse of pluralize, returns the singular form of a word in a string.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *   comb.singularize("posts") =&gt; "post"</code></li>
<li class='green'><span class=''> </span><code> *   comb.singularize("octopi")=&gt; "octopus"</code></li>
<li class='green'><span class=''> </span><code> *   comb.singularize("sheep") =&gt; "sheep"</code></li>
<li class='green'><span class=''> </span><code> *   comb.singularize("word") =&gt; "word"</code></li>
<li class='green'><span class=''> </span><code> *   comb.singularize("the blue mailmen") =&gt; "the blue mailman"</code></li>
<li class='green'><span class=''> </span><code> *   comb.singularize("CamelOctopi") =&gt; "CamelOctopus"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {String} str the string to singularize</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @returns {String} the singularized version of the string</code></li>
<li class='green'><span class=''> </span><code> * */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.singularize = function (str) {</code></li>
<li class='green'><span class='hits'>106</span><code>    var ret = str;</code></li>
<li class='green'><span class='hits'>106</span><code>    if (!misc.isUndefinedOrNull(str)) {</code></li>
<li class='green'><span class='hits'>104</span><code>        if (UNCOUNTABLES.indexOf(str) == -1) {</code></li>
<li class='green'><span class='hits'>102</span><code>            for (var i in SINGULARS) {</code></li>
<li class='green'><span class='hits'>1570</span><code>                var s = SINGULARS[i], rule = s[0], replacement = s[1];</code></li>
<li class='green'><span class='hits'>1570</span><code>                if ((ret = ret.replace(rule, replacement)) != str) {</code></li>
<li class='green'><span class='hits'>98</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>106</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>};</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="base/misc.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>base/misc.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>187</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>51</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="base/misc.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var comb = exports,</code></li>
<li class='green'><span class=''> </span><code>    arraySlice = Array.prototype.slice;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * Converts an arguments object to an array</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * function test(){</code></li>
<li class='green'><span class=''> </span><code> *     return comb.argsToArray(arguments);</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * function testSlice(){</code></li>
<li class='green'><span class=''> </span><code> *     return comb.argsToArray(arguments, 3);</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * console.log(test(1,2,3)); //[1,2,3]</code></li>
<li class='green'><span class=''> </span><code> * console.log(test(1,2,3,4,5,6)); //[4,5,6]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @function</code></li>
<li class='green'><span class=''> </span><code> * @param {Arguments} args the arguments object to convert</code></li>
<li class='green'><span class=''> </span><code> * @param {Number} [slice=0] the number of arguments to slice.</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @returns {Array} array version of the arguments object</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function argsToArray(args, slice) {</code></li>
<li class='green'><span class='hits'>16746</span><code>    slice = slice || 0;</code></li>
<li class='green'><span class='hits'>16746</span><code>    return arraySlice.call(args, slice);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determines if obj is a boolean</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Anything} obj the thing to test if it is a boolean</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Boolean} true if it is a boolean false otherwise</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isBoolean(obj) {</code></li>
<li class='green'><span class='hits'>12270</span><code>    var undef, type = typeof obj;</code></li>
<li class='green'><span class='hits'>12270</span><code>    return obj != undef &amp;&amp; type == "boolean" || type == "Boolean";</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determines if obj is undefined</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Anything} obj the thing to test if it is undefined</code></li>
<li class='green'><span class=''> </span><code> * @returns {Boolean} true if it is undefined false otherwise</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isUndefined(obj) {</code></li>
<li class='green'><span class='hits'>3334</span><code>    var undef;</code></li>
<li class='green'><span class='hits'>3334</span><code>    return obj !== null &amp;&amp; obj === undef;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determins if the obj is not undefined</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param obj the thing to test if it is not undefined</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @return {Boolean} true if it is defined false otherwise</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isDefined(obj) {</code></li>
<li class='green'><span class='hits'>12</span><code>    return !isUndefined(obj);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determines if obj is undefined or null</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Anything} obj the thing to test if it is undefined or null</code></li>
<li class='green'><span class=''> </span><code> * @returns {Boolean} true if it is undefined or null false otherwise</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isUndefinedOrNull(obj) {</code></li>
<li class='green'><span class='hits'>3094</span><code>    return isUndefined(obj) || isNull(obj);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determines if obj is null</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Anything} obj the thing to test if it is null</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Boolean} true if it is null false otherwise</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isNull(obj) {</code></li>
<li class='green'><span class='hits'>3086</span><code>    var undef;</code></li>
<li class='green'><span class='hits'>3086</span><code>    return obj !== undef &amp;&amp; obj == null;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determines if obj is an Arguments object;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Anything} obj the thing to test if it is null</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Boolean} true if it is an Arguments Object false otherwise</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isArguments(object) {</code></li>
<li class='green'><span class='hits'>1257</span><code>    return !isUndefinedOrNull(object) &amp;&amp; Object.prototype.toString.call(object) == '[object Arguments]';</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function isInstance(obj, clazz) {</code></li>
<li class='green'><span class='hits'>1241</span><code>    if (typeof clazz == "function") {</code></li>
<li class='green'><span class='hits'>1240</span><code>        return obj instanceof clazz;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>1</span><code>        return false;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determines if obj is an instance of a particular class</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Anything} obj the thing to test if it and instance of a class</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} Clazz used to determine if the object is an instance of</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Boolean} true if it is an instance of the clazz false otherwise</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isInstanceOf(obj, clazz) {</code></li>
<li class='green'><span class='hits'>1241</span><code>    return argsToArray(arguments, 1).some(function (c) {</code></li>
<li class='green'><span class='hits'>1241</span><code>        return isInstance(obj, c);</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>(function () {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>    var listeners = [];</code></li>
<li class='green'><span class='hits'>1</span><code>    var setup = false;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>    function setupListener() {</code></li>
<li class='green'><span class='hits'>13</span><code>        if (!setup) {</code></li>
<li class='green'><span class='hits'>1</span><code>            var orig = process.emit;</code></li>
<li class='green'><span class='hits'>1</span><code>            process.emit = function (event) {</code></li>
<li class='green'><span class='hits'>1</span><code>                try {</code></li>
<li class='green'><span class='hits'>1</span><code>                    if (event === 'exit') {</code></li>
<li class='green'><span class='hits'>1</span><code>                        listeners.forEach(function (cb) {</code></li>
<li class='green'><span class='hits'>13</span><code>                            cb();</code></li>
<li class='green'><span class=''> </span><code>                        });</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                } finally {</code></li>
<li class='green'><span class='hits'>1</span><code>                    orig.apply(this, arguments);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            };</code></li>
<li class='green'><span class='hits'>1</span><code>            setup = true;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * Adds listeners to process.exit without having to change setMaxListeners useful if you</code></li>
<li class='green'><span class=''> </span><code>     * are writing a library and do not want to change core setting.</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @param {Funciton} cb funciton to call when process is exiting</code></li>
<li class='green'><span class=''> </span><code>     * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code>     * @static</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class='hits'>1</span><code>    function listenForExit(cb) {</code></li>
<li class='green'><span class='hits'>13</span><code>        setupListener();</code></li>
<li class='green'><span class='hits'>13</span><code>        listeners.push(cb);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>    comb.listenForExit = listenForExit;</code></li>
<li class='green'><span class=''> </span><code>})();</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>comb.argsToArray = argsToArray;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.isBoolean = isBoolean;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.isUndefined = isUndefined;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.isDefined = isDefined;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.isUndefinedOrNull = isUndefinedOrNull;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.isNull = isNull;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.isArguments = isArguments;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.isInstanceOf = isInstanceOf;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="base/number.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>base/number.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>66</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>10</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="base/number.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var comb = exports;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determines if obj is a number</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Anything} obj the thing to test if it is a Number</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Boolean} true if it is a number false otherwise</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.isNumber = function(obj) {</code></li>
<li class='green'><span class='hits'>2827</span><code>    var undef;</code></li>
<li class='green'><span class='hits'>2827</span><code>    return obj !== undef &amp;&amp; obj != null &amp;&amp; (typeof obj == "number" || obj instanceof Number);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @private</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>var round = Math.round, pow = Math.pow;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @namespace Utilities for numbers</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.number = {</code></li>
<li class='green'><span class=''> </span><code>    /**@lends comb.number*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * Rounds a number to the specified places.</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @example</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * comb.number.round(10.000009, 2); //10</code></li>
<li class='green'><span class=''> </span><code>     * comb.number.round(10.000009, 5); //10.00001</code></li>
<li class='green'><span class=''> </span><code>     * comb.number.round(10.0009, 3); //10.001</code></li>
<li class='green'><span class=''> </span><code>     * comb.number.round(10.0009, 2); //10</code></li>
<li class='green'><span class=''> </span><code>     * comb.number.round(10.0009, 3); //10.001</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @param {Number} num the number to round.</code></li>
<li class='green'><span class=''> </span><code>     * @param {Number} places the number of places to round to.</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    round : function(number, places, increment) {</code></li>
<li class='green'><span class='hits'>24</span><code>        increment = increment || 1e-20;</code></li>
<li class='green'><span class='hits'>24</span><code>        var factor = 10 / (10 * (increment || 10));</code></li>
<li class='green'><span class='hits'>24</span><code>        return (Math.ceil(factor * +number) / factor).toFixed(places) * 1; // Number</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * Rounds a number to the specified places, rounding up.</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @example</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * comb.number.roundCeil(10.000001, 2); //10.01</code></li>
<li class='green'><span class=''> </span><code>     * comb.number.roundCeil(10.000002, 5); //10.00001</code></li>
<li class='green'><span class=''> </span><code>     * comb.number.roundCeil(10.0003, 3); //10.001</code></li>
<li class='green'><span class=''> </span><code>     * comb.number.roundCeil(10.0004, 2); //10.01</code></li>
<li class='green'><span class=''> </span><code>     * comb.number.roundCeil(10.0005, 3); //10.001</code></li>
<li class='green'><span class=''> </span><code>     * comb.number.roundCeil(10.0002, 2); //10.01</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @param {Number} num the number to round.</code></li>
<li class='green'><span class=''> </span><code>     * @param {Number} places the number of places to round to.</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    roundCeil : function(number, places){</code></li>
<li class='green'><span class='hits'>12</span><code>         return Math.ceil(number * Math.pow(10, places))/Math.pow(10, places);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>};</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="base/object.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>base/object.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>575</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>162</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="base/object.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var comb = exports,</code></li>
<li class='green'><span class=''> </span><code>    misc = require("./misc.js"),</code></li>
<li class='green'><span class=''> </span><code>    isUndefinedOrNull = misc.isUndefinedOrNull,</code></li>
<li class='green'><span class=''> </span><code>    isArguments = misc.isArguments,</code></li>
<li class='green'><span class=''> </span><code>    pSlice = Array.prototype.slice,</code></li>
<li class='green'><span class=''> </span><code>    pToString = Object.prototype.toString,</code></li>
<li class='green'><span class=''> </span><code>    _baseArray, _baseString;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function baseArray() {</code></li>
<li class='green'><span class='hits'>20</span><code>    return _baseArray || (_baseArray = require("./array").array);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function baseString() {</code></li>
<li class='green'><span class='hits'>20</span><code>    return _baseString || (_baseString = require("./string"));</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>//taken from node js assert.js</code></li>
<li class='green'><span class=''> </span><code>//https://github.com/joyent/node/blob/master/lib/assert.js</code></li>
<li class='green'><span class='hits'>1</span><code>function _deepEqual(actual, expected) {</code></li>
<li class='green'><span class=''> </span><code>    // 7.1. All identical values are equivalent, as determined by ===.</code></li>
<li class='green'><span class='hits'>79</span><code>    if (actual === expected) {</code></li>
<li class='green'><span class='hits'>6</span><code>        return true;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>73</span><code>    } else if (Buffer.isBuffer(actual) &amp;&amp; Buffer.isBuffer(expected)) {</code></li>
<li class='green'><span class='hits'>2</span><code>        if (actual.length != expected.length) return false;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>2</span><code>        for (var i = 0; i &lt; actual.length; i++) {</code></li>
<li class='green'><span class='hits'>6</span><code>            if (actual[i] !== expected[i]) return false;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>2</span><code>        return true;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        // 7.2. If the expected value is a Date object, the actual value is</code></li>
<li class='green'><span class=''> </span><code>        // equivalent if it is also a Date object that refers to the same time.</code></li>
<li class='green'><span class='hits'>71</span><code>    } else if (actual instanceof Date &amp;&amp; expected instanceof Date) {</code></li>
<li class='green'><span class='hits'>4</span><code>        return actual.getTime() === expected.getTime();</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        // 7.3 If the expected value is a RegExp object, the actual value is</code></li>
<li class='green'><span class=''> </span><code>        // equivalent if it is also a RegExp object with the same source and</code></li>
<li class='green'><span class=''> </span><code>        // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).</code></li>
<li class='green'><span class='hits'>67</span><code>    } else if (actual instanceof RegExp &amp;&amp; expected instanceof RegExp) {</code></li>
<li class='green'><span class='hits'>4</span><code>        return actual.source === expected.source &amp;&amp;</code></li>
<li class='green'><span class=''> </span><code>            actual.global === expected.global &amp;&amp;</code></li>
<li class='green'><span class=''> </span><code>            actual.multiline === expected.multiline &amp;&amp;</code></li>
<li class='green'><span class=''> </span><code>            actual.lastIndex === expected.lastIndex &amp;&amp;</code></li>
<li class='green'><span class=''> </span><code>            actual.ignoreCase === expected.ignoreCase;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        // 7.4. Other pairs that do not both pass typeof value == 'object',</code></li>
<li class='green'><span class=''> </span><code>        // equivalence is determined by ==.</code></li>
<li class='green'><span class='hits'>63</span><code>    } else if (typeof actual != 'object' &amp;&amp; typeof expected != 'object') {</code></li>
<li class='green'><span class='hits'>23</span><code>        return actual == expected;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        // 7.5 For all other Object pairs, including Array objects, equivalence is</code></li>
<li class='green'><span class=''> </span><code>        // determined by having the same number of owned properties (as verified</code></li>
<li class='green'><span class=''> </span><code>        // with Object.prototype.hasOwnProperty.call), the same set of keys</code></li>
<li class='green'><span class=''> </span><code>        // (although not necessarily the same order), equivalent values for every</code></li>
<li class='green'><span class=''> </span><code>        // corresponding key, and an identical 'prototype' property. Note: this</code></li>
<li class='green'><span class=''> </span><code>        // accounts for both named and indexed properties on Arrays.</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>40</span><code>        return objEquiv(actual, expected);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function objEquiv(a, b) {</code></li>
<li class='green'><span class='hits'>40</span><code>    if (isUndefinedOrNull(a) || isUndefinedOrNull(b))</code></li>
<li class='green'><span class='hits'>10</span><code>        return false;</code></li>
<li class='green'><span class=''> </span><code>    // an identical 'prototype' property.</code></li>
<li class='green'><span class='hits'>30</span><code>    if (a.prototype !== b.prototype) return false;</code></li>
<li class='green'><span class=''> </span><code>    //~~~I've managed to break Object.keys through screwy arguments passing.</code></li>
<li class='green'><span class=''> </span><code>    //   Converting to array solves the problem.</code></li>
<li class='green'><span class='hits'>30</span><code>    if (isArguments(a)) {</code></li>
<li class='green'><span class='hits'>4</span><code>        if (!isArguments(b)) {</code></li>
<li class='green'><span class='hits'>2</span><code>            return false;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>2</span><code>        a = pSlice.call(a);</code></li>
<li class='green'><span class='hits'>2</span><code>        b = pSlice.call(b);</code></li>
<li class='green'><span class='hits'>2</span><code>        return _deepEqual(a, b);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>26</span><code>    try {</code></li>
<li class='green'><span class='hits'>26</span><code>        var ka = Object.keys(a),</code></li>
<li class='green'><span class=''> </span><code>            kb = Object.keys(b),</code></li>
<li class='green'><span class=''> </span><code>            key, i;</code></li>
<li class='green'><span class=''> </span><code>    } catch (e) {//happens when one is a string literal and the other isn't</code></li>
<li class='green'><span class='hits'>2</span><code>        return false;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>    // having the same number of owned properties (keys incorporates</code></li>
<li class='green'><span class=''> </span><code>    // hasOwnProperty)</code></li>
<li class='green'><span class='hits'>24</span><code>    if (ka.length != kb.length)</code></li>
<li class='green'><span class='hits'>4</span><code>        return false;</code></li>
<li class='green'><span class=''> </span><code>    //the same set of keys (although not necessarily the same order),</code></li>
<li class='green'><span class='hits'>20</span><code>    ka.sort();</code></li>
<li class='green'><span class='hits'>20</span><code>    kb.sort();</code></li>
<li class='green'><span class=''> </span><code>    //~~~cheap key test</code></li>
<li class='green'><span class='hits'>20</span><code>    for (i = ka.length - 1; i &gt;= 0; i--) {</code></li>
<li class='green'><span class='hits'>20</span><code>        if (ka[i] != kb[i])</code></li>
<li class='green'><span class='hits'>4</span><code>            return false;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>    //equivalent values for every corresponding key, and</code></li>
<li class='green'><span class=''> </span><code>    //~~~possibly expensive deep test</code></li>
<li class='green'><span class='hits'>16</span><code>    for (i = ka.length - 1; i &gt;= 0; i--) {</code></li>
<li class='green'><span class='hits'>16</span><code>        key = ka[i];</code></li>
<li class='green'><span class='hits'>22</span><code>        if (!_deepEqual(a[key], b[key])) return false;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>10</span><code>    return true;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function merge(target, source) {</code></li>
<li class='green'><span class='hits'>468</span><code>    var name, s;</code></li>
<li class='green'><span class='hits'>468</span><code>    for (name in source) {</code></li>
<li class='green'><span class='hits'>656</span><code>        s = source[name];</code></li>
<li class='green'><span class='hits'>656</span><code>        if (!(name in target) || (target[name] !== s)) {</code></li>
<li class='green'><span class='hits'>654</span><code>            target[name] = s;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>468</span><code>    return target;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function deepMerge(target, source) {</code></li>
<li class='green'><span class='hits'>27</span><code>    var name, s, t;</code></li>
<li class='green'><span class='hits'>27</span><code>    for (name in source) {</code></li>
<li class='green'><span class='hits'>37</span><code>        s = source[name], t = target[name];</code></li>
<li class='green'><span class='hits'>37</span><code>        if (!_deepEqual(t, s)) {</code></li>
<li class='green'><span class='hits'>37</span><code>            if (comb.isHash(t) &amp;&amp; comb.isHash(s)) {</code></li>
<li class='green'><span class='hits'>8</span><code>                target[name] = deepMerge(t, s);</code></li>
<li class='green'><span class='hits'>29</span><code>            } else if (comb.isHash(s)) {</code></li>
<li class='green'><span class='hits'>8</span><code>                target[name] = deepMerge({}, s);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>21</span><code>                target[name] = s;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>27</span><code>    return target;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determines if an object is just a hash and not a qualified Object such as Number</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *    comb.isHash({}) =&gt; true</code></li>
<li class='green'><span class=''> </span><code> *    comb.isHash({1 : 2, a : "b"}) =&gt; true</code></li>
<li class='green'><span class=''> </span><code> *    comb.isHash(new Date()) =&gt; false</code></li>
<li class='green'><span class=''> </span><code> *    comb.isHash(new String()) =&gt; false</code></li>
<li class='green'><span class=''> </span><code> *    comb.isHash(new Number()) =&gt; false</code></li>
<li class='green'><span class=''> </span><code> *    comb.isHash(new Boolean()) =&gt; false</code></li>
<li class='green'><span class=''> </span><code> *    comb.isHash() =&gt; false</code></li>
<li class='green'><span class=''> </span><code> *    comb.isHash("") =&gt; false</code></li>
<li class='green'><span class=''> </span><code> *    comb.isHash(1) =&gt; false</code></li>
<li class='green'><span class=''> </span><code> *    comb.isHash(false) =&gt; false</code></li>
<li class='green'><span class=''> </span><code> *    comb.isHash(true) =&gt; false</code></li>
<li class='green'><span class=''> </span><code> * @param {Anything} obj the thing to test if it is a hash</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Boolean} true if it is a hash false otherwise</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isHash(obj) {</code></li>
<li class='green'><span class='hits'>327</span><code>    var ret = comb.isObject(obj);</code></li>
<li class='green'><span class='hits'>327</span><code>    return ret &amp;&amp; obj.constructor === Object;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Merges objects together</code></li>
<li class='green'><span class=''> </span><code> * NOTE: this function takes a variable number of objects to merge</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var myObj = {};</code></li>
<li class='green'><span class=''> </span><code> * comb.merge(myObj, {test : true});</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * myObj.test =&gt; true</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.merge(myObj, {test : false}, {test2 : false}, {test3 : "hello", test4 : "world"});</code></li>
<li class='green'><span class=''> </span><code> * myObj.test =&gt; false</code></li>
<li class='green'><span class=''> </span><code> * myObj.test2 =&gt; false</code></li>
<li class='green'><span class=''> </span><code> * myObj.test3 =&gt; "hello"</code></li>
<li class='green'><span class=''> </span><code> * myObj.test4 =&gt; "world"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} obj the object to merge into</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} props variable number of objects to merge into the obj</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Object} the merged object</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @name merge</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function combMerge(obj, props) {</code></li>
<li class='green'><span class='hits'>442</span><code>    if (!obj) {</code></li>
<li class='green'><span class='hits'>1</span><code>        obj = {};</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>442</span><code>    for (var i = 1, l = arguments.length; i &lt; l; i++) {</code></li>
<li class='green'><span class='hits'>464</span><code>        merge(obj, arguments[i]);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>442</span><code>    return obj; // Object</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class='hits'>1</span><code>;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Merges objects together only overriding properties that are different.</code></li>
<li class='green'><span class=''> </span><code> * NOTE: this function takes a variable number of objects to merge</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var myObj = {my : {cool : {property1 : 1, property2 : 2}}};</code></li>
<li class='green'><span class=''> </span><code> * comb.deepMerge(myObj, {my : {cool : {property3 : 3}}});</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * myObj.my.cool.property1 =&gt; 1</code></li>
<li class='green'><span class=''> </span><code> * myObj.my.cool.property2 =&gt; 2</code></li>
<li class='green'><span class=''> </span><code> * myObj.my.cool.property3 =&gt; 3</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} obj the object to merge into</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} props variable number of objects to merge into the obj</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Object} the merged object</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @name deepMerge</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function combDeepMerge(obj, props) {</code></li>
<li class='green'><span class='hits'>5</span><code>    if (!obj) {</code></li>
<li class='green'><span class='hits'>1</span><code>        obj = {};</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>5</span><code>    for (var i = 1, l = arguments.length; i &lt; l; i++) {</code></li>
<li class='green'><span class='hits'>11</span><code>        deepMerge(obj, arguments[i]);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>5</span><code>    return obj; // Object</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Extends the prototype of an object if it exists otherwise it extends the object.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  var MyObj = function(){};</code></li>
<li class='green'><span class=''> </span><code> *  MyObj.prototype.test = true;</code></li>
<li class='green'><span class=''> </span><code> *  comb.extend(MyObj, {test2 : false, test3 : "hello", test4 : "world"});</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  var myObj = new MyObj();</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  myObj.test =&gt; true</code></li>
<li class='green'><span class=''> </span><code> *  myObj.test2 =&gt; false</code></li>
<li class='green'><span class=''> </span><code> *  myObj.test3 =&gt; "hello"</code></li>
<li class='green'><span class=''> </span><code> *  myObj.test4 =&gt; "world"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  var myObj2 = {};</code></li>
<li class='green'><span class=''> </span><code> *  myObj2.test = true;</code></li>
<li class='green'><span class=''> </span><code> *  comb.extend(myObj2, {test2 : false, test3 : "hello", test4 : "world"});</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *  myObj2.test =&gt; true</code></li>
<li class='green'><span class=''> </span><code> *  myObj2.test2 =&gt; false</code></li>
<li class='green'><span class=''> </span><code> *  myObj2.test3 =&gt; "hello"</code></li>
<li class='green'><span class=''> </span><code> *  myObj2.test4 =&gt; "world"</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} parent the parent object to extend</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} extend the extension object to mixin to the parent</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Object} returns the extended object</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function extend(parent, extend) {</code></li>
<li class='green'><span class='hits'>4</span><code>    var proto = parent.prototype || parent;</code></li>
<li class='green'><span class='hits'>4</span><code>    merge(proto, extend);</code></li>
<li class='green'><span class='hits'>4</span><code>    return parent;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determines if obj is an object</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Anything} obj the thing to test if it is an object</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @returns {Boolean} true if it is an object false otherwise</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isObject(obj) {</code></li>
<li class='green'><span class='hits'>4303</span><code>    var undef;</code></li>
<li class='green'><span class='hits'>4303</span><code>    return obj !== null &amp;&amp; obj !== undef &amp;&amp; typeof obj === "object";</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determines if an object is empty</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.isEmpty({}) =&gt; true</code></li>
<li class='green'><span class=''> </span><code> * comb.isEmpty({a : 1}) =&gt; false</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param object the object to test</code></li>
<li class='green'><span class=''> </span><code> * @returns {Boolean} true if the object is empty;</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isEmpty(object) {</code></li>
<li class='green'><span class='hits'>9</span><code>    if (comb.isObject(object)) {</code></li>
<li class='green'><span class='hits'>8</span><code>        for (var i in object) {</code></li>
<li class='green'><span class='hits'>4</span><code>            if (object.hasOwnProperty(i)) {</code></li>
<li class='green'><span class='hits'>4</span><code>                return false;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>5</span><code>    return true;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Determines if two things are deep equal.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.deepEqual({a : 1, b : 2}, {a : 1, b : 2}) =&gt; true</code></li>
<li class='green'><span class=''> </span><code> * comb.deepEqual({a : 1}, {a : 1, b : 2}) =&gt; false</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param o1 the first thing to compare</code></li>
<li class='green'><span class=''> </span><code> * @param o3 the second thing to compare</code></li>
<li class='green'><span class=''> </span><code> * @return {Boolean}</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function deepEqual(o1, o2) {</code></li>
<li class='green'><span class='hits'>24</span><code>    return  _deepEqual(o1, o2);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>comb.isHash = isHash;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.isEmpty = isEmpty;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.deepEqual = deepEqual;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.isObject = isObject;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.extend = extend;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.deepMerge = combDeepMerge;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.merge = combMerge;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Returns a new hash with the specified keys omitted from the hash.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * var obj = {a: "a", b: "b", c: "c"};</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //as a function</code></li>
<li class='green'><span class=''> </span><code> * comb.hash.omit(obj, ["a", "b"]); //{c: "c"}</code></li>
<li class='green'><span class=''> </span><code> * comb.hash.omit(obj, "c"); //{a: "a", b: "b"};</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //as a monad</code></li>
<li class='green'><span class=''> </span><code> * comb(obj).omit(["a", "b"]); //{c: "c"}</code></li>
<li class='green'><span class=''> </span><code> * comb(obj).omit("c"); //{a: "a", b: "b"};</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} hash The hash to omit values from</code></li>
<li class='green'><span class=''> </span><code> * @param {Array|String} omitted the keys to omit.</code></li>
<li class='green'><span class=''> </span><code> * @returns {Object} a new Object with the keys omitted</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.hash</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function omit(hash, omitted) {</code></li>
<li class='green'><span class='hits'>11</span><code>    if (!isHash(hash)) {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new TypeError("expected object got ", pToString.call(hash));</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>10</span><code>    if (baseString().isString(omitted)) {</code></li>
<li class='green'><span class='hits'>2</span><code>        omitted = [omitted];</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>10</span><code>    var objKeys = baseArray().difference(Object.keys(hash), omitted), key, ret = {};</code></li>
<li class='green'><span class='hits'>10</span><code>    for (var i = 0, len = objKeys.length; i &lt; len; ++i) {</code></li>
<li class='green'><span class='hits'>18</span><code>        key = objKeys[i];</code></li>
<li class='green'><span class='hits'>18</span><code>        ret[key] = hash[key];</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>10</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Returns a new hash with the specified keys omitted from the hash.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * var obj = {a: "a", b: "b", c: "c"};</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //as a function</code></li>
<li class='green'><span class=''> </span><code> * comb.hash.pick(obj, ["a", "b"]); //{a: "a", b:'b'}</code></li>
<li class='green'><span class=''> </span><code> * comb.hash.pick(obj, "c"); //{c: "c"};</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //as a monad</code></li>
<li class='green'><span class=''> </span><code> * comb(obj).pick(["a", "b"]); //{a: "a", b:'b'}</code></li>
<li class='green'><span class=''> </span><code> * comb(obj).pick("c"); //{c: "c"};</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} hash The hash to pick values from</code></li>
<li class='green'><span class=''> </span><code> * @param {Array|String} picked the keys to pick.</code></li>
<li class='green'><span class=''> </span><code> * @returns {Object} a new Object with only the keys specified</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.hash</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function pick(hash, picked) {</code></li>
<li class='green'><span class='hits'>11</span><code>    if (!isHash(hash)) {</code></li>
<li class='green'><span class='hits'>1</span><code>        throw new TypeError("expected object got ", pToString.call(hash));</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>10</span><code>    if (baseString().isString(picked)) {</code></li>
<li class='green'><span class='hits'>2</span><code>        picked = [picked];</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>10</span><code>    var objKeys = baseArray().intersect(Object.keys(hash), picked), key, ret = {};</code></li>
<li class='green'><span class='hits'>10</span><code>    for (var i = 0, len = objKeys.length; i &lt; len; ++i) {</code></li>
<li class='green'><span class='hits'>10</span><code>        key = objKeys[i];</code></li>
<li class='green'><span class='hits'>10</span><code>        ret[key] = hash[key];</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>10</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Loops through each k/v in a hash.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * var obj = {a : "b", c : "d", e : "f"};</code></li>
<li class='green'><span class=''> </span><code> * comb(obj).forEach(function(value, key){</code></li>
<li class='green'><span class=''> </span><code> *     console.log(value, key);</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.hash.forEach(obj, function(){</code></li>
<li class='green'><span class=''> </span><code> *    console.log(value, key);</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} hash the hash to iterate</code></li>
<li class='green'><span class=''> </span><code> * @param {Function} iterator the interator function. Called with (key, value, hash).</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [scope=hash] the scope to invoke the interator in.</code></li>
<li class='green'><span class=''> </span><code> * @return {Object} the original hash.</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.hash</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function forEach(hash, iterator, scope) {</code></li>
<li class='green'><span class='hits'>6</span><code>    if (!isHash(hash) || typeof iterator !== "function") {</code></li>
<li class='green'><span class='hits'>4</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>2</span><code>    var keys = Object.keys(hash), key;</code></li>
<li class='green'><span class='hits'>2</span><code>    for (var i = 0, len = keys.length; i &lt; len; ++i) {</code></li>
<li class='green'><span class='hits'>6</span><code>        key = keys[i];</code></li>
<li class='green'><span class='hits'>6</span><code>        iterator.call(scope || hash, hash[key], key, hash);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>2</span><code>    return hash;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Filters out key/value pairs in an object. Filters out key/value pairs that return a falsey value from the iterator.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * var obj = {a : "b", c : "d", e : "f"};</code></li>
<li class='green'><span class=''> </span><code> * comb(obj).filter(function(value, key){</code></li>
<li class='green'><span class=''> </span><code> *     return value == "b" || key === "e";</code></li>
<li class='green'><span class=''> </span><code> * }); //{a : "b", e : "f"};</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.hash.filter(obj, function(){</code></li>
<li class='green'><span class=''> </span><code> *    return value == "b" || key === "e";</code></li>
<li class='green'><span class=''> </span><code> * }); //{a : "b", e : "f"};</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} hash the hash to filter.</code></li>
<li class='green'><span class=''> </span><code> * @param {Function} iterator the interator function. Called with (key, value, hash).</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [scope=hash] the scope to invoke the interator in.</code></li>
<li class='green'><span class=''> </span><code> * @return {Object} a new object with the values that returned true..</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.hash</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function filter(hash, iterator, scope) {</code></li>
<li class='green'><span class='hits'>6</span><code>    if (!isHash(hash) || typeof iterator !== "function") {</code></li>
<li class='green'><span class='hits'>4</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>2</span><code>    var keys = Object.keys(hash), key, value, ret = {};</code></li>
<li class='green'><span class='hits'>2</span><code>    for (var i = 0, len = keys.length; i &lt; len; ++i) {</code></li>
<li class='green'><span class='hits'>6</span><code>        key = keys[i];</code></li>
<li class='green'><span class='hits'>6</span><code>        value = hash[key];</code></li>
<li class='green'><span class='hits'>6</span><code>        if (iterator.call(scope || hash, value, key, hash)) {</code></li>
<li class='green'><span class='hits'>4</span><code>            ret[key] = value;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>2</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Returns the values of a hash.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * var obj = {a : "b", c : "d", e : "f"};</code></li>
<li class='green'><span class=''> </span><code> * comb(obj).values(); //["b", "d", "f"]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.hash.values(obj); //["b", "d", "f"]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} hash the object to retrieve the values of.</code></li>
<li class='green'><span class=''> </span><code> * @return {Array} array of values.</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.hash</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function values(hash) {</code></li>
<li class='green'><span class='hits'>5</span><code>    if (!isHash(hash)) {</code></li>
<li class='green'><span class='hits'>3</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>2</span><code>    var keys = Object.keys(hash), ret = [];</code></li>
<li class='green'><span class='hits'>2</span><code>    for (var i = 0, len = keys.length; i &lt; len; ++i) {</code></li>
<li class='green'><span class='hits'>6</span><code>        ret.push(hash[keys[i]]);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>2</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Returns a new hash that is the invert of the hash.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * var obj = {a : "b", c : "d", e : "f"};</code></li>
<li class='green'><span class=''> </span><code> * comb(obj).invert(); //{b : "a", d : "c", f : "e"}</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.hash.invert(obj); //{b : "a", d : "c", f : "e"}</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} hash the hash to invert.</code></li>
<li class='green'><span class=''> </span><code> * @return {Object} A new hash that is the invert of hash.</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.hash</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function invert(hash) {</code></li>
<li class='green'><span class='hits'>5</span><code>    if (!isHash(hash)) {</code></li>
<li class='green'><span class='hits'>3</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>2</span><code>    var keys = Object.keys(hash), key, ret = {};</code></li>
<li class='green'><span class='hits'>2</span><code>    for (var i = 0, len = keys.length; i &lt; len; ++i) {</code></li>
<li class='green'><span class='hits'>6</span><code>        key = keys[i];</code></li>
<li class='green'><span class='hits'>6</span><code>        ret[hash[key]] = key;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>2</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Converts a hash to an array.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> * var obj = {a : "b", c : "d", e : "f"};</code></li>
<li class='green'><span class=''> </span><code> * comb(obj).toArray(); //[["a", "b"], ["c", "d"], ["e", "f"]]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.hash.toArray(obj); //[["a", "b"], ["c", "d"], ["e", "f"]]</code></li>
<li class='green'><span class=''> </span><code> * ```</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} hash the hash to convert to an array.</code></li>
<li class='green'><span class=''> </span><code> * @return {Array} a two dimensional array representing the hash.</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.hash</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function toArray(hash) {</code></li>
<li class='green'><span class='hits'>5</span><code>    if (!isHash(hash)) {</code></li>
<li class='green'><span class='hits'>3</span><code>        throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>2</span><code>    var keys = Object.keys(hash), key, ret = [];</code></li>
<li class='green'><span class='hits'>2</span><code>    for (var i = 0, len = keys.length; i &lt; len; ++i) {</code></li>
<li class='green'><span class='hits'>6</span><code>        key = keys[i];</code></li>
<li class='green'><span class='hits'>6</span><code>        ret.push([key, hash[key]]);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>2</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @namespace utilities for working with hases i.e. {}</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.hash = {</code></li>
<li class='green'><span class=''> </span><code>    forEach: forEach,</code></li>
<li class='green'><span class=''> </span><code>    omit: omit,</code></li>
<li class='green'><span class=''> </span><code>    pick: pick,</code></li>
<li class='green'><span class=''> </span><code>    filter: filter,</code></li>
<li class='green'><span class=''> </span><code>    invert: invert,</code></li>
<li class='green'><span class=''> </span><code>    values: values,</code></li>
<li class='green'><span class=''> </span><code>    toArray: toArray</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="base/regexp.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>base/regexp.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>48</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>11</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="base/regexp.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var comb = exports;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Tests if something is a regular expression.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * comb.isRegExp(/hello/); //true</code></li>
<li class='green'><span class=''> </span><code> * comb.isRegExp("hello"); //false</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param obj the thing to test.</code></li>
<li class='green'><span class=''> </span><code> * @return {Boolean}</code></li>
<li class='green'><span class=''> </span><code> * @static</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>function isRegExp(obj) {</code></li>
<li class='green'><span class='hits'>13</span><code>    var undef;</code></li>
<li class='green'><span class='hits'>13</span><code>    return obj !== undef &amp;&amp; obj != null &amp;&amp; (obj instanceof RegExp);</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>comb.isRexExp = isRegExp;</code></li>
<li class='green'><span class='hits'>1</span><code>comb.isRegExp = isRegExp;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @namespace Regeular expression utilities</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>comb.regexp = {</code></li>
<li class='green'><span class=''> </span><code>    /**@lends comb.regexp*/</code></li>
<li class='green'><span class=''> </span><code>    /**</code></li>
<li class='green'><span class=''> </span><code>     * Escapes a string</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @param {String} str the string to escape</code></li>
<li class='green'><span class=''> </span><code>     * @param {String} [except] characters to ignore</code></li>
<li class='green'><span class=''> </span><code>     *</code></li>
<li class='green'><span class=''> </span><code>     * @returns {String} the escaped string</code></li>
<li class='green'><span class=''> </span><code>     */</code></li>
<li class='green'><span class=''> </span><code>    escapeString:function (str, except) {</code></li>
<li class='green'><span class='hits'>46</span><code>        return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, function (ch) {</code></li>
<li class='green'><span class='hits'>46</span><code>            if (except &amp;&amp; except.indexOf(ch) != -1) {</code></li>
<li class='green'><span class='hits'>15</span><code>                return ch;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>31</span><code>            return "\\" + ch;</code></li>
<li class='green'><span class=''> </span><code>        }); // String</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>};</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/AVLTree.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/AVLTree.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>203</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>100</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/AVLTree.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>        Tree = require("./Tree"),</code></li>
<li class='green'><span class=''> </span><code>        base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>        multiply = base.string.multiply;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var abs = Math.abs;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var makeNode = function(data) {</code></li>
<li class='green'><span class='hits'>122</span><code>    return {</code></li>
<li class='green'><span class=''> </span><code>        data : data,</code></li>
<li class='green'><span class=''> </span><code>        balance : 0,</code></li>
<li class='green'><span class=''> </span><code>        left : null,</code></li>
<li class='green'><span class=''> </span><code>        right : null</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var rotateSingle = function(root, dir, otherDir) {</code></li>
<li class='green'><span class='hits'>80</span><code>    var save = root[otherDir];</code></li>
<li class='green'><span class='hits'>80</span><code>    root[otherDir] = save[dir];</code></li>
<li class='green'><span class='hits'>80</span><code>    save[dir] = root;</code></li>
<li class='green'><span class='hits'>80</span><code>    return save;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var rotateDouble = function(root, dir, otherDir) {</code></li>
<li class='green'><span class='hits'>15</span><code>    root[otherDir] = rotateSingle(root[otherDir], otherDir, dir);</code></li>
<li class='green'><span class='hits'>15</span><code>    return rotateSingle(root, dir, otherDir);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var adjustBalance = function(root, dir, bal) {</code></li>
<li class='green'><span class='hits'>15</span><code>    var otherDir = dir == "left" ? "right" : "left";</code></li>
<li class='green'><span class='hits'>15</span><code>    var n = root[dir], nn = n[otherDir];</code></li>
<li class='green'><span class='hits'>15</span><code>    if (nn.balance == 0)</code></li>
<li class='green'><span class='hits'>11</span><code>        root.balance = n.balance = 0;</code></li>
<li class='green'><span class='hits'>4</span><code>    else if (nn.balance == bal) {</code></li>
<li class='green'><span class='hits'>2</span><code>        root.balance = -bal;</code></li>
<li class='green'><span class='hits'>2</span><code>        n.balance = 0;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>    else { /* nn.balance == -bal */</code></li>
<li class='green'><span class='hits'>2</span><code>        root.balance = 0;</code></li>
<li class='green'><span class='hits'>2</span><code>        n.balance = bal;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>15</span><code>    nn.balance = 0;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var insertAdjustBalance = function(root, dir) {</code></li>
<li class='green'><span class='hits'>60</span><code>    var otherDir = dir == "left" ? "right" : "left";</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>60</span><code>    var n = root[dir];</code></li>
<li class='green'><span class='hits'>60</span><code>    var bal = dir == "left" ? -1 : +1;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>60</span><code>    if (n.balance == bal) {</code></li>
<li class='green'><span class='hits'>46</span><code>        root.balance = n.balance = 0;</code></li>
<li class='green'><span class='hits'>46</span><code>        root = rotateSingle(root, otherDir, dir);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>    else {</code></li>
<li class='green'><span class='hits'>14</span><code>        adjustBalance(root, dir, bal);</code></li>
<li class='green'><span class='hits'>14</span><code>        root = rotateDouble(root, otherDir, dir);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>60</span><code>    return root;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var removeAdjustBalance = function(root, dir, done) {</code></li>
<li class='green'><span class='hits'>5</span><code>    var otherDir = dir == "left" ? "right" : "left";</code></li>
<li class='green'><span class='hits'>5</span><code>    var n = root[otherDir];</code></li>
<li class='green'><span class='hits'>5</span><code>    var bal = dir == "left" ? -1 : 1;</code></li>
<li class='green'><span class='hits'>5</span><code>    if (n.balance == -bal) {</code></li>
<li class='green'><span class='hits'>1</span><code>        root.balance = n.balance = 0;</code></li>
<li class='green'><span class='hits'>1</span><code>        root = rotateSingle(root, dir, otherDir);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>4</span><code>    else if (n.balance == bal) {</code></li>
<li class='green'><span class='hits'>1</span><code>        adjustBalance(root, otherDir, -bal);</code></li>
<li class='green'><span class='hits'>1</span><code>        root = rotateDouble(root, dir, otherDir);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>    else { /* n.balance == 0 */</code></li>
<li class='green'><span class='hits'>3</span><code>        root.balance = -bal;</code></li>
<li class='green'><span class='hits'>3</span><code>        n.balance = bal;</code></li>
<li class='green'><span class='hits'>3</span><code>        root = rotateSingle(root, dir, otherDir);</code></li>
<li class='green'><span class='hits'>3</span><code>        done.done = true;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>5</span><code>    return root;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var insert = function(root, data, done, compare) {</code></li>
<li class='green'><span class='hits'>472</span><code>    if (root == null || root == undefined)</code></li>
<li class='green'><span class='hits'>122</span><code>        root = makeNode(data);</code></li>
<li class='green'><span class=''> </span><code>    else {</code></li>
<li class='green'><span class='hits'>350</span><code>        var dir = compare(data, root.data) == -1 ? "left" : "right";</code></li>
<li class='green'><span class='hits'>350</span><code>        root[dir] = insert(root[dir], data, done, compare);</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>350</span><code>        if (!done.done) {</code></li>
<li class='green'><span class=''> </span><code>            /* Update balance factors */</code></li>
<li class='green'><span class='hits'>255</span><code>            root.balance += dir == "left" ? -1 : 1;</code></li>
<li class='green'><span class=''> </span><code>            /* Rebalance as necessary and terminate */</code></li>
<li class='green'><span class='hits'>255</span><code>            if (root.balance == 0)</code></li>
<li class='green'><span class='hits'>21</span><code>                done.done = true;</code></li>
<li class='green'><span class='hits'>234</span><code>            else if (abs(root.balance) &gt; 1) {</code></li>
<li class='green'><span class='hits'>60</span><code>                root = insertAdjustBalance(root, dir);</code></li>
<li class='green'><span class='hits'>60</span><code>                done.done = true;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>472</span><code>    return root;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var remove = function(root, data, done, compare) {</code></li>
<li class='green'><span class='hits'>57</span><code>    var dir, cmp, save, b;</code></li>
<li class='green'><span class='hits'>57</span><code>    if (root) {</code></li>
<li class='green'><span class=''> </span><code>        //Remove node</code></li>
<li class='green'><span class='hits'>57</span><code>        cmp = compare(data, root.data);</code></li>
<li class='green'><span class='hits'>57</span><code>        if (cmp === 0) {</code></li>
<li class='green'><span class=''> </span><code>            // Unlink and fix parent</code></li>
<li class='green'><span class='hits'>26</span><code>            var l = root.left, r = root.right;</code></li>
<li class='green'><span class='hits'>26</span><code>            if (!l || !r) {</code></li>
<li class='green'><span class='hits'>18</span><code>                dir = !l ? "right" : "left";</code></li>
<li class='green'><span class='hits'>18</span><code>                save = root[dir];</code></li>
<li class='green'><span class='hits'>18</span><code>                return save;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>            else {</code></li>
<li class='green'><span class='hits'>8</span><code>                var heir = l, r;</code></li>
<li class='green'><span class='hits'>8</span><code>                while ((r = heir.right) != null) {</code></li>
<li class='green'><span class='hits'>3</span><code>                    heir = r;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>8</span><code>                root.data = heir.data;</code></li>
<li class='green'><span class=''> </span><code>                //reset and start searching</code></li>
<li class='green'><span class='hits'>8</span><code>                data = heir.data;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>39</span><code>        dir = compare(root.data, data) == -1 ? "right" : "left";</code></li>
<li class='green'><span class='hits'>39</span><code>        root[dir] = remove(root[dir], data, done, compare);</code></li>
<li class='green'><span class='hits'>39</span><code>        if (!done.done) {</code></li>
<li class='green'><span class=''> </span><code>            /* Update balance factors */</code></li>
<li class='green'><span class='hits'>24</span><code>            b = (root.balance += (dir == "left" ? 1 : -1));</code></li>
<li class='green'><span class=''> </span><code>            /* Terminate or rebalance as necessary */</code></li>
<li class='green'><span class='hits'>24</span><code>            var a = abs(b);</code></li>
<li class='green'><span class='hits'>24</span><code>            if (a === 1)</code></li>
<li class='green'><span class='hits'>10</span><code>                done.done = true;</code></li>
<li class='green'><span class='hits'>14</span><code>            else if (a &gt; 1)</code></li>
<li class='green'><span class='hits'>5</span><code>                root = removeAdjustBalance(root, dir, done);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>39</span><code>    return root;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> * @class &lt;p&gt;An AVL tree is a self-balancing binary search tree.</code></li>
<li class='green'><span class=''> </span><code> *    In an AVL tree, the heights of the two child subtrees of any node differ by at most one.</code></li>
<li class='green'><span class=''> </span><code> *    Lookup, insertion, and deletion all take O(log n) time in both the average and worst cases,</code></li>
<li class='green'><span class=''> </span><code> *    where n is the number of nodes in the tree prior to the operation.</code></li>
<li class='green'><span class=''> </span><code> *    Insertions and deletions may require the tree to be rebalanced by one or more tree rotations.&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;p&gt;AVL trees are more rigidly balanced than red-black trees, leading to slower insertion and removal but faster retrieval&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * &lt;b&gt;Performance&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;table&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Best&lt;/td&gt;&lt;td&gt;Worst&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Space&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Search&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Insert&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Delete&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;table&gt;</code></li>
<li class='green'><span class=''> </span><code> * @name AVLTree</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.collections.Tree</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = exports  = define(Tree, {</code></li>
<li class='green'><span class=''> </span><code>    instance : {</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.collections.AVLTree.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        insert : function(data) {</code></li>
<li class='green'><span class='hits'>122</span><code>            var done = {done : false};</code></li>
<li class='green'><span class='hits'>122</span><code>            this.__root = insert(this.__root, data, done, this.compare);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        remove : function(data) {</code></li>
<li class='green'><span class='hits'>18</span><code>            this.__root = remove(this.__root, data, {done : false}, this.compare);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __printNode : function(node, level) {</code></li>
<li class='green'><span class='hits'>37</span><code>            var str = [];</code></li>
<li class='green'><span class='hits'>37</span><code>            if (node == null) {</code></li>
<li class='green'><span class='hits'>19</span><code>                str.push(multiply('\t', level));</code></li>
<li class='green'><span class='hits'>19</span><code>                str.push("~");</code></li>
<li class='green'><span class='hits'>19</span><code>                console.log(str.join(""));</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>18</span><code>                this.__printNode(node.right, level + 1);</code></li>
<li class='green'><span class='hits'>18</span><code>                str.push(multiply('\t', level));</code></li>
<li class='green'><span class='hits'>18</span><code>                str.push(node.data + ":" + node.balance + "\n");</code></li>
<li class='green'><span class='hits'>18</span><code>                console.log(str.join(""));</code></li>
<li class='green'><span class='hits'>18</span><code>                this.__printNode(node.left, level + 1);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/AnderssonTree.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/AnderssonTree.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>165</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>76</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/AnderssonTree.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>    Tree = require("./Tree"),</code></li>
<li class='green'><span class=''> </span><code>    base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>    multiply = base.string.multiply;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var RED = "red", BLACK = "black";</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var nil = {level:0, data:null};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var makeNode = function (data, level) {</code></li>
<li class='green'><span class='hits'>122</span><code>    return {</code></li>
<li class='green'><span class=''> </span><code>        data:data,</code></li>
<li class='green'><span class=''> </span><code>        level:level,</code></li>
<li class='green'><span class=''> </span><code>        left:nil,</code></li>
<li class='green'><span class=''> </span><code>        right:nil</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var skew = function (root) {</code></li>
<li class='green'><span class='hits'>384</span><code>    if (root.level != 0 &amp;&amp; root.left.level == root.level) {</code></li>
<li class='green'><span class='hits'>66</span><code>        var save = root.left;</code></li>
<li class='green'><span class='hits'>66</span><code>        root.left = save.right;</code></li>
<li class='green'><span class='hits'>66</span><code>        save.right = root;</code></li>
<li class='green'><span class='hits'>66</span><code>        root = save;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>384</span><code>    return root;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var split = function (root) {</code></li>
<li class='green'><span class='hits'>384</span><code>    if (root.level != 0 &amp;&amp; root.right.right.level == root.level) {</code></li>
<li class='green'><span class='hits'>79</span><code>        var save = root.right;</code></li>
<li class='green'><span class='hits'>79</span><code>        root.right = save.left;</code></li>
<li class='green'><span class='hits'>79</span><code>        save.left = root;</code></li>
<li class='green'><span class='hits'>79</span><code>        root = save;</code></li>
<li class='green'><span class='hits'>79</span><code>        ++root.level;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>384</span><code>    return root;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var insert = function (root, data, compare) {</code></li>
<li class='green'><span class='hits'>492</span><code>    if (root == nil) {</code></li>
<li class='green'><span class='hits'>122</span><code>        root = makeNode(data, 1);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>    else {</code></li>
<li class='green'><span class='hits'>370</span><code>        var dir = compare(data, root.data) == -1 ? "left" : "right";</code></li>
<li class='green'><span class='hits'>370</span><code>        root[dir] = insert(root[dir], data, compare);</code></li>
<li class='green'><span class='hits'>370</span><code>        root = skew(root);</code></li>
<li class='green'><span class='hits'>370</span><code>        root = split(root);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>492</span><code>    return root;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var remove = function (root, data, compare) {</code></li>
<li class='green'><span class='hits'>59</span><code>    var rLeft, rRight;</code></li>
<li class='green'><span class='hits'>59</span><code>    if (root != nil) {</code></li>
<li class='green'><span class='hits'>59</span><code>        var cmp = compare(data, root.data);</code></li>
<li class='green'><span class='hits'>59</span><code>        if (cmp == 0) {</code></li>
<li class='green'><span class='hits'>26</span><code>            rLeft = root.left, rRight = root.right;</code></li>
<li class='green'><span class='hits'>26</span><code>            if (rLeft != nil &amp;&amp; rRight != nil) {</code></li>
<li class='green'><span class='hits'>8</span><code>                var heir = rLeft;</code></li>
<li class='green'><span class='hits'>8</span><code>                while (heir.right != nil)</code></li>
<li class='green'><span class='hits'>3</span><code>                    heir = heir.right;</code></li>
<li class='green'><span class='hits'>8</span><code>                root.data = heir.data;</code></li>
<li class='green'><span class='hits'>8</span><code>                root.left = remove(rLeft, heir.data, compare);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>18</span><code>                root = root[rLeft == nil ? "right" : "left"];</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>33</span><code>            var dir = cmp == -1 ? "left" : "right";</code></li>
<li class='green'><span class='hits'>33</span><code>            root[dir] = remove(root[dir], data, compare);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>59</span><code>    if (root != nil) {</code></li>
<li class='green'><span class='hits'>42</span><code>        var rLevel = root.level;</code></li>
<li class='green'><span class='hits'>42</span><code>        var rLeftLevel = root.left.level, rRightLevel = root.right.level;</code></li>
<li class='green'><span class='hits'>42</span><code>        if (rLeftLevel &lt; rLevel - 1 || rRightLevel &lt; rLevel - 1) {</code></li>
<li class='green'><span class='hits'>14</span><code>            if (rRightLevel &gt; --root.level)</code></li>
<li class='green'><span class='hits'>2</span><code>                root.right.level = root.level;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>14</span><code>            root = skew(root);</code></li>
<li class='green'><span class='hits'>14</span><code>            root = split(root);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>59</span><code>    return root;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> * @class &lt;p&gt;Andersson Trees are a version of a balanced Binary tree, while similar to RedBlack Trees the balancing is not as strict.&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * &lt;b&gt;Performance&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;table&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Best&lt;/td&gt;&lt;td&gt;Worst&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;space&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Search&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Insert&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Delete&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;table&gt;</code></li>
<li class='green'><span class=''> </span><code> * @name AnderssonTree</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.collections.Tree</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = exports = define(Tree, {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    instance:{</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.collections.AnderssonTree.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        isEmpty:function () {</code></li>
<li class='green'><span class='hits'>4</span><code>            return this.__root == nil || this._super(arguments);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        insert:function (data) {</code></li>
<li class='green'><span class='hits'>130</span><code>            if (this.__root == null) this.__root = nil;</code></li>
<li class='green'><span class='hits'>122</span><code>            this.__root = insert(this.__root, data, this.compare);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        remove:function (data) {</code></li>
<li class='green'><span class='hits'>18</span><code>            this.__root = remove(this.__root, data, this.compare);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        traverseWithCondition:function (node, order, callback) {</code></li>
<li class='green'><span class='hits'>614</span><code>            var cont = true;</code></li>
<li class='green'><span class='hits'>614</span><code>            if (node != nil) {</code></li>
<li class='green'><span class='hits'>317</span><code>                return this._super(arguments);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>297</span><code>            return cont;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        traverse:function (node, order, callback) {</code></li>
<li class='green'><span class='hits'>989</span><code>            if (node != nil) {</code></li>
<li class='green'><span class='hits'>482</span><code>                this._super(arguments);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        contains:function (value) {</code></li>
<li class='green'><span class='hits'>44</span><code>            if (this.__root != nil) {</code></li>
<li class='green'><span class='hits'>26</span><code>                return this._super(arguments);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>18</span><code>            return false;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __printNode:function (node, level) {</code></li>
<li class='green'><span class='hits'>37</span><code>            var str = [];</code></li>
<li class='green'><span class='hits'>37</span><code>            if (node.data == null || node == null) {</code></li>
<li class='green'><span class='hits'>19</span><code>                str.push(multiply('\t', level));</code></li>
<li class='green'><span class='hits'>19</span><code>                str.push("~");</code></li>
<li class='green'><span class='hits'>19</span><code>                console.log(str.join(""));</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>18</span><code>                this.__printNode(node.right, level + 1);</code></li>
<li class='green'><span class='hits'>18</span><code>                str.push(multiply('\t', level));</code></li>
<li class='green'><span class='hits'>18</span><code>                str.push(node.data + ":" + node.level + "\n");</code></li>
<li class='green'><span class='hits'>18</span><code>                console.log(str.join(""));</code></li>
<li class='green'><span class='hits'>18</span><code>                this.__printNode(node.left, level + 1);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/BinaryTree.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/BinaryTree.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>83</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>30</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/BinaryTree.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>        Tree = require("./Tree"),</code></li>
<li class='green'><span class=''> </span><code>        base = require("../base");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> * @class &lt;p&gt;A Search tree that maintains the following properties&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;li&gt;The left subtree of a node contains only nodes with keys less than the node's key.</code></li>
<li class='green'><span class=''> </span><code> *     &lt;li&gt;The right subtree of a node contains only nodes with keys greater than the node's key.</code></li>
<li class='green'><span class=''> </span><code> *     &lt;li&gt;Both the left and right subtrees must also be binary search trees.</code></li>
<li class='green'><span class=''> </span><code> * &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * &lt;b&gt;Performance&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;table&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Best&lt;/td&gt;&lt;td&gt;Worst&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Space&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Search&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Insert&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Delete&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;table&gt;</code></li>
<li class='green'><span class=''> </span><code> * @name BinaryTree</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.collections.Tree</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = exports = define(Tree, {</code></li>
<li class='green'><span class=''> </span><code>    instance : {</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.collections.BinaryTree.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        insert : function(data) {</code></li>
<li class='green'><span class='hits'>124</span><code>            if (this.__root == null) {</code></li>
<li class='green'><span class='hits'>9</span><code>                return (this.__root = {</code></li>
<li class='green'><span class=''> </span><code>                    data : data,</code></li>
<li class='green'><span class=''> </span><code>                    parent : null,</code></li>
<li class='green'><span class=''> </span><code>                    left : null,</code></li>
<li class='green'><span class=''> </span><code>                    right : null</code></li>
<li class='green'><span class=''> </span><code>                });</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>115</span><code>            var compare = this.compare;</code></li>
<li class='green'><span class='hits'>115</span><code>            var root = this.__root;</code></li>
<li class='green'><span class='hits'>115</span><code>            while (root != null) {</code></li>
<li class='green'><span class='hits'>505</span><code>                var cmp = compare(data, root.data);</code></li>
<li class='green'><span class='hits'>505</span><code>                if (cmp) {</code></li>
<li class='green'><span class='hits'>503</span><code>                    var leaf = (cmp == -1) ? "left" : "right";</code></li>
<li class='green'><span class='hits'>503</span><code>                    var next = root[leaf];</code></li>
<li class='green'><span class='hits'>503</span><code>                    if (next == null) {</code></li>
<li class='green'><span class='hits'>113</span><code>                        return (root[leaf] = {data : data, parent : root, left : null, right : null});</code></li>
<li class='green'><span class=''> </span><code>                    } else {</code></li>
<li class='green'><span class='hits'>390</span><code>                        root = next;</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>2</span><code>                    return;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        remove : function(data) {</code></li>
<li class='green'><span class='hits'>19</span><code>            if (this.__root != null) {</code></li>
<li class='green'><span class='hits'>19</span><code>                var head = {right : this.__root}, it = head;</code></li>
<li class='green'><span class='hits'>19</span><code>                var p, f = null;</code></li>
<li class='green'><span class='hits'>19</span><code>                var dir = "right";</code></li>
<li class='green'><span class='hits'>19</span><code>                while (it[dir] != null) {</code></li>
<li class='green'><span class='hits'>51</span><code>                    p = it;</code></li>
<li class='green'><span class='hits'>51</span><code>                    it = it[dir];</code></li>
<li class='green'><span class='hits'>51</span><code>                    var cmp = this.compare(data, it.data);</code></li>
<li class='green'><span class='hits'>51</span><code>                    if (!cmp) {</code></li>
<li class='green'><span class='hits'>18</span><code>                        f = it;</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class='hits'>51</span><code>                    dir = (cmp == -1 ? "left" : "right");</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>19</span><code>                if (f != null) {</code></li>
<li class='green'><span class='hits'>18</span><code>                    f.data = it.data;</code></li>
<li class='green'><span class='hits'>18</span><code>                    p[p.right == it ? "right" : "left"] = it[it.left == null ? "right" : "left"];</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>19</span><code>                this.__root = head.right;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/Collection.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/Collection.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>56</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>8</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/Collection.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>    base = require("../base");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> * @class Base class for all collections</code></li>
<li class='green'><span class=''> </span><code> * @name Collection</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>define(null, {</code></li>
<li class='green'><span class=''> </span><code>    instance:{</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.collections.Collection.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Concats two collections</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        concat:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Joins two collections</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        join:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Slice a portion from a collection</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        slice:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Convert a collection to a string</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        toString:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Find the index of an item in a collection</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        indexOf:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Find the last index of an item in a collection</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        lastIndexOf:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}).as(module);</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/HashTable.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/HashTable.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>378</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>126</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/HashTable.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>    Collection = require("./Collection"),</code></li>
<li class='green'><span class=''> </span><code>    Iterable = require("./Iterable"),</code></li>
<li class='green'><span class=''> </span><code>    base = require("../base");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var hashFunction = function (key) {</code></li>
<li class='green'><span class='hits'>100</span><code>    if (typeof key == "string") {</code></li>
<li class='green'><span class='hits'>26</span><code>        return key;</code></li>
<li class='green'><span class='hits'>74</span><code>    } else if (typeof key == "object") {</code></li>
<li class='green'><span class='hits'>44</span><code>        return  key.hashCode ? key.hashCode() : "" + key;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>30</span><code>        return "" + key;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var Bucket = define(null, {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    instance:{</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor:function () {</code></li>
<li class='green'><span class='hits'>32</span><code>            this.__entries = [];</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        pushValue:function (key, value) {</code></li>
<li class='green'><span class='hits'>36</span><code>            this.__entries.push({key:key, value:value});</code></li>
<li class='green'><span class='hits'>36</span><code>            return value;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        remove:function (key) {</code></li>
<li class='green'><span class='hits'>14</span><code>            var ret = null, map = this.__entries, val;</code></li>
<li class='green'><span class='hits'>14</span><code>            var i = map.length - 1;</code></li>
<li class='green'><span class='hits'>14</span><code>            for (; i &gt;= 0; i--) {</code></li>
<li class='green'><span class='hits'>16</span><code>                if ((val = map[i]) != null &amp;&amp; val.key === key) {</code></li>
<li class='green'><span class='hits'>12</span><code>                    map[i] = null;</code></li>
<li class='green'><span class='hits'>12</span><code>                    return val.value;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>2</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        "set":function (key, value) {</code></li>
<li class='green'><span class='hits'>14</span><code>            var ret = null, map = this.__entries;</code></li>
<li class='green'><span class='hits'>14</span><code>            var i = map.length - 1;</code></li>
<li class='green'><span class='hits'>14</span><code>            for (; i &gt;= 0; i--) {</code></li>
<li class='green'><span class='hits'>18</span><code>                var val = map[i];</code></li>
<li class='green'><span class='hits'>18</span><code>                if (val &amp;&amp; key === val.key) {</code></li>
<li class='green'><span class='hits'>6</span><code>                    val.value = value;</code></li>
<li class='green'><span class='hits'>6</span><code>                    ret = value;</code></li>
<li class='green'><span class='hits'>6</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>14</span><code>            if (!ret) {</code></li>
<li class='green'><span class='hits'>8</span><code>                map.push({key:key, value:value});</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>14</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        find:function (key) {</code></li>
<li class='green'><span class='hits'>34</span><code>            var ret = null, map = this.__entries, val;</code></li>
<li class='green'><span class='hits'>34</span><code>            var i = map.length - 1;</code></li>
<li class='green'><span class='hits'>34</span><code>            for (; i &gt;= 0; i--) {</code></li>
<li class='green'><span class='hits'>43</span><code>                val = map[i];</code></li>
<li class='green'><span class='hits'>43</span><code>                if (val &amp;&amp; key === val.key) {</code></li>
<li class='green'><span class='hits'>26</span><code>                    ret = val.value;</code></li>
<li class='green'><span class='hits'>26</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>34</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getEntrySet:function (arr) {</code></li>
<li class='green'><span class='hits'>78</span><code>            var map = this.__entries, l = map.length;</code></li>
<li class='green'><span class='hits'>78</span><code>            if (l) {</code></li>
<li class='green'><span class='hits'>78</span><code>                for (var i = 0; i &lt; l; i++) {</code></li>
<li class='green'><span class='hits'>88</span><code>                    var e = map[i];</code></li>
<li class='green'><span class='hits'>88</span><code>                    if (e) {</code></li>
<li class='green'><span class='hits'>80</span><code>                        arr.push(e);</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getKeys:function (arr) {</code></li>
<li class='green'><span class='hits'>21</span><code>            var map = this.__entries, l = map.length;</code></li>
<li class='green'><span class='hits'>21</span><code>            if (l) {</code></li>
<li class='green'><span class='hits'>21</span><code>                for (var i = 0; i &lt; l; i++) {</code></li>
<li class='green'><span class='hits'>24</span><code>                    var e = map[i];</code></li>
<li class='green'><span class='hits'>24</span><code>                    if (e) {</code></li>
<li class='green'><span class='hits'>8</span><code>                        arr.push(e.key);</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>21</span><code>            return arr;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getValues:function (arr) {</code></li>
<li class='green'><span class='hits'>14</span><code>            var map = this.__entries, l = map.length;</code></li>
<li class='green'><span class='hits'>14</span><code>            if (l) {</code></li>
<li class='green'><span class='hits'>14</span><code>                for (var i = 0; i &lt; l; i++) {</code></li>
<li class='green'><span class='hits'>16</span><code>                    var e = map[i];</code></li>
<li class='green'><span class='hits'>16</span><code>                    if (e) {</code></li>
<li class='green'><span class='hits'>8</span><code>                        arr.push(e.value);</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>14</span><code>            return arr;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> * @class &lt;p&gt;Implementation of a HashTable for javascript.</code></li>
<li class='green'><span class=''> </span><code> *    This HashTable implementation allows one to use anything as a key.</code></li>
<li class='green'><span class=''> </span><code> *    &lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;b&gt;NOTE: THIS IS ~ 3 times slower than javascript native objects&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * &lt;p&gt; A use case for this collection is when one needs to store items in which the key will not be a string, or number&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @name HashTable</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.collections.Collection</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @property {Array} keys all keys contained in the table</code></li>
<li class='green'><span class=''> </span><code> * @property {Array} values all values contained in the table</code></li>
<li class='green'><span class=''> </span><code> * @property {Array} entrySet an array of objects. Each object contains a key, and value property.</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>define([Collection, Iterable], {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    instance:{</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.collections.HashTable.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor:function () {</code></li>
<li class='green'><span class='hits'>13</span><code>            this.__map = {};</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __entrySet:function () {</code></li>
<li class='green'><span class='hits'>14</span><code>            var ret = [], es = [];</code></li>
<li class='green'><span class='hits'>14</span><code>            for (var i in this.__map) {</code></li>
<li class='green'><span class='hits'>78</span><code>                this.__map[i].getEntrySet(ret);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>14</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Put a key, value pair into the table</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * &lt;b&gt;NOTE :&lt;/b&gt; the collection will not check if the key previously existed.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Anything} key the key to look up the object.</code></li>
<li class='green'><span class=''> </span><code>         * @param {Anything} value the value that corresponds to the key.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns the value</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        put:function (key, value) {</code></li>
<li class='green'><span class='hits'>29</span><code>            var hash = hashFunction(key);</code></li>
<li class='green'><span class='hits'>29</span><code>            var bucket = null;</code></li>
<li class='green'><span class='hits'>29</span><code>            if ((bucket = this.__map[hash]) == null) {</code></li>
<li class='green'><span class='hits'>25</span><code>                bucket = (this.__map[hash] = new Bucket());</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>29</span><code>            bucket.pushValue(key, value);</code></li>
<li class='green'><span class='hits'>29</span><code>            return value;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Remove a key value pair from the table.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param key the key of the key value pair to remove.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns the removed value.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        remove:function (key) {</code></li>
<li class='green'><span class='hits'>16</span><code>            var hash = hashFunction(key), ret = null;</code></li>
<li class='green'><span class='hits'>16</span><code>            var bucket = this.__map[hash];</code></li>
<li class='green'><span class='hits'>16</span><code>            if (bucket) {</code></li>
<li class='green'><span class='hits'>14</span><code>                ret = bucket.remove(key);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>16</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Get the value corresponding to the key.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param key the key used to look up the value</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns null if not found, or the value.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        "get":function (key) {</code></li>
<li class='green'><span class='hits'>26</span><code>            var hash = hashFunction(key), ret = null;</code></li>
<li class='green'><span class='hits'>26</span><code>            var bucket = null;</code></li>
<li class='green'><span class='hits'>26</span><code>            if ((bucket = this.__map[hash]) != null) {</code></li>
<li class='green'><span class='hits'>26</span><code>                ret = bucket.find(key);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>26</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Set the value of a previously existing key,value pair or create a new entry.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param key the key to be be used</code></li>
<li class='green'><span class=''> </span><code>         * @param value the value to be set</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns the value.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        "set":function (key, value) {</code></li>
<li class='green'><span class='hits'>21</span><code>            var hash = hashFunction(key), ret = null, bucket = null, map = this.__map;</code></li>
<li class='green'><span class='hits'>21</span><code>            if ((bucket = map[hash]) != null) {</code></li>
<li class='green'><span class='hits'>14</span><code>                ret = bucket.set(key, value);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>7</span><code>                ret = (map[hash] = new Bucket()).pushValue(key, value);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>21</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Tests if the table contains a particular key</code></li>
<li class='green'><span class=''> </span><code>         * @param key the key to test</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns {Boolean} true if it exitsts false otherwise.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        contains:function (key) {</code></li>
<li class='green'><span class='hits'>8</span><code>            var hash = hashFunction(key), ret = false;</code></li>
<li class='green'><span class='hits'>8</span><code>            var bucket = null;</code></li>
<li class='green'><span class='hits'>8</span><code>            if ((bucket = this.__map[hash]) != null) {</code></li>
<li class='green'><span class='hits'>8</span><code>                ret = bucket.find(key) != null;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>8</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Returns a new HashTable containing the values of this HashTable, and the other table.</code></li>
<li class='green'><span class=''> </span><code>         * &lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code>         * &lt;b&gt; DOES NOT CHANGE THE ORIGINAL!&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code>         * @param {comb.collections.HashTable} hashTable the hash table to concat with this.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns {comb.collections.HashTable} a new HashTable containing all values from both tables.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        concat:function (hashTable) {</code></li>
<li class='green'><span class='hits'>2</span><code>            if (hashTable instanceof this._static) {</code></li>
<li class='green'><span class='hits'>1</span><code>                var ret = new this._static();</code></li>
<li class='green'><span class='hits'>1</span><code>                var otherEntrySet = hashTable.entrySet.concat(this.entrySet);</code></li>
<li class='green'><span class='hits'>1</span><code>                for (var i = otherEntrySet.length - 1; i &gt;= 0; i--) {</code></li>
<li class='green'><span class='hits'>4</span><code>                    var e = otherEntrySet[i];</code></li>
<li class='green'><span class='hits'>4</span><code>                    ret.put(e.key, e.value);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>1</span><code>                return ret;</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                throw new TypeError("When joining hashtables the joining arg must be a HashTable");</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Creates a new HashTable containg values that passed the filtering function.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} cb Function to callback with each item, the first aruguments is an object containing a key and value field</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} scope the scope to call the function.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns {comb.collections.HashTable} the HashTable containing the values that passed the filter.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        filter:function (cb, scope) {</code></li>
<li class='green'><span class='hits'>1</span><code>            var es = this.__entrySet(), ret = new this._static();</code></li>
<li class='green'><span class='hits'>1</span><code>            es = es.filter.apply(es, arguments);</code></li>
<li class='green'><span class='hits'>1</span><code>            for (var i = es.length - 1; i &gt;= 0; i--) {</code></li>
<li class='green'><span class='hits'>4</span><code>                var e = es[i];</code></li>
<li class='green'><span class='hits'>4</span><code>                ret.put(e.key, e.value);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>1</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         *  Loop through each value in the hashtable</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *  @param {Function} cb the function to call with an object containing a key and value field</code></li>
<li class='green'><span class=''> </span><code>         *  @param {Object} scope the scope to call the funciton in</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        forEach:function (cb, scope) {</code></li>
<li class='green'><span class='hits'>1</span><code>            var es = this.__entrySet(), l = es.length, f = cb.bind(scope || this);</code></li>
<li class='green'><span class='hits'>1</span><code>            es.forEach.apply(es, arguments);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Determines if every item meets the condition returned by the callback.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} cb Function to callback with each item, the first aruguments is an object containing a key and value field</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} [scope=this] scope to call the function in</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns {Boolean} True if every item passed false otherwise</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        every:function () {</code></li>
<li class='green'><span class='hits'>2</span><code>            var es = this.__entrySet();</code></li>
<li class='green'><span class='hits'>2</span><code>            return es.every.apply(es, arguments);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Loop through each value in the hashtable, collecting the value returned by the callback function.</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} cb Function to callback with each item, the first aruguments is an object containing a key and value field</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} [scope=this] scope to call the function in</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns {Array} an array containing the mapped values.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        map:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            var es = this.__entrySet(), ret = new this._static();</code></li>
<li class='green'><span class='hits'>1</span><code>            return es.map.apply(es, arguments);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Determines if some items meet the condition returned by the callback.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} cb Function to callback with each item, the first aruguments is an object containing a key and value field</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} [scope=this] scope to call the function in</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns {Boolean} True if some items passed false otherwise</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        some:function () {</code></li>
<li class='green'><span class='hits'>2</span><code>            var es = this.__entrySet();</code></li>
<li class='green'><span class='hits'>2</span><code>            return es.some.apply(es, arguments);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Apply a function against an accumulator and each value of the array (from left-to-right) as to reduce it to a single value.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} callback Function to execute on each value in the array.</code></li>
<li class='green'><span class=''> </span><code>         * @param initialValue Value to use as the first argument to the first call of the callback..</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        reduce:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            var es = this.__entrySet();</code></li>
<li class='green'><span class='hits'>1</span><code>            return es.reduce.apply(es, arguments);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Apply a function against an accumulator and each value of the array (from right-to-left) as to reduce it to a single value.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} callback Function to execute on each value in the array.</code></li>
<li class='green'><span class=''> </span><code>         * @param initialValue Value to use as the first argument to the first call of the callback..</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        reduceRight:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            var es = this.__entrySet();</code></li>
<li class='green'><span class='hits'>1</span><code>            return es.reduceRight.apply(es, arguments);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Clears out all items from the table.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        clear:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            this.__map = {};</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getters:{</code></li>
<li class='green'><span class=''> </span><code>            keys:function () {</code></li>
<li class='green'><span class='hits'>8</span><code>                var ret = [], es = [];</code></li>
<li class='green'><span class='hits'>8</span><code>                for (var i in this.__map) {</code></li>
<li class='green'><span class='hits'>21</span><code>                    this.__map[i].getKeys(ret);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>8</span><code>                return ret;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            values:function () {</code></li>
<li class='green'><span class='hits'>6</span><code>                var ret = [], es = [];</code></li>
<li class='green'><span class='hits'>6</span><code>                for (var i in this.__map) {</code></li>
<li class='green'><span class='hits'>14</span><code>                    this.__map[i].getValues(ret);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>6</span><code>                return ret;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            entrySet:function () {</code></li>
<li class='green'><span class='hits'>5</span><code>                return this.__entrySet();</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            isEmpty:function () {</code></li>
<li class='green'><span class='hits'>2</span><code>                return this.keys.length == 0;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>}).as(module);</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/Heap.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/Heap.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>218</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>62</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/Heap.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>        Collection = require("./Collection"),</code></li>
<li class='green'><span class=''> </span><code>        base = require("../base");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var padding = function(char, numSpaces) {</code></li>
<li class='green'><span class='hits'>9</span><code>    var ret = [];</code></li>
<li class='green'><span class='hits'>9</span><code>    for (var i = 0; i &lt; numSpaces; i++)</code></li>
<li class='green'><span class='hits'>16</span><code>        ret.push(char);</code></li>
<li class='green'><span class='hits'>9</span><code>    return ret.join("");</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = exports = define(Collection, {</code></li>
<li class='green'><span class=''> </span><code>    instance : {</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.collections.Heap.prototype*/</code></li>
<li class='green'><span class=''> </span><code>        __getParentIndex : function(index) {</code></li>
<li class='green'><span class='hits'>192</span><code>            return Math.floor((index - 1) / 2);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __getLeftChildIndex : function(index) {</code></li>
<li class='green'><span class='hits'>28</span><code>            return (index * 2) + 1;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __getRightChildIndex : function(index) {</code></li>
<li class='green'><span class='hits'>28</span><code>            return (index * 2) + 2;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __makeNode : function(key, value) {</code></li>
<li class='green'><span class='hits'>137</span><code>            return {key : key, value : value};</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Base class for Heap Implementations.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @constructs</code></li>
<li class='green'><span class=''> </span><code>         * @augments comb.collections.Collection</code></li>
<li class='green'><span class=''> </span><code>         * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @property {Number} count the current number of elements.</code></li>
<li class='green'><span class=''> </span><code>         * @property {Array} keys the keys of all items in the heap.</code></li>
<li class='green'><span class=''> </span><code>         * @property {Array} values the values contained in the heap.</code></li>
<li class='green'><span class=''> </span><code>         * @property {Boolean} isEmpty true if the Heap is empty.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        constructor : function() {</code></li>
<li class='green'><span class='hits'>32</span><code>            this.__heap = [];</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Insert a key value into the key</code></li>
<li class='green'><span class=''> </span><code>         * @param key</code></li>
<li class='green'><span class=''> </span><code>         * @param value</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        insert : function(key, value) {</code></li>
<li class='green'><span class='hits'>138</span><code>            if (!base.isString(key)) {</code></li>
<li class='green'><span class='hits'>137</span><code>                var l = this.__heap.push(this.__makeNode(key, value));</code></li>
<li class='green'><span class='hits'>137</span><code>                this.__upHeap(l - 1);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                throw TypeError("Invalid key");</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Removes the root from the heap</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns the value of the root</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        remove : function() {</code></li>
<li class='green'><span class='hits'>48</span><code>            var ret = undefined, heap = this.__heap, l = heap.length;</code></li>
<li class='green'><span class='hits'>48</span><code>            if (l) {</code></li>
<li class='green'><span class='hits'>48</span><code>                ret = heap[0];</code></li>
<li class='green'><span class='hits'>48</span><code>                if (l == 1) {</code></li>
<li class='green'><span class='hits'>12</span><code>                    heap.length = 0;</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>36</span><code>                    heap[0] = heap.pop();</code></li>
<li class='green'><span class='hits'>36</span><code>                    this.__downHeap(0);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>48</span><code>            return ret ? ret.value : ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Gets he value of the root node with out removing it.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns the value of the root</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        peek : function() {</code></li>
<li class='green'><span class='hits'>33</span><code>            var ret = undefined, heap = this.__heap, l = heap.length;</code></li>
<li class='green'><span class='hits'>33</span><code>            if (l) {</code></li>
<li class='green'><span class='hits'>30</span><code>                ret = heap[0];</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>33</span><code>            return ret ? ret.value : ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Gets the key of the root node without removing it.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns the key of the root</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        peekKey : function() {</code></li>
<li class='green'><span class='hits'>6</span><code>            var ret = undefined, heap = this.__heap, l = heap.length;</code></li>
<li class='green'><span class='hits'>6</span><code>            if (l) {</code></li>
<li class='green'><span class='hits'>4</span><code>                ret = heap[0];</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>6</span><code>            return ret ? ret.key : ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Perform the heapify operation after the an</code></li>
<li class='green'><span class=''> </span><code>         * item as been added to the bottom of the heap.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param index the index in which the new item was added</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        __upHeap : function(index) {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw Error("NOT IMPLEMENTED");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Heapify the heap after the root has been removed</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param index the index of the root</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        __downHeap : function(index) {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw Error("NOT IMPLEMENTED");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * Determine if the heap contains a particular key.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param key key to test.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns {Boolean} true if the key is contained in this heap.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        containsKey : function(key) {</code></li>
<li class='green'><span class='hits'>15</span><code>            var heap = this.__heap;</code></li>
<li class='green'><span class='hits'>15</span><code>            for (var i = heap.length - 1; i &gt;= 0; i--) {</code></li>
<li class='green'><span class='hits'>42</span><code>                if (heap[i].key == key) {</code></li>
<li class='green'><span class='hits'>12</span><code>                    return true;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>3</span><code>            return false;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * Determine if the heap contains a particular value.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param value value to test.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns {Boolean} true if the value is contained in this heap.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        containsValue : function(value) {</code></li>
<li class='green'><span class='hits'>15</span><code>            var heap = this.__heap;</code></li>
<li class='green'><span class='hits'>15</span><code>            for (var i = heap.length - 1; i &gt;= 0; i--) {</code></li>
<li class='green'><span class='hits'>42</span><code>                if (heap[i].value == value) {</code></li>
<li class='green'><span class='hits'>12</span><code>                    return true;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>3</span><code>            return false;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Empty the heap.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        clear : function() {</code></li>
<li class='green'><span class='hits'>9</span><code>            this.__heap.length = 0;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __printNode : function(index, level) {</code></li>
<li class='green'><span class=''> </span><code>            //console.log(level);</code></li>
<li class='green'><span class='hits'>9</span><code>            var str = [], node = this.__heap[index];</code></li>
<li class='green'><span class='hits'>9</span><code>            if (node == null || node == undefined) {</code></li>
<li class='green'><span class='hits'>5</span><code>                str.push(padding('\t', level));</code></li>
<li class='green'><span class='hits'>5</span><code>                str.push("~");</code></li>
<li class='green'><span class='hits'>5</span><code>                console.log(str.join(""));</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>4</span><code>                this.__printNode(this.__getRightChildIndex(index), level + 1);</code></li>
<li class='green'><span class='hits'>4</span><code>                str.push(padding('\t', level));</code></li>
<li class='green'><span class='hits'>4</span><code>                str.push(node.key + " : " + node.value + "\n");</code></li>
<li class='green'><span class='hits'>4</span><code>                console.log(str.join(""));</code></li>
<li class='green'><span class='hits'>4</span><code>                this.__printNode(this.__getLeftChildIndex(index), level + 1);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Print the heap.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        print : function() {</code></li>
<li class='green'><span class='hits'>1</span><code>            this.__printNode(0, 0);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getters : {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            count : function() {</code></li>
<li class='green'><span class='hits'>12</span><code>                return this.__heap.length;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            keys : function() {</code></li>
<li class='green'><span class='hits'>3</span><code>                return this.__heap.map(function(n) {</code></li>
<li class='green'><span class='hits'>12</span><code>                    return n.key;</code></li>
<li class='green'><span class=''> </span><code>                });</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            values : function() {</code></li>
<li class='green'><span class='hits'>3</span><code>                return this.__heap.map(function(n) {</code></li>
<li class='green'><span class='hits'>12</span><code>                    return n.value;</code></li>
<li class='green'><span class=''> </span><code>                });</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            isEmpty : function() {</code></li>
<li class='green'><span class='hits'>18</span><code>                return this.__heap.length == 0;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/Iterable.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/Iterable.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>63</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>9</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/Iterable.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>    base = require("../base");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> * @class Base class for all collections</code></li>
<li class='green'><span class=''> </span><code> * @name Iterable</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>define(null, {</code></li>
<li class='green'><span class=''> </span><code>    instance:{</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.collections.Iterable.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Filter items from a collection</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        filter:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Loop through the items in a collection</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        forEach:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Determine if every item in a collection meets the criteria</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        every:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Map every item in a collection</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        map:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Determing if some items in a colleciton meet the criteria</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        some:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Reduce a collection</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        reduce:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Reduce a collection starting from the right most position</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        reduceRight:function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}).as(module);</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/MaxHeap.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/MaxHeap.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>66</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>25</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/MaxHeap.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>        Heap = require("./Heap"),</code></li>
<li class='green'><span class=''> </span><code>        base = require("../base");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @class &lt;p&gt; Max Heap implementation, lowest value in heap is always at the root.&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;b&gt;Performance&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;table&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Best&lt;/td&gt;&lt;td&gt;Worst&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Insert&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Remove&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Peek&lt;/td&gt;&lt;td&gt;O(1)&lt;/td&gt;&lt;td&gt;O(1)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Contains&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;table&gt;</code></li>
<li class='green'><span class=''> </span><code> * @name MaxHeap</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.collections.Heap</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>exports = module.exports = define(Heap, {</code></li>
<li class='green'><span class=''> </span><code>    instance : {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __upHeap : function(index) {</code></li>
<li class='green'><span class='hits'>48</span><code>            var heap = this.__heap;</code></li>
<li class='green'><span class='hits'>48</span><code>            var node = heap[index];</code></li>
<li class='green'><span class='hits'>48</span><code>            while (index &gt;= 0) {</code></li>
<li class='green'><span class='hits'>84</span><code>                var parentIndex = this.__getParentIndex(index), parent = heap[parentIndex];</code></li>
<li class='green'><span class='hits'>84</span><code>                if (parent &amp;&amp; parent.key &lt; node.key) {</code></li>
<li class='green'><span class='hits'>36</span><code>                    heap[index] = parent;</code></li>
<li class='green'><span class='hits'>36</span><code>                    index = parentIndex;</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>48</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>48</span><code>            heap[index] = node;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __downHeap : function(index) {</code></li>
<li class='green'><span class='hits'>12</span><code>            var heap = this.__heap;</code></li>
<li class='green'><span class='hits'>12</span><code>            var node = heap[index], length = heap.length;</code></li>
<li class='green'><span class='hits'>12</span><code>            while (index &lt; Math.floor(length / 2)) {</code></li>
<li class='green'><span class='hits'>8</span><code>                var leftIndex = this.__getLeftChildIndex(index),</code></li>
<li class='green'><span class=''> </span><code>                        rightIndex = this.__getRightChildIndex(index), left = heap[leftIndex], right = heap[rightIndex], child, childIndex;</code></li>
<li class='green'><span class='hits'>8</span><code>                if (rightIndex &lt; length &amp;&amp; right.key &lt; left.key) {</code></li>
<li class='green'><span class='hits'>4</span><code>                    childIndex = leftIndex;</code></li>
<li class='green'><span class='hits'>4</span><code>                    child = left</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>4</span><code>                    childIndex = leftIndex;</code></li>
<li class='green'><span class='hits'>4</span><code>                    child = heap[leftIndex];</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>8</span><code>                if(child.key &gt; node.key){</code></li>
<li class='green'><span class='hits'>5</span><code>                    heap[index] = child;</code></li>
<li class='green'><span class='hits'>5</span><code>                    index = childIndex;</code></li>
<li class='green'><span class=''> </span><code>                }else{</code></li>
<li class='green'><span class='hits'>3</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>12</span><code>            heap[index] = node;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/MinHeap.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/MinHeap.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>65</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>26</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/MinHeap.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>        Heap = require("./Heap"),</code></li>
<li class='green'><span class=''> </span><code>        base = require("../base");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var floor = Math.floor, MinHeap;</code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class &lt;p&gt; Min Heap implementation, lowest value in heap is always at the root.&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;b&gt;Performance&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;table&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Best&lt;/td&gt;&lt;td&gt;Worst&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Insert&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Remove&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Peek&lt;/td&gt;&lt;td&gt;O(1)&lt;/td&gt;&lt;td&gt;O(1)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Contains&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;table&gt;</code></li>
<li class='green'><span class=''> </span><code> * @name MinHeap</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.collections.Heap</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = exports = define(Heap, {</code></li>
<li class='green'><span class=''> </span><code>    instance : {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __upHeap : function(index) {</code></li>
<li class='green'><span class='hits'>88</span><code>            var heap = this.__heap;</code></li>
<li class='green'><span class='hits'>88</span><code>            var node = heap[index], key = node.key, gpi = this.__getParentIndex;</code></li>
<li class='green'><span class='hits'>88</span><code>            while (index &gt;= 0) {</code></li>
<li class='green'><span class='hits'>108</span><code>                var parentIndex = gpi(index), parent = heap[parentIndex];</code></li>
<li class='green'><span class='hits'>108</span><code>                if (parent &amp;&amp; parent.key &gt; key) {</code></li>
<li class='green'><span class='hits'>20</span><code>                    heap[index] = parent;</code></li>
<li class='green'><span class='hits'>20</span><code>                    index = parentIndex;</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>88</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>88</span><code>            heap[index] = node;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __downHeap : function(index) {</code></li>
<li class='green'><span class='hits'>24</span><code>            var heap = this.__heap;</code></li>
<li class='green'><span class='hits'>24</span><code>            var node = heap[index], key = node.key, length = heap.length, max = floor(length / 2), glci = this.__getLeftChildIndex, grci = this.__getRightChildIndex;</code></li>
<li class='green'><span class='hits'>24</span><code>            while (index &lt; max) {</code></li>
<li class='green'><span class='hits'>16</span><code>                var leftIndex = glci(index),</code></li>
<li class='green'><span class=''> </span><code>                        rightIndex = grci(index), left = heap[leftIndex], right = heap[rightIndex], child, childIndex;</code></li>
<li class='green'><span class='hits'>16</span><code>                if (rightIndex &lt; length &amp;&amp; right.key &lt; left.key) {</code></li>
<li class='green'><span class='hits'>2</span><code>                    childIndex = rightIndex;</code></li>
<li class='green'><span class='hits'>2</span><code>                    child = right;</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>14</span><code>                    childIndex = leftIndex;</code></li>
<li class='green'><span class='hits'>14</span><code>                    child = left;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>16</span><code>                if (child.key &lt; key) {</code></li>
<li class='green'><span class='hits'>10</span><code>                    heap[index] = child;</code></li>
<li class='green'><span class='hits'>10</span><code>                    index = childIndex;</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>6</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>24</span><code>            heap[index] = node;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/Pool.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/Pool.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>161</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>50</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/Pool.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>    Collection = require("./Collection"),</code></li>
<li class='green'><span class=''> </span><code>    Queue = require("./Queue"),</code></li>
<li class='green'><span class=''> </span><code>    base = require("../base");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class Base class for a pool.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @name Pool</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @property {Number} count the total number of objects in the pool, including free and in use objects.</code></li>
<li class='green'><span class=''> </span><code> * @property {Number} freeCount the number of free objects in this pool.</code></li>
<li class='green'><span class=''> </span><code> * @property {Number} inUseCount the number of objects in use in this pool.</code></li>
<li class='green'><span class=''> </span><code> * @property {Number} [minObjects=0] the minimum number of objects this pool should contain.</code></li>
<li class='green'><span class=''> </span><code> * @property {Number} [maxObjects=1] the maximum number of objects this pool should contain</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>exports = module.exports = define(null, {</code></li>
<li class='green'><span class=''> </span><code>    instance: {</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.collections.Pool.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __minObjects: 0,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __maxObjects: 1,</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor: function (options) {</code></li>
<li class='green'><span class='hits'>5</span><code>            options = options || {};</code></li>
<li class='green'><span class='hits'>5</span><code>            this.__freeObjects = new Queue();</code></li>
<li class='green'><span class='hits'>5</span><code>            this.__inUseObjects = [];</code></li>
<li class='green'><span class='hits'>5</span><code>            this.__minObjects = options.minObjects || 0;</code></li>
<li class='green'><span class='hits'>5</span><code>            this.__maxObjects = options.maxObjects || 1;</code></li>
<li class='green'><span class='hits'>5</span><code>            this.minObjects = this.__minObjects;</code></li>
<li class='green'><span class='hits'>4</span><code>            this.maxObjects = this.__maxObjects;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Retrieves an object from this pool.</code></li>
<li class='green'><span class=''> </span><code>         * `</code></li>
<li class='green'><span class=''> </span><code>         * @return {*} an object to contained in this pool</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        getObject: function () {</code></li>
<li class='green'><span class='hits'>19</span><code>            var ret = undefined;</code></li>
<li class='green'><span class='hits'>19</span><code>            if (this.count &lt;= this.__maxObjects &amp;&amp; this.freeCount &gt; 0) {</code></li>
<li class='green'><span class='hits'>2</span><code>                ret = this.__freeObjects.dequeue();</code></li>
<li class='green'><span class='hits'>2</span><code>                this.__inUseObjects.push(ret);</code></li>
<li class='green'><span class='hits'>17</span><code>            } else if (this.count &lt; this.__maxObjects) {</code></li>
<li class='green'><span class='hits'>12</span><code>                ret = this.createObject();</code></li>
<li class='green'><span class='hits'>12</span><code>                this.__inUseObjects.push(ret);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>19</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Returns an object to this pool. The object is validated before it is returned to the pool,</code></li>
<li class='green'><span class=''> </span><code>         * if the validation fails then it is removed from the pool;</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} obj the object to return to the pool</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        returnObject: function (obj) {</code></li>
<li class='green'><span class='hits'>8</span><code>            var index;</code></li>
<li class='green'><span class='hits'>8</span><code>            if (this.validate(obj) &amp;&amp; this.count &lt;= this.__maxObjects &amp;&amp; (index = this.__inUseObjects.indexOf(obj)) &gt; -1) {</code></li>
<li class='green'><span class='hits'>7</span><code>                this.__freeObjects.enqueue(obj);</code></li>
<li class='green'><span class='hits'>7</span><code>                this.__inUseObjects.splice(index, 1);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                this.removeObject(obj);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Removes an object from the pool, this can be overriden to provide any</code></li>
<li class='green'><span class=''> </span><code>         * teardown of objects that needs to take place.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} obj the object that needs to be removed.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {*} the object removed.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        removeObject: function (obj) {</code></li>
<li class='green'><span class='hits'>2</span><code>            var index;</code></li>
<li class='green'><span class='hits'>2</span><code>            if (this.__freeObjects.contains(obj)) {</code></li>
<li class='green'><span class='hits'>1</span><code>                this.__freeObjects.remove(obj);</code></li>
<li class='green'><span class='hits'>1</span><code>            } else if ((index = this.__inUseObjects.indexOf(obj)) &gt; -1) {</code></li>
<li class='green'><span class='hits'>1</span><code>                this.__inUseObjects.splice(index, 1);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>            //otherwise its not contained in this pool;</code></li>
<li class='green'><span class='hits'>2</span><code>            return obj;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Validates an object in this pool.</code></li>
<li class='green'><span class=''> </span><code>         * &lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code>         * &lt;b&gt;THIS SHOULD BE OVERRIDDEN TO VALIDATE&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} obj the object to validate.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        validate: function (obj) {</code></li>
<li class='green'><span class='hits'>8</span><code>            return true;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Creates a new object for this pool.</code></li>
<li class='green'><span class=''> </span><code>         * * &lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code>         * &lt;b&gt;THIS SHOULD BE OVERRIDDEN TO ADD THE CORRECT TYPE OF OBJECT&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {Object} be default just creates an object.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        createObject: function () {</code></li>
<li class='green'><span class='hits'>16</span><code>            return {};</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        setters: {</code></li>
<li class='green'><span class=''> </span><code>            minObjects: function (l) {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>6</span><code>                if (l &lt;= this.__maxObjects) {</code></li>
<li class='green'><span class='hits'>5</span><code>                    this.__minObjects = l;</code></li>
<li class='green'><span class='hits'>5</span><code>                    var i;</code></li>
<li class='green'><span class='hits'>5</span><code>                    if ((i = this.count) &lt; l) {</code></li>
<li class='green'><span class='hits'>1</span><code>                        while (i++ &lt; l) {</code></li>
<li class='green'><span class='hits'>4</span><code>                            this.__freeObjects.enqueue(this.createObject());</code></li>
<li class='green'><span class=''> </span><code>                        }</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                    throw "comb.collections.Pool : minObjects cannot be greater than maxObjects.";</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code>            maxObjects: function (l) {</code></li>
<li class='green'><span class='hits'>9</span><code>                if (l &gt;= this.__minObjects) {</code></li>
<li class='green'><span class='hits'>8</span><code>                    this.__maxObjects = l;</code></li>
<li class='green'><span class='hits'>8</span><code>                    var i = this.count, j = this.freeCount, fo = this.__freeObjects;</code></li>
<li class='green'><span class='hits'>8</span><code>                    while (i &gt; l &amp;&amp; j &gt;= 0) {</code></li>
<li class='green'><span class='hits'>1</span><code>                        this.removeObject(fo.dequeue());</code></li>
<li class='green'><span class='hits'>1</span><code>                        j--;</code></li>
<li class='green'><span class='hits'>1</span><code>                        i--;</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                    throw "comb.collections.Pool : maxObjects cannot be less than maxObjects.";</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getters: {</code></li>
<li class='green'><span class=''> </span><code>            freeCount: function () {</code></li>
<li class='green'><span class='hits'>41</span><code>                return this.__freeObjects.count;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code>            inUseCount: function () {</code></li>
<li class='green'><span class='hits'>14</span><code>                return this.__inUseObjects.length;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code>            count: function () {</code></li>
<li class='green'><span class='hits'>71</span><code>                return  this.__freeObjects.count + this.__inUseObjects.length;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            minObjects: function () {</code></li>
<li class='green'><span class='hits'>2</span><code>                return this.__minObjects;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code>            maxObjects: function () {</code></li>
<li class='green'><span class='hits'>1</span><code>                return this.__maxObjects;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/PriorityQueue.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/PriorityQueue.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>41</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>6</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/PriorityQueue.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>        MinHeap = require("./MinHeap"),</code></li>
<li class='green'><span class=''> </span><code>        base = require("../base");</code></li>
<li class='green'><span class='hits'>1</span><code>var PriorityQueue;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class PriorityQueue Implementation where the value with the highest priority moves to the front</code></li>
<li class='green'><span class=''> </span><code> *        Priority starts at 0, and the greatest value being the lowest priority;</code></li>
<li class='green'><span class=''> </span><code> * @name PriorityQueue</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.collections.MinHeap</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>PriorityQueue = define(MinHeap, {</code></li>
<li class='green'><span class=''> </span><code>    instance : {</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.collections.PriorityQueue.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Adds the value with the specified priority to the queue</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Number} priority the priority of the item</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;/br&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;b&gt;0 = Highest, n = lowest&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code>         * @param value</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        enqueue : function(priority, value) {</code></li>
<li class='green'><span class='hits'>44</span><code>            return this.insert(priority, value);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Removes the item with the highest priority from the queue</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns the value of the item</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        dequeue : function() {</code></li>
<li class='green'><span class='hits'>16</span><code>            return this.remove();</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = exports = PriorityQueue;</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/Queue.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/Queue.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>119</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>32</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/Queue.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>        Collection = require("./Collection"),</code></li>
<li class='green'><span class=''> </span><code>        base = require("../base");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class &lt;p&gt;FIFO Data structure&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> * @name Queue</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.collections.Collection</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @property {Number} count the current number of elements in this queue</code></li>
<li class='green'><span class=''> </span><code> * @property {Boolean} isEmpty true if this queue is empty</code></li>
<li class='green'><span class=''> </span><code> * @property {Array} values a copy of the values contained in this queue</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = exports = define(Collection, {</code></li>
<li class='green'><span class=''> </span><code>    instance : {</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.collections.Queue.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor : function() {</code></li>
<li class='green'><span class='hits'>6</span><code>            this.__queue = [];</code></li>
<li class='green'><span class='hits'>6</span><code>            this.__next = 0;</code></li>
<li class='green'><span class='hits'>6</span><code>            this.__last = 0;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Add data to this queue</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} data element to add</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        enqueue : function(data) {</code></li>
<li class='green'><span class='hits'>27</span><code>            this.__queue[this.__last++] = data;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Removes first item from the head of the queue</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {*} The element removed from this queue. Returns undefined if the queue is empty.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        dequeue : function() {</code></li>
<li class='green'><span class='hits'>7</span><code>            var ret = undefined,next = this.__next, queue;</code></li>
<li class='green'><span class='hits'>7</span><code>            if (next != this.__last) {</code></li>
<li class='green'><span class='hits'>5</span><code>                queue = this.__queue;</code></li>
<li class='green'><span class='hits'>5</span><code>                ret = queue[next];</code></li>
<li class='green'><span class='hits'>5</span><code>                queue[this.__next++] = undefined;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>7</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Retrieves the item at the head of the queue without removing it</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {*} The element at the head of the queue. Returns undefined if the queue is empty.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        peek : function() {</code></li>
<li class='green'><span class='hits'>1</span><code>            var ret = undefined, next = this.__next;</code></li>
<li class='green'><span class='hits'>1</span><code>            if (next != this.__last) {</code></li>
<li class='green'><span class='hits'>1</span><code>                ret = this.__queue[next];</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>1</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Removes all items from this queue</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        clear : function() {</code></li>
<li class='green'><span class='hits'>1</span><code>            this.__queue.length = 0;</code></li>
<li class='green'><span class='hits'>1</span><code>            this.__next = 0;</code></li>
<li class='green'><span class='hits'>1</span><code>            this.__last = 0;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Determine if this queue contains the element</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} obj the object to find</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {Boolean} true if this queue contains the element</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        contains : function(obj) {</code></li>
<li class='green'><span class='hits'>5</span><code>            return this.__queue.indexOf(obj) != -1;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Removes an element from this queue.</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} obj the data to remove.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {Boolean} true if the element was removed, false otherwise.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        remove : function(obj) {</code></li>
<li class='green'><span class='hits'>8</span><code>            var index = this.__queue.indexOf(obj), ret = false;</code></li>
<li class='green'><span class='hits'>8</span><code>            if (index != -1) {</code></li>
<li class='green'><span class='hits'>8</span><code>                if (index == this.__next) {</code></li>
<li class='green'><span class='hits'>1</span><code>                    this.dequeue();</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>7</span><code>                    this.__queue.splice(index, 1);</code></li>
<li class='green'><span class='hits'>7</span><code>                    this.__last--;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>8</span><code>                ret = true;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>8</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        toString : function(){</code></li>
<li class='green'><span class='hits'>3</span><code>            return this.__queue.toString();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getters : {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            count : function() {</code></li>
<li class='green'><span class='hits'>114</span><code>                return this.__last - this.__next;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            isEmpty : function() {</code></li>
<li class='green'><span class='hits'>5</span><code>                return this.__last - this.__next == 0;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            values : function() {</code></li>
<li class='green'><span class='hits'>1</span><code>                return this.__queue.slice(this.__next, this.__last);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/RedBlackTree.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/RedBlackTree.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>188</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>101</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/RedBlackTree.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>        Tree = require("./Tree"),</code></li>
<li class='green'><span class=''> </span><code>        base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>        multiply = base.string.multiply;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var RED = "red", BLACK = "black";</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var isRed = function(node) {</code></li>
<li class='green'><span class='hits'>1156</span><code>    return node != null &amp;&amp; node.red;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var makeNode = function(data, parent) {</code></li>
<li class='green'><span class='hits'>122</span><code>    return {</code></li>
<li class='green'><span class=''> </span><code>        data : data,</code></li>
<li class='green'><span class=''> </span><code>        red : true,</code></li>
<li class='green'><span class=''> </span><code>        left : null,</code></li>
<li class='green'><span class=''> </span><code>        right : null</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var insert = function(root, data, compare) {</code></li>
<li class='green'><span class='hits'>503</span><code>    if (root == null) {</code></li>
<li class='green'><span class='hits'>122</span><code>        return makeNode(data, null);</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>381</span><code>        var cmp = compare(data, root.data);</code></li>
<li class='green'><span class='hits'>381</span><code>        if (cmp) {</code></li>
<li class='green'><span class='hits'>381</span><code>            var dir = cmp == -1 ? "left" : "right";</code></li>
<li class='green'><span class='hits'>381</span><code>            var otherDir = dir == "left" ? "right" : "left";</code></li>
<li class='green'><span class='hits'>381</span><code>            root[dir] = insert(root[dir], data, compare);</code></li>
<li class='green'><span class='hits'>381</span><code>            var node = root[dir];</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>381</span><code>            if (isRed(node)) {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>294</span><code>                var sibling = root[otherDir];</code></li>
<li class='green'><span class='hits'>294</span><code>                if (isRed(sibling)) {</code></li>
<li class='green'><span class=''> </span><code>                    /* Case 1 */</code></li>
<li class='green'><span class='hits'>68</span><code>                    root.red = true;</code></li>
<li class='green'><span class='hits'>68</span><code>                    node.red = false;</code></li>
<li class='green'><span class='hits'>68</span><code>                    sibling.red = false;</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>226</span><code>                    if (isRed(node[dir])) {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>43</span><code>                        root = rotateSingle(root, otherDir);</code></li>
<li class='green'><span class='hits'>183</span><code>                    } else if (isRed(node[otherDir])) {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>11</span><code>                        root = rotateDouble(root, otherDir);</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>381</span><code>    return root;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var rotateSingle = function(root, dir) {</code></li>
<li class='green'><span class='hits'>70</span><code>    var otherDir = dir == "left" ? "right" : "left";</code></li>
<li class='green'><span class='hits'>70</span><code>    var save = root[otherDir];</code></li>
<li class='green'><span class='hits'>70</span><code>    root[otherDir] = save[dir];</code></li>
<li class='green'><span class='hits'>70</span><code>    save[dir] = root;</code></li>
<li class='green'><span class='hits'>70</span><code>    root.red = true;</code></li>
<li class='green'><span class='hits'>70</span><code>    save.red = false;</code></li>
<li class='green'><span class='hits'>70</span><code>    return save;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var rotateDouble = function(root, dir) {</code></li>
<li class='green'><span class='hits'>12</span><code>    var otherDir = dir == "left" ? "right" : "left";</code></li>
<li class='green'><span class='hits'>12</span><code>    root[otherDir] = rotateSingle(root[otherDir], otherDir);</code></li>
<li class='green'><span class='hits'>12</span><code>    return rotateSingle(root, dir);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var remove = function (root, data, done, compare) {</code></li>
<li class='green'><span class='hits'>52</span><code>    if (root == null) {</code></li>
<li class='green'><span class='hits'>2</span><code>        done.done = true;</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>50</span><code>        var dir;</code></li>
<li class='green'><span class='hits'>50</span><code>        if (compare(data, root.data) == 0) {</code></li>
<li class='green'><span class='hits'>22</span><code>            if (root.left == null || root.right == null) {</code></li>
<li class='green'><span class='hits'>16</span><code>                var save = root[root.left == null ? "right" : "left"];</code></li>
<li class='green'><span class=''> </span><code>                /* Case 0 */</code></li>
<li class='green'><span class='hits'>16</span><code>                if (isRed(root)) {</code></li>
<li class='green'><span class='hits'>2</span><code>                    done.done = true;</code></li>
<li class='green'><span class='hits'>14</span><code>                } else if (isRed(save)) {</code></li>
<li class='green'><span class='hits'>5</span><code>                    save.red = false;</code></li>
<li class='green'><span class='hits'>5</span><code>                    done.done = true;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>16</span><code>                return save;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>            else {</code></li>
<li class='green'><span class='hits'>6</span><code>                var heir = root.right, p;</code></li>
<li class='green'><span class='hits'>6</span><code>                while (heir.left != null) {</code></li>
<li class='green'><span class='hits'>2</span><code>                    p = heir;</code></li>
<li class='green'><span class='hits'>2</span><code>                    heir = heir.left;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>6</span><code>                p &amp;&amp; (p.left = null);</code></li>
<li class='green'><span class='hits'>6</span><code>                root.data = heir.data;</code></li>
<li class='green'><span class='hits'>6</span><code>                data = heir.data;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>34</span><code>        dir = compare(data, root.data) == -1 ? "left" : "right";</code></li>
<li class='green'><span class='hits'>34</span><code>        root[dir] = remove(root[dir], data, done, compare);</code></li>
<li class='green'><span class='hits'>34</span><code>        !done.done &amp;&amp; (root = removeBalance(root, dir, done));</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>36</span><code>    return root;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var removeBalance = function(root, dir, done) {</code></li>
<li class='green'><span class='hits'>11</span><code>    var notDir = dir == "left" ? "right" : "left";</code></li>
<li class='green'><span class='hits'>11</span><code>    var p = root, s = p[notDir];</code></li>
<li class='green'><span class='hits'>11</span><code>    if (isRed(s)) {</code></li>
<li class='green'><span class='hits'>2</span><code>        root = rotateSingle(root, dir);</code></li>
<li class='green'><span class='hits'>2</span><code>        s = p[notDir];</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>11</span><code>    if (s != null) {</code></li>
<li class='green'><span class='hits'>11</span><code>        if (!isRed(s.left) &amp;&amp; !isRed(s.right)) {</code></li>
<li class='green'><span class='hits'>9</span><code>            isRed(p) &amp;&amp; (done.done = true);</code></li>
<li class='green'><span class='hits'>9</span><code>            p.red = 0;</code></li>
<li class='green'><span class='hits'>9</span><code>            s.red = 1;</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>2</span><code>            var save = p.red, newRoot = ( root === p );</code></li>
<li class='green'><span class='hits'>2</span><code>            p = (isRed(s[notDir]) ? rotateSingle : rotateDouble)(p, dir);</code></li>
<li class='green'><span class='hits'>2</span><code>            p.red = save;</code></li>
<li class='green'><span class='hits'>2</span><code>            p.left.red = p.right.red = 0;</code></li>
<li class='green'><span class='hits'>2</span><code>            if (newRoot) {</code></li>
<li class='green'><span class='hits'>1</span><code>                root = p;</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                root[dir] = p;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>2</span><code>            done.done = true;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>11</span><code>    return root;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class='hits'>1</span><code>var RedBlackTree;</code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class &lt;p&gt;A RedBlack tree is a form of a self balancing binary tree.&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * &lt;b&gt;Performance&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;table&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Best&lt;/td&gt;&lt;td&gt;Worst&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Space&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;td&gt;O(n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Search&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Insert&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> *     &lt;tr&gt;&lt;td&gt;Delete&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;td&gt;O(log n)&lt;/td&gt;&lt;/tr&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;table&gt;</code></li>
<li class='green'><span class=''> </span><code> *     @name RedBlackTree</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.collections.Tree</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = exports  = define(Tree, {</code></li>
<li class='green'><span class=''> </span><code>    instance : {</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.collections.RedBlackTree.prototype*/</code></li>
<li class='green'><span class=''> </span><code>        insert : function(data) {</code></li>
<li class='green'><span class='hits'>122</span><code>            this.__root = insert(this.__root, data, this.compare);</code></li>
<li class='green'><span class='hits'>122</span><code>            this.__root.red = false;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        remove : function(data) {</code></li>
<li class='green'><span class='hits'>18</span><code>            var done = {done : false};</code></li>
<li class='green'><span class='hits'>18</span><code>            var root = remove(this.__root, data, done, this.compare);</code></li>
<li class='green'><span class='hits'>18</span><code>            if (root != null)</code></li>
<li class='green'><span class='hits'>17</span><code>                root.red = 0;</code></li>
<li class='green'><span class='hits'>18</span><code>            this.__root = root;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __printNode : function(node, level) {</code></li>
<li class='green'><span class='hits'>37</span><code>            var str = [];</code></li>
<li class='green'><span class='hits'>37</span><code>            if (node == null || node == undefined) {</code></li>
<li class='green'><span class='hits'>19</span><code>                str.push(multiply('\t', level));</code></li>
<li class='green'><span class='hits'>19</span><code>                str.push("~");</code></li>
<li class='green'><span class='hits'>19</span><code>                console.log(str.join(""));</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>18</span><code>                this.__printNode(node.right, level + 1);</code></li>
<li class='green'><span class='hits'>18</span><code>                str.push(multiply('\t', level));</code></li>
<li class='green'><span class='hits'>18</span><code>                str.push((node.red ? "RED" : "BLACK") + ":" + node.data + "\n");</code></li>
<li class='green'><span class='hits'>18</span><code>                console.log(str.join(""));</code></li>
<li class='green'><span class='hits'>18</span><code>                this.__printNode(node.left, level + 1);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/Stack.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/Stack.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>117</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>30</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/Stack.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>        Collection = require("./Collection"),</code></li>
<li class='green'><span class=''> </span><code>        base = require("../base");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class &lt;p&gt;LIFO Data structure&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> * @name Stack</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.collections.Collection</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @property {Number} count the current number of elements in this queue</code></li>
<li class='green'><span class=''> </span><code> * @property {Boolean} isEmpty true if this queue is empty</code></li>
<li class='green'><span class=''> </span><code> * @property {Array} values a copy of the values contained in this queue</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = exports = define(Collection, {</code></li>
<li class='green'><span class=''> </span><code>    instance : {</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.collections.Stack.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor : function() {</code></li>
<li class='green'><span class='hits'>1</span><code>            this.__stack = [];</code></li>
<li class='green'><span class='hits'>1</span><code>            this.__next = -1;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Add an item to the tail of this stack</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} data item to qppend to this stack</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        push : function(data) {</code></li>
<li class='green'><span class='hits'>23</span><code>            this.__stack[++this.__next] = data;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Removes the tail of this static</code></li>
<li class='green'><span class=''> </span><code>         * @return {*} the data at the tail of this stack</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        pop : function() {</code></li>
<li class='green'><span class='hits'>11</span><code>            var ret = undefined, stack, next = this.__next;</code></li>
<li class='green'><span class='hits'>11</span><code>            if (next &gt;= 0) {</code></li>
<li class='green'><span class='hits'>10</span><code>                stack = this.__stack;</code></li>
<li class='green'><span class='hits'>10</span><code>                ret = stack[next];</code></li>
<li class='green'><span class='hits'>10</span><code>                stack[this.__next--] = undefined;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>11</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Retrieves the item at the tail of the stack without removing it</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {*} The element at the tail of the stack. Returns undefined if the stack is empty.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        peek : function() {</code></li>
<li class='green'><span class='hits'>1</span><code>            var ret = undefined,next = this.__next;</code></li>
<li class='green'><span class='hits'>1</span><code>            if (next &gt;= 0) {</code></li>
<li class='green'><span class='hits'>1</span><code>                ret = this.__stack[next];</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>1</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>         /**</code></li>
<li class='green'><span class=''> </span><code>         * Removes all items from this stack.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        clear : function() {</code></li>
<li class='green'><span class='hits'>1</span><code>            this.__stack.length = 0;</code></li>
<li class='green'><span class='hits'>1</span><code>            this.__next = -1;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Determine if this stack contains the element</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} obj the object to find</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {Boolean} true if this stack contains the element</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        contains : function(obj) {</code></li>
<li class='green'><span class='hits'>3</span><code>            return this.__stack.indexOf(obj) != -1;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Removes an element from this stack.</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} obj the data to remove.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {Boolean} true if the element was removed, false otherwise.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        remove : function(obj) {</code></li>
<li class='green'><span class='hits'>7</span><code>            var index = this.__stack.indexOf(obj), ret = false;</code></li>
<li class='green'><span class='hits'>7</span><code>            if (index != -1) {</code></li>
<li class='green'><span class='hits'>7</span><code>                if (index == this.__next) {</code></li>
<li class='green'><span class='hits'>1</span><code>                    this.pop();</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>6</span><code>                    this.__stack.splice(index, 1);</code></li>
<li class='green'><span class='hits'>6</span><code>                    this.__next--;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class='hits'>7</span><code>                ret = true;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>7</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        toString : function(){</code></li>
<li class='green'><span class='hits'>3</span><code>            return this.__stack.toString();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        getters : {</code></li>
<li class='green'><span class=''> </span><code>            count : function() {</code></li>
<li class='green'><span class='hits'>3</span><code>                return this.__next + 1;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            isEmpty : function() {</code></li>
<li class='green'><span class='hits'>5</span><code>                return this.__next &lt; 0;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            values : function() {</code></li>
<li class='green'><span class='hits'>1</span><code>                return this.__stack.slice(0, this.__next + 1).reverse();</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/Tree.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/Tree.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>457</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>160</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/Tree.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>        Collection = require("./Collection"),</code></li>
<li class='green'><span class=''> </span><code>		Iterable = require("./Iterable"),</code></li>
<li class='green'><span class=''> </span><code>        base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>        multiply = base.string.multiply;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var compare = function(a, b) {</code></li>
<li class='green'><span class='hits'>2757</span><code>    var ret = 0;</code></li>
<li class='green'><span class='hits'>2757</span><code>    if (a &gt; b) {</code></li>
<li class='green'><span class='hits'>1571</span><code>        return 1;</code></li>
<li class='green'><span class='hits'>1186</span><code>    } else if (a &lt; b) {</code></li>
<li class='green'><span class='hits'>936</span><code>        return -1;</code></li>
<li class='green'><span class='hits'>250</span><code>    }else if(!b){</code></li>
<li class='green'><span class='hits'>1</span><code>        return 1;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>249</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var Tree = define([Collection, Iterable], {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    instance : {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.collections.Tree.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Prints a node</code></li>
<li class='green'><span class=''> </span><code>         * @param node node to print</code></li>
<li class='green'><span class=''> </span><code>         * @param level the current level the node is at, Used for formatting</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        __printNode : function(node, level) {</code></li>
<li class='green'><span class=''> </span><code>            //console.log(level);</code></li>
<li class='green'><span class='hits'>37</span><code>            var str = [];</code></li>
<li class='green'><span class='hits'>37</span><code>            if (node == null || node == undefined) {</code></li>
<li class='green'><span class='hits'>19</span><code>                str.push(multiply('\t', level));</code></li>
<li class='green'><span class='hits'>19</span><code>                str.push("~");</code></li>
<li class='green'><span class='hits'>19</span><code>                console.log(str.join(""));</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>18</span><code>                this.__printNode(node.right, level + 1);</code></li>
<li class='green'><span class='hits'>18</span><code>                str.push(multiply('\t', level));</code></li>
<li class='green'><span class='hits'>18</span><code>                str.push(node.data + "\n");</code></li>
<li class='green'><span class='hits'>18</span><code>                console.log(str.join(""));</code></li>
<li class='green'><span class='hits'>18</span><code>                this.__printNode(node.left, level + 1);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Base Class for all tree implementations</code></li>
<li class='green'><span class=''> </span><code>         * @constructs</code></li>
<li class='green'><span class=''> </span><code>         * @augments comb.collections.Collection</code></li>
<li class='green'><span class=''> </span><code>         * @augments comb.collections.Iterable</code></li>
<li class='green'><span class=''> </span><code>         * @memberOf comb.collections</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} options options to initialize the tree</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} options.compare function used to compare items in a tree must return an integer</code></li>
<li class='green'><span class=''> </span><code>         *  &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;/li&gt;-1 for less than&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;/li&gt;0 for equal&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *      &lt;/li&gt;1 for greater than&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code>         *  &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        constructor : function(options) {</code></li>
<li class='green'><span class='hits'>45</span><code>            options = options || {};</code></li>
<li class='green'><span class='hits'>45</span><code>            this.compare = options.compare || compare;</code></li>
<li class='green'><span class='hits'>45</span><code>            this.__root = null;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Inserts an item into the tree</code></li>
<li class='green'><span class=''> </span><code>         * @param {Anything} data the item to insert</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        insert : function(data) {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Removes an item from the tree</code></li>
<li class='green'><span class=''> </span><code>         * @param {Anything} data the item to insert</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        remove : function(data) {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("Not Implemented");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Clear all items from a tree</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        clear : function() {</code></li>
<li class='green'><span class='hits'>4</span><code>            this.__root = null;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Test if a tree is empty</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {Boolean} true if empty false otherwise</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        isEmpty : function() {</code></li>
<li class='green'><span class='hits'>15</span><code>            return this.__root == null;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Traverse a tree until the callback function returns false</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * &lt;p&gt;&lt;b&gt;Not typically used directly&lt;/b&gt;&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} node the node to start at</code></li>
<li class='green'><span class=''> </span><code>         * @param {Tree.PRE_ORDER|Tree.POST_ORDER|Tree.IN_ORDER|Tree.REVERSE_ORDER} [order=Tree.IN_ORDER] the traversal scheme</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} callback called for each item, traversal continues until the function returns false</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        traverseWithCondition : function(node, order, callback) {</code></li>
<li class='green'><span class='hits'>2172</span><code>            var cont = true;</code></li>
<li class='green'><span class='hits'>2172</span><code>            if (node) {</code></li>
<li class='green'><span class='hits'>1270</span><code>                order = order || Tree.PRE_ORDER;</code></li>
<li class='green'><span class='hits'>1270</span><code>                if (order === Tree.PRE_ORDER) {</code></li>
<li class='green'><span class='hits'>152</span><code>                    cont = callback(node.data);</code></li>
<li class='green'><span class='hits'>152</span><code>                    if (cont) {</code></li>
<li class='green'><span class='hits'>144</span><code>                        cont = this.traverseWithCondition(node.left, order, callback);</code></li>
<li class='green'><span class='hits'>144</span><code>                        cont &amp;&amp; (cont = this.traverseWithCondition(node.right, order, callback));</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class='hits'>1118</span><code>                } else if (order === Tree.IN_ORDER) {</code></li>
<li class='green'><span class='hits'>510</span><code>                    cont = this.traverseWithCondition(node.left, order, callback);</code></li>
<li class='green'><span class='hits'>510</span><code>                    if (cont) {</code></li>
<li class='green'><span class='hits'>444</span><code>                        cont = callback(node.data);</code></li>
<li class='green'><span class='hits'>444</span><code>                        cont &amp;&amp; (cont = this.traverseWithCondition(node.right, order, callback));</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class='hits'>608</span><code>                } else if (order === Tree.POST_ORDER) {</code></li>
<li class='green'><span class='hits'>178</span><code>                    cont = this.traverseWithCondition(node.left, order, callback);</code></li>
<li class='green'><span class='hits'>178</span><code>                    if (cont) {</code></li>
<li class='green'><span class='hits'>158</span><code>                        cont &amp;&amp; (cont = this.traverseWithCondition(node.right, order, callback));</code></li>
<li class='green'><span class='hits'>158</span><code>                        cont &amp;&amp; (cont = callback(node.data));</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class='hits'>430</span><code>                } else if (order === Tree.REVERSE_ORDER) {</code></li>
<li class='green'><span class='hits'>430</span><code>                    cont = this.traverseWithCondition(node.right, order, callback);</code></li>
<li class='green'><span class='hits'>430</span><code>                    if (cont) {</code></li>
<li class='green'><span class='hits'>384</span><code>                        cont = callback(node.data);</code></li>
<li class='green'><span class='hits'>384</span><code>                        cont &amp;&amp; (cont = this.traverseWithCondition(node.left, order, callback));</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>2172</span><code>            return cont;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Traverse a tree</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * &lt;p&gt;&lt;b&gt;Not typically used directly&lt;/b&gt;&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} node the node to start at</code></li>
<li class='green'><span class=''> </span><code>         * @param {Tree.PRE_ORDER|Tree.POST_ORDER|Tree.IN_ORDER|Tree.REVERSE_ORDER} [order=Tree.IN_ORDER] the traversal scheme</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} callback called for each item</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        traverse : function(node, order, callback) {</code></li>
<li class='green'><span class='hits'>3449</span><code>            if (node) {</code></li>
<li class='green'><span class='hits'>1928</span><code>                order = order || Tree.PRE_ORDER;</code></li>
<li class='green'><span class='hits'>1928</span><code>                if (order === Tree.PRE_ORDER) {</code></li>
<li class='green'><span class='hits'>632</span><code>                    callback(node.data);</code></li>
<li class='green'><span class='hits'>632</span><code>                    this.traverse(node.left, order, callback);</code></li>
<li class='green'><span class='hits'>632</span><code>                    this.traverse(node.right, order, callback);</code></li>
<li class='green'><span class='hits'>1296</span><code>                } else if (order === Tree.IN_ORDER) {</code></li>
<li class='green'><span class='hits'>632</span><code>                    this.traverse(node.left, order, callback);</code></li>
<li class='green'><span class='hits'>632</span><code>                    callback(node.data);</code></li>
<li class='green'><span class='hits'>632</span><code>                    this.traverse(node.right, order, callback);</code></li>
<li class='green'><span class='hits'>664</span><code>                } else if (order === Tree.POST_ORDER) {</code></li>
<li class='green'><span class='hits'>632</span><code>                    this.traverse(node.left, order, callback);</code></li>
<li class='green'><span class='hits'>632</span><code>                    this.traverse(node.right, order, callback);</code></li>
<li class='green'><span class='hits'>632</span><code>                    callback(node.data);</code></li>
<li class='green'><span class='hits'>32</span><code>                } else if (order === Tree.REVERSE_ORDER) {</code></li>
<li class='green'><span class='hits'>32</span><code>                    this.traverseWithCondition(node.right, order, callback);</code></li>
<li class='green'><span class='hits'>32</span><code>                    callback(node.data);</code></li>
<li class='green'><span class='hits'>32</span><code>                    this.traverseWithCondition(node.left, order, callback);</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Loop through each item in the tree</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} cb called for each item in the tree</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} [scope=this] scope to call the function in</code></li>
<li class='green'><span class=''> </span><code>         * @param {Tree.PRE_ORDER|Tree.POST_ORDER|Tree.IN_ORDER|Tree.REVERSE_ORDER} [order=Tree.IN_ORDER] the traversal scheme</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        forEach : function(cb, scope, order) {</code></li>
<li class='green'><span class='hits'>28</span><code>            if (typeof cb !== "function")</code></li>
<li class='green'><span class='hits'>4</span><code>                throw new TypeError();</code></li>
<li class='green'><span class='hits'>24</span><code>            order = order || Tree.IN_ORDER;</code></li>
<li class='green'><span class='hits'>24</span><code>            scope = scope || this;</code></li>
<li class='green'><span class='hits'>24</span><code>            this.traverse(this.__root, order, function(node) {</code></li>
<li class='green'><span class='hits'>312</span><code>                cb.call(scope, node, this);</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Loop through each item in the tree, collecting the value returned by the callback funciton.</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} cb called for each item in the tree.</code></li>
<li class='green'><span class=''> </span><code>         *                   Whatever the function returns is inserted into the return tree</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} [scope=this] scope to call the function in</code></li>
<li class='green'><span class=''> </span><code>         * @param {Tree.PRE_ORDER|Tree.POST_ORDER|Tree.IN_ORDER|Tree.REVERSE_ORDER} [order=Tree.IN_ORDER] the traversal scheme</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.collections.Tree} the tree with the mapped items</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        map : function(cb, scope, order) {</code></li>
<li class='green'><span class='hits'>28</span><code>            if (typeof cb !== "function")</code></li>
<li class='green'><span class='hits'>4</span><code>                throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>24</span><code>            order = order || Tree.IN_ORDER;</code></li>
<li class='green'><span class='hits'>24</span><code>            scope = scope || this;</code></li>
<li class='green'><span class='hits'>24</span><code>            var construct = this._static;</code></li>
<li class='green'><span class='hits'>24</span><code>            var ret = new this._static();</code></li>
<li class='green'><span class='hits'>24</span><code>            this.traverse(this.__root, order, function(node) {</code></li>
<li class='green'><span class='hits'>312</span><code>                ret.insert(cb.call(scope, node, this));</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>24</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Filters a tree, only returning items that result in true being returned from the callback</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} cb called for each item in the tree</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} [scope=this] scope to call the function in</code></li>
<li class='green'><span class=''> </span><code>         * @param {Tree.PRE_ORDER|Tree.POST_ORDER|Tree.IN_ORDER|Tree.REVERSE_ORDER} [order=Tree.IN_ORDER] the traversal scheme</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.collections.Tree} the tree with items that resulted in true being returned from the callback</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        filter : function(cb, scope, order) {</code></li>
<li class='green'><span class='hits'>16</span><code>            if (typeof cb !== "function")</code></li>
<li class='green'><span class='hits'>4</span><code>                throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>12</span><code>            order = order || Tree.IN_ORDER;</code></li>
<li class='green'><span class='hits'>12</span><code>            scope = scope || this;</code></li>
<li class='green'><span class='hits'>12</span><code>            var ret = new this._static();</code></li>
<li class='green'><span class='hits'>12</span><code>            this.traverse(this.__root, order, function(node) {</code></li>
<li class='green'><span class='hits'>216</span><code>                var include = cb.call(scope, node, this);</code></li>
<li class='green'><span class='hits'>216</span><code>                include &amp;&amp; ret.insert(node);</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>12</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Reduces a tree</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} fun called for each item in the tree</code></li>
<li class='green'><span class=''> </span><code>         * @param [accumulator=First item in tree(Order dependant)] scope to call the function in</code></li>
<li class='green'><span class=''> </span><code>         * @param {Tree.PRE_ORDER|Tree.POST_ORDER|Tree.IN_ORDER|Tree.REVERSE_ORDER} [order=Tree.IN_ORDER] the traversal scheme</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return the result of the reduce function</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        reduce : function(fun, accumulator, order) {</code></li>
<li class='green'><span class='hits'>36</span><code>            var arr = this.toArray(order);</code></li>
<li class='green'><span class='hits'>36</span><code>            var args = [fun];</code></li>
<li class='green'><span class='hits'>36</span><code>            !base.isUndefinedOrNull(accumulator) &amp;&amp; args.push(accumulator)</code></li>
<li class='green'><span class='hits'>36</span><code>            return arr.reduce.apply(arr, args);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Reduces from right to left</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} fun called for each item in the tree</code></li>
<li class='green'><span class=''> </span><code>         * @param [accumulator=First item in tree(Order dependant)] scope to call the function in</code></li>
<li class='green'><span class=''> </span><code>         * @param {Tree.PRE_ORDER|Tree.POST_ORDER|Tree.IN_ORDER|Tree.REVERSE_ORDER} [order=Tree.IN_ORDER] the traversal scheme</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return the result of the reduce function</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        reduceRight : function(fun, accumulator, order) {</code></li>
<li class='green'><span class='hits'>12</span><code>            var arr = this.toArray(order);</code></li>
<li class='green'><span class='hits'>12</span><code>            var args = [fun];</code></li>
<li class='green'><span class='hits'>12</span><code>            !base.isUndefinedOrNull(accumulator) &amp;&amp; args.push(accumulator)</code></li>
<li class='green'><span class='hits'>12</span><code>            return arr.reduceRight.apply(arr, args);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Determines if every item meets the condition returned by the callback.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} cb called for each item in the tree</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} [scope=this] scope to call the function in</code></li>
<li class='green'><span class=''> </span><code>         * @param {Tree.PRE_ORDER|Tree.POST_ORDER|Tree.IN_ORDER|Tree.REVERSE_ORDER} [order=Tree.IN_ORDER] the traversal scheme</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {Boolean} True if every item passed false otherwise</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        every : function(cb, scope, order) {</code></li>
<li class='green'><span class='hits'>36</span><code>            if (typeof cb !== "function")</code></li>
<li class='green'><span class='hits'>4</span><code>                throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>32</span><code>            order = order || Tree.IN_ORDER;</code></li>
<li class='green'><span class='hits'>32</span><code>            scope = scope || this;</code></li>
<li class='green'><span class='hits'>32</span><code>            var ret = false;</code></li>
<li class='green'><span class='hits'>32</span><code>            this.traverseWithCondition(this.__root, order, function(node) {</code></li>
<li class='green'><span class='hits'>264</span><code>                return (ret = cb.call(scope, node, this));</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>32</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Determines if some item meet the condition returned by the callback. Traversal ends the first time true is found.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Function} cb called for each item in the tree</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} [scope=this] scope to call the function in</code></li>
<li class='green'><span class=''> </span><code>         * @param {Tree.PRE_ORDER|Tree.POST_ORDER|Tree.IN_ORDER|Tree.REVERSE_ORDER} [order=Tree.IN_ORDER] the traversal scheme</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {Boolean} True if every item passed false otherwise</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        some : function(cb, scope, order) {</code></li>
<li class='green'><span class='hits'>36</span><code>            if (typeof cb !== "function")</code></li>
<li class='green'><span class='hits'>4</span><code>                throw new TypeError();</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>32</span><code>            order = order || Tree.IN_ORDER;</code></li>
<li class='green'><span class='hits'>32</span><code>            scope = scope || this;</code></li>
<li class='green'><span class='hits'>32</span><code>            var ret;</code></li>
<li class='green'><span class='hits'>32</span><code>            this.traverseWithCondition(this.__root, order, function(node) {</code></li>
<li class='green'><span class='hits'>284</span><code>                ret = cb.call(scope, node, this);</code></li>
<li class='green'><span class='hits'>284</span><code>                return !ret;</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>32</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Converts a tree into an array based on the specified order</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Tree.PRE_ORDER|Tree.POST_ORDER|Tree.IN_ORDER|Tree.REVERSE_ORDER} [order=Tree.IN_ORDER] the traversal scheme</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {Array} array of all items in the order specified.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        toArray : function(order) {</code></li>
<li class='green'><span class='hits'>72</span><code>            order = order || Tree.IN_ORDER;</code></li>
<li class='green'><span class='hits'>72</span><code>            var arr = [];</code></li>
<li class='green'><span class='hits'>72</span><code>            this.traverse(this.__root, order, function(node) {</code></li>
<li class='green'><span class='hits'>1056</span><code>                arr.push(node);</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>72</span><code>            return arr;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Determines if a value is contained in the tree</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} value the value to find</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {Boolean} true if the tree contains the item false otherwise.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        contains : function(value) {</code></li>
<li class='green'><span class='hits'>160</span><code>            var ret = false;</code></li>
<li class='green'><span class='hits'>160</span><code>            var root = this.__root;</code></li>
<li class='green'><span class='hits'>160</span><code>            while (root != null) {</code></li>
<li class='green'><span class='hits'>376</span><code>                var cmp = this.compare(value, root.data);</code></li>
<li class='green'><span class='hits'>376</span><code>                if (cmp) {</code></li>
<li class='green'><span class='hits'>271</span><code>                    root = root[(cmp == -1) ? "left" : "right"];</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>105</span><code>                    ret = true;</code></li>
<li class='green'><span class='hits'>105</span><code>                    root = null;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>160</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Finds a value in the tree</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} value the value to find</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return the value of the node that matched</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        find : function(value) {</code></li>
<li class='green'><span class='hits'>8</span><code>            var ret;</code></li>
<li class='green'><span class='hits'>8</span><code>            var root = this.__root;</code></li>
<li class='green'><span class='hits'>8</span><code>            while (root != null) {</code></li>
<li class='green'><span class='hits'>35</span><code>                var cmp = this.compare(value, root.data);</code></li>
<li class='green'><span class='hits'>35</span><code>                if (cmp) {</code></li>
<li class='green'><span class='hits'>31</span><code>                    root = root[(cmp == -1) ? "left" : "right"];</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>4</span><code>                    ret = root.data;</code></li>
<li class='green'><span class='hits'>4</span><code>                    break;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>8</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Find all values less than a value</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} value the value to find nodes less than</code></li>
<li class='green'><span class=''> </span><code>         * @param {Boolean} [exclusive=false] if true the value will NOT be included in the return array</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {Array} the array containing all values less than</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        findLessThan : function(value, exclusive) {</code></li>
<li class='green'><span class=''> </span><code>            //find a better way!!!!</code></li>
<li class='green'><span class='hits'>32</span><code>            var ret = [], compare = this.compare;</code></li>
<li class='green'><span class='hits'>32</span><code>            this.traverseWithCondition(this.__root, exports.IN_ORDER, function(v) {</code></li>
<li class='green'><span class='hits'>200</span><code>                var cmp = compare(value, v);</code></li>
<li class='green'><span class='hits'>200</span><code>                if ((!exclusive &amp;&amp; cmp == 0) || cmp == 1) {</code></li>
<li class='green'><span class='hits'>168</span><code>                    ret.push(v);</code></li>
<li class='green'><span class='hits'>168</span><code>                    return true;</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>32</span><code>                    return false;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>32</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Find all greater than a value</code></li>
<li class='green'><span class=''> </span><code>         * @param {*} value the value to find nodes greater than</code></li>
<li class='green'><span class=''> </span><code>         * @param {Boolean} [exclusive=false] if true the value will NOT be included in the return array</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {Array} the array containing all values greater than</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        findGreaterThan : function(value, exclusive) {</code></li>
<li class='green'><span class=''> </span><code>            //find a better way!!!!</code></li>
<li class='green'><span class='hits'>32</span><code>            var ret = [], compare = this.compare;</code></li>
<li class='green'><span class='hits'>32</span><code>            this.traverse(this.__root, exports.REVERSE_ORDER, function(v) {</code></li>
<li class='green'><span class='hits'>416</span><code>                var cmp = compare(value, v);</code></li>
<li class='green'><span class='hits'>416</span><code>                if ((!exclusive &amp;&amp; cmp == 0) || cmp == -1) {</code></li>
<li class='green'><span class='hits'>372</span><code>                    ret.push(v);</code></li>
<li class='green'><span class='hits'>372</span><code>                    return true;</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>44</span><code>                    return false;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>32</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Prints a tree to the console.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        print : function() {</code></li>
<li class='green'><span class='hits'>4</span><code>            this.__printNode(this.__root, 0);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    static : {</code></li>
<li class='green'><span class=''> </span><code>    /** @lends comb.collections.Tree */</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Pre Order</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        PRE_ORDER : "pre_order",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * In Order</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        IN_ORDER : "in_order",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Post Order</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        POST_ORDER:"post_order",</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>         * Reverse Order</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        REVERSE_ORDER : "reverse_order"</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li>
<li class='green'><span class=''> </span><code>/**@ignore*/</code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = exports = Tree;</code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="collections/index.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>collections/index.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>21</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>2</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="collections/index.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var comb = exports;</code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @ignore</code></li>
<li class='green'><span class=''> </span><code> * @namespace Various collections*/</code></li>
<li class='green'><span class='hits'>1</span><code>comb.collections = {</code></li>
<li class='green'><span class=''> </span><code>    Collection : require("./Collection"),</code></li>
<li class='green'><span class=''> </span><code>    Iterable : require("./Iterable"),</code></li>
<li class='green'><span class=''> </span><code>    Tree : require("./Tree"),</code></li>
<li class='green'><span class=''> </span><code>    BinaryTree : require("./BinaryTree"),</code></li>
<li class='green'><span class=''> </span><code>    RedBlackTree : require("./RedBlackTree"),</code></li>
<li class='green'><span class=''> </span><code>    AnderssonTree : require("./AnderssonTree"),</code></li>
<li class='green'><span class=''> </span><code>    AVLTree : require("./AVLTree"),</code></li>
<li class='green'><span class=''> </span><code>    HashTable : require("./HashTable"),</code></li>
<li class='green'><span class=''> </span><code>    Queue : require("./Queue"),</code></li>
<li class='green'><span class=''> </span><code>    Stack : require("./Stack"),</code></li>
<li class='green'><span class=''> </span><code>    Heap : require("./Heap"),</code></li>
<li class='green'><span class=''> </span><code>    MinHeap : require("./MinHeap"),</code></li>
<li class='green'><span class=''> </span><code>    MaxHeap : require("./MaxHeap"),</code></li>
<li class='green'><span class=''> </span><code>    PriorityQueue : require("./PriorityQueue"),</code></li>
<li class='green'><span class=''> </span><code>    Pool : require("./Pool")</code></li>
<li class='green'><span class=''> </span><code>};</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="extensions/arguments.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>extensions/arguments.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>14</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>4</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="extensions/arguments.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>    utils = require("./utils"),</code></li>
<li class='green'><span class=''> </span><code>    extend = utils.extend,</code></li>
<li class='green'><span class=''> </span><code>    array = base.array;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var methods = [</code></li>
<li class='green'><span class=''> </span><code>    ["argsToArray", "toArray"]</code></li>
<li class='green'><span class=''> </span><code>];</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = function (o) {</code></li>
<li class='green'><span class='hits'>4</span><code>    return extend(o, methods, base);</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="extensions/array.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>extensions/array.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>21</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>7</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="extensions/array.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>    array = base.array,</code></li>
<li class='green'><span class=''> </span><code>    string = base.string,</code></li>
<li class='green'><span class=''> </span><code>    utils = require("./utils"),</code></li>
<li class='green'><span class=''> </span><code>    extend = utils.extend;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var stringMethods = ["style"];</code></li>
<li class='green'><span class='hits'>1</span><code>var methods = ["forEach", "map", "filter", "reduce", "reduceRight", "some", "every", "indexOf", "lastIndexOf",</code></li>
<li class='green'><span class=''> </span><code>    "zip", "sum", "avg", "sort", "min", "max", "difference", "removeDuplicates", "unique", "rotate",</code></li>
<li class='green'><span class=''> </span><code>    "permutations", "transpose", "valuesAt", "union", "intersect", "powerSet", "cartesian", "compact",</code></li>
<li class='green'><span class=''> </span><code>    "multiply", "flatten", "pluck", "invoke", "partition"];</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = function (o) {</code></li>
<li class='green'><span class='hits'>191</span><code>    extend(o, methods, array);</code></li>
<li class='green'><span class='hits'>191</span><code>    extend(o, stringMethods, string);</code></li>
<li class='green'><span class='hits'>191</span><code>    return o;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="extensions/cast.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>extensions/cast.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>45</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>13</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="extensions/cast.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>    define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>    utils = require("./utils"),</code></li>
<li class='green'><span class=''> </span><code>    extend = utils.extend,</code></li>
<li class='green'><span class=''> </span><code>    arrayExtension = require("./array"),</code></li>
<li class='green'><span class=''> </span><code>    argumentsExtension = require("./arguments"),</code></li>
<li class='green'><span class=''> </span><code>    dateExtension = require("./date"),</code></li>
<li class='green'><span class=''> </span><code>    functionExtension = require("./function"),</code></li>
<li class='green'><span class=''> </span><code>    numberExtension = require("./number"),</code></li>
<li class='green'><span class=''> </span><code>    objectExtension = require("./object"),</code></li>
<li class='green'><span class=''> </span><code>    stringExtension = require("./string");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var methods = {</code></li>
<li class='green'><span class=''> </span><code>    array:function () {</code></li>
<li class='green'><span class='hits'>191</span><code>        return arrayExtension(this);</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    date:function () {</code></li>
<li class='green'><span class='hits'>277</span><code>        return dateExtension(this);</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    args:function () {</code></li>
<li class='green'><span class='hits'>4</span><code>        return argumentsExtension(this);</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    func:function () {</code></li>
<li class='green'><span class='hits'>42</span><code>        return functionExtension(this);</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    number:function () {</code></li>
<li class='green'><span class='hits'>159</span><code>        return numberExtension(this);</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    string:function () {</code></li>
<li class='green'><span class='hits'>485</span><code>        return stringExtension(this);</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    object:function () {</code></li>
<li class='green'><span class='hits'>535</span><code>        return objectExtension(this);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = function (o) {</code></li>
<li class='green'><span class='hits'>1214</span><code>    extend(o, Object.keys(methods), methods, function (name, func) {</code></li>
<li class='green'><span class='hits'>8498</span><code>        return base.partial(func);</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>1214</span><code>    return o;</code></li>
<li class='green'><span class=''> </span><code>};</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="extensions/date.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>extensions/date.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>26</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>5</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="extensions/date.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>    define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>    utils = require("./utils"),</code></li>
<li class='green'><span class=''> </span><code>    extend = utils.extend,</code></li>
<li class='green'><span class=''> </span><code>    date = base.date,</code></li>
<li class='green'><span class=''> </span><code>    string = base.string;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var methods = [</code></li>
<li class='green'><span class=''> </span><code>    "add",</code></li>
<li class='green'><span class=''> </span><code>    "compare",</code></li>
<li class='green'><span class=''> </span><code>    "difference",</code></li>
<li class='green'><span class=''> </span><code>    "format",</code></li>
<li class='green'><span class=''> </span><code>    "getDaysInMonth",</code></li>
<li class='green'><span class=''> </span><code>    "getTimezoneName",</code></li>
<li class='green'><span class=''> </span><code>    "isLeapYear",</code></li>
<li class='green'><span class=''> </span><code>    "isWeekend"</code></li>
<li class='green'><span class=''> </span><code>];</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = function (o) {</code></li>
<li class='green'><span class='hits'>277</span><code>    extend(o, methods, date);</code></li>
<li class='green'><span class='hits'>277</span><code>    return o;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="extensions/function.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>extensions/function.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>42</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>16</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="extensions/function.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>    argsToArray = base.argsToArray,</code></li>
<li class='green'><span class=''> </span><code>    utils = require("./utils"),</code></li>
<li class='green'><span class=''> </span><code>    array = base.array,</code></li>
<li class='green'><span class=''> </span><code>    extend = utils.extend,</code></li>
<li class='green'><span class=''> </span><code>    comb;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var methods = [</code></li>
<li class='green'><span class=''> </span><code>    "hitch",</code></li>
<li class='green'><span class=''> </span><code>    "bind",</code></li>
<li class='green'><span class=''> </span><code>    "hitchIgnore",</code></li>
<li class='green'><span class=''> </span><code>    "bindIgnore",</code></li>
<li class='green'><span class=''> </span><code>    "partial",</code></li>
<li class='green'><span class=''> </span><code>    "applyFirst",</code></li>
<li class='green'><span class=''> </span><code>    "bindFirst",</code></li>
<li class='green'><span class=''> </span><code>    "curry",</code></li>
<li class='green'><span class=''> </span><code>    "extend"</code></li>
<li class='green'><span class=''> </span><code>];</code></li>
<li class='green'><span class='hits'>1</span><code>var baseMethods = ["extend"];</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = function (o) {</code></li>
<li class='green'><span class='hits'>42</span><code>    comb = comb || (require("../index"));</code></li>
<li class='green'><span class='hits'>42</span><code>    extend(o, methods, base, function (name, func) {</code></li>
<li class='green'><span class='hits'>378</span><code>        var ret;</code></li>
<li class='green'><span class='hits'>378</span><code>        if (name !== 'partial' &amp;&amp; name !== "applyFirst") {</code></li>
<li class='green'><span class='hits'>294</span><code>            ret = function (arg1) {</code></li>
<li class='green'><span class='hits'>7</span><code>                var args = argsToArray(arguments, 1);</code></li>
<li class='green'><span class='hits'>7</span><code>                return comb(func.apply(null, [arg1, this].concat(args)));</code></li>
<li class='green'><span class=''> </span><code>            };</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>84</span><code>            ret = function (arg1) {</code></li>
<li class='green'><span class='hits'>3</span><code>                return comb(func.apply(null, [this].concat(argsToArray(arguments))));</code></li>
<li class='green'><span class=''> </span><code>            };</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>378</span><code>        return ret;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>42</span><code>    extend(o, baseMethods, base);</code></li>
<li class='green'><span class='hits'>42</span><code>    return o;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="extensions/index.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>extensions/index.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>47</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>24</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="extensions/index.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>    stringExtension = require("./string"),</code></li>
<li class='green'><span class=''> </span><code>    functionExtension = require("./function"),</code></li>
<li class='green'><span class=''> </span><code>    objectExtension = require("./object"),</code></li>
<li class='green'><span class=''> </span><code>    argumentsExtension = require("./arguments"),</code></li>
<li class='green'><span class=''> </span><code>    dateExtension = require("./date"),</code></li>
<li class='green'><span class=''> </span><code>    isExtension = require("./is"),</code></li>
<li class='green'><span class=''> </span><code>    castExtension = require("./cast.js"),</code></li>
<li class='green'><span class=''> </span><code>    numberExtension = require("./number"),</code></li>
<li class='green'><span class=''> </span><code>    arrayExtension = require("./array");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var TRUE = isExtension(true),</code></li>
<li class='green'><span class=''> </span><code>    FALSE = isExtension(false);</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function createExtension(obj) {</code></li>
<li class='green'><span class='hits'>1302</span><code>    if (base.isBoolean(obj)) {</code></li>
<li class='green'><span class='hits'>17</span><code>        return obj ? TRUE : FALSE;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>1285</span><code>    if (!base.isUndefinedOrNull(obj) &amp;&amp; !obj.__isExtended__) {</code></li>
<li class='green'><span class='hits'>1214</span><code>        obj = isExtension(obj);</code></li>
<li class='green'><span class='hits'>1214</span><code>        obj = castExtension(obj);</code></li>
<li class='green'><span class='hits'>1214</span><code>        if (obj.isObject()) {</code></li>
<li class='green'><span class='hits'>535</span><code>            obj.object();</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>1214</span><code>        if (obj.isArguments()) {</code></li>
<li class='green'><span class='hits'>4</span><code>            obj.args();</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>1214</span><code>        if (obj.isArray()) {</code></li>
<li class='green'><span class='hits'>191</span><code>            obj.array();</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>1214</span><code>        if (obj.isFunction()) {</code></li>
<li class='green'><span class='hits'>42</span><code>            obj.func();</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>1214</span><code>        if (obj.isString()) {</code></li>
<li class='green'><span class='hits'>485</span><code>            obj.string();</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>1214</span><code>        if (obj.isDate()) {</code></li>
<li class='green'><span class='hits'>275</span><code>            obj.date();</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>1214</span><code>        if (obj.isNumber()) {</code></li>
<li class='green'><span class='hits'>159</span><code>            obj.number();</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>1285</span><code>    return obj;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>exports.createExtension = createExtension;</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="extensions/is.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>extensions/is.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>87</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>28</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="extensions/is.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>    define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>    utils = require("./utils"),</code></li>
<li class='green'><span class=''> </span><code>    extend = utils.extend;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var methods = [</code></li>
<li class='green'><span class=''> </span><code>    "isDefined",</code></li>
<li class='green'><span class=''> </span><code>    "isUndefined",</code></li>
<li class='green'><span class=''> </span><code>    "isNull",</code></li>
<li class='green'><span class=''> </span><code>    "isUndefinedOrNull",</code></li>
<li class='green'><span class=''> </span><code>    "isArguments",</code></li>
<li class='green'><span class=''> </span><code>    "isObject",</code></li>
<li class='green'><span class=''> </span><code>    "isHash",</code></li>
<li class='green'><span class=''> </span><code>    "isBoolean",</code></li>
<li class='green'><span class=''> </span><code>    "isDate",</code></li>
<li class='green'><span class=''> </span><code>    "isEmpty",</code></li>
<li class='green'><span class=''> </span><code>    "isArray",</code></li>
<li class='green'><span class=''> </span><code>    "isFunction",</code></li>
<li class='green'><span class=''> </span><code>    "isInstanceOf",</code></li>
<li class='green'><span class=''> </span><code>    "isNumber",</code></li>
<li class='green'><span class=''> </span><code>    "isPromiseLike",</code></li>
<li class='green'><span class=''> </span><code>    "isRegExp",</code></li>
<li class='green'><span class=''> </span><code>    "isString",</code></li>
<li class='green'><span class=''> </span><code>    "deepEqual"</code></li>
<li class='green'><span class=''> </span><code>];</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = function (o) {</code></li>
<li class='green'><span class='hits'>1216</span><code>    var valueOf = false, val;</code></li>
<li class='green'><span class='hits'>1216</span><code>    if (!base.isInstanceOf(o, Object)) {</code></li>
<li class='green'><span class='hits'>639</span><code>        if (base.isBoolean(o)) {</code></li>
<li class='green'><span class='hits'>2</span><code>            val = new Boolean(o);</code></li>
<li class='green'><span class='hits'>2</span><code>            valueOf = true;</code></li>
<li class='green'><span class='hits'>637</span><code>        } else if (base.isNumber(o)) {</code></li>
<li class='green'><span class='hits'>155</span><code>            val = new Number(o);</code></li>
<li class='green'><span class='hits'>155</span><code>            valueOf = true;</code></li>
<li class='green'><span class='hits'>482</span><code>        } else if (base.isString(o)) {</code></li>
<li class='green'><span class='hits'>482</span><code>            val = new String(o);</code></li>
<li class='green'><span class='hits'>482</span><code>            valueOf = true;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    } else {</code></li>
<li class='green'><span class='hits'>577</span><code>        val = o;</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>1216</span><code>    var ret = extend(val, methods, base, null, valueOf);</code></li>
<li class='green'><span class='hits'>1216</span><code>    if (valueOf) {</code></li>
<li class='green'><span class='hits'>639</span><code>        Object.defineProperty(ret, "valueOf", {</code></li>
<li class='green'><span class=''> </span><code>            value:function () {</code></li>
<li class='green'><span class='hits'>5102</span><code>                return o;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code>            writable:false,</code></li>
<li class='green'><span class=''> </span><code>            enumerable:false,</code></li>
<li class='green'><span class=''> </span><code>            configurable:true</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>1216</span><code>    Object.defineProperty(ret, "eq", {</code></li>
<li class='green'><span class=''> </span><code>        value:function (other) {</code></li>
<li class='green'><span class='hits'>6</span><code>            return o === other;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code>        writable:false,</code></li>
<li class='green'><span class=''> </span><code>        enumerable:false,</code></li>
<li class='green'><span class=''> </span><code>        configurable:true</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1216</span><code>    Object.defineProperty(ret, "neq", {</code></li>
<li class='green'><span class=''> </span><code>        value:function (other) {</code></li>
<li class='green'><span class='hits'>6</span><code>            return o !== other;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code>        writable:false,</code></li>
<li class='green'><span class=''> </span><code>        enumerable:false,</code></li>
<li class='green'><span class=''> </span><code>        configurable:true</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>1216</span><code>    Object.defineProperty(ret, "print", {</code></li>
<li class='green'><span class=''> </span><code>        value:function () {</code></li>
<li class='green'><span class='hits'>3</span><code>            console.log(o);</code></li>
<li class='green'><span class='hits'>3</span><code>            return val;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code>        writable:false,</code></li>
<li class='green'><span class=''> </span><code>        enumerable:false,</code></li>
<li class='green'><span class=''> </span><code>        configurable:true</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>1216</span><code>    Object.defineProperty(ret, "__isExtended__", {</code></li>
<li class='green'><span class=''> </span><code>        value:true,</code></li>
<li class='green'><span class=''> </span><code>        writable:false,</code></li>
<li class='green'><span class=''> </span><code>        enumerable:false,</code></li>
<li class='green'><span class=''> </span><code>        configurable:true</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>1216</span><code>    return ret;</code></li>
<li class='green'><span class=''> </span><code>};</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="extensions/number.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>extensions/number.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>17</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>5</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="extensions/number.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>    define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>    utils = require("./utils"),</code></li>
<li class='green'><span class=''> </span><code>    extend = utils.extend,</code></li>
<li class='green'><span class=''> </span><code>    number = base.number,</code></li>
<li class='green'><span class=''> </span><code>    string = base.string;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var methods = [</code></li>
<li class='green'><span class=''> </span><code>    "round",</code></li>
<li class='green'><span class=''> </span><code>    "roundCeil"</code></li>
<li class='green'><span class=''> </span><code>];</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = function (o) {</code></li>
<li class='green'><span class='hits'>159</span><code>    extend(o, methods, number, null, true);</code></li>
<li class='green'><span class='hits'>159</span><code>    return o;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="extensions/object.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>extensions/object.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>41</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>12</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="extensions/object.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>    define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>    utils = require("./utils"),</code></li>
<li class='green'><span class=''> </span><code>    extend = utils.extend,</code></li>
<li class='green'><span class=''> </span><code>    hash = base.hash,</code></li>
<li class='green'><span class=''> </span><code>    argsToArray = base.argsToArray,</code></li>
<li class='green'><span class=''> </span><code>    comb;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var methods = [</code></li>
<li class='green'><span class=''> </span><code>    "hitch",</code></li>
<li class='green'><span class=''> </span><code>    "hitchIgnore",</code></li>
<li class='green'><span class=''> </span><code>    "bind",</code></li>
<li class='green'><span class=''> </span><code>    "bindIgnore",</code></li>
<li class='green'><span class=''> </span><code>    "merge",</code></li>
<li class='green'><span class=''> </span><code>    "extend",</code></li>
<li class='green'><span class=''> </span><code>    "deepMerge"</code></li>
<li class='green'><span class=''> </span><code>];</code></li>
<li class='green'><span class='hits'>1</span><code>var lastMethod = ["curry"];</code></li>
<li class='green'><span class='hits'>1</span><code>var hashMethods = [</code></li>
<li class='green'><span class=''> </span><code>    "forEach",</code></li>
<li class='green'><span class=''> </span><code>    "filter",</code></li>
<li class='green'><span class=''> </span><code>    "invert",</code></li>
<li class='green'><span class=''> </span><code>    "values",</code></li>
<li class='green'><span class=''> </span><code>    "toArray",</code></li>
<li class='green'><span class=''> </span><code>    "omit",</code></li>
<li class='green'><span class=''> </span><code>    "pick",</code></li>
<li class='green'><span class=''> </span><code>    "keys"</code></li>
<li class='green'><span class=''> </span><code>];</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = function (o) {</code></li>
<li class='green'><span class='hits'>535</span><code>    comb = comb || (require("../index"));</code></li>
<li class='green'><span class='hits'>535</span><code>    extend(o, methods, base);</code></li>
<li class='green'><span class='hits'>535</span><code>    extend(o, hashMethods, hash);</code></li>
<li class='green'><span class='hits'>535</span><code>    extend(o, lastMethod, base, function (name, func) {</code></li>
<li class='green'><span class='hits'>535</span><code>        return function () {</code></li>
<li class='green'><span class='hits'>1</span><code>            return comb(func.apply(null, argsToArray(arguments).concat([this])));</code></li>
<li class='green'><span class=''> </span><code>        };</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>535</span><code>    return o;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="extensions/string.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>extensions/string.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>45</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>21</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="extensions/string.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>    string = base.string,</code></li>
<li class='green'><span class=''> </span><code>    date = base.date,</code></li>
<li class='green'><span class=''> </span><code>    utils = require("./utils"),</code></li>
<li class='green'><span class=''> </span><code>    extend = utils.extend,</code></li>
<li class='green'><span class=''> </span><code>    regexp = base.regexp,</code></li>
<li class='green'><span class=''> </span><code>    array = base.array,</code></li>
<li class='green'><span class=''> </span><code>    argsToArray = base.argsToArray,</code></li>
<li class='green'><span class=''> </span><code>    comb;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var methods = ["style", "multiply", "toArray", "format", "truncate", "pad"];</code></li>
<li class='green'><span class='hits'>1</span><code>var baseMethods = ["camelize", "underscore", "classify", "pluralize", "singularize", "applyFirst", "bindFirst", "partial"];</code></li>
<li class='green'><span class='hits'>1</span><code>var functionMethods = ["hitch", "bind", "hitchIgnore", "bindIgnore","curry"];</code></li>
<li class='green'><span class='hits'>1</span><code>var arrayMethods = ["pluck", "invoke"];</code></li>
<li class='green'><span class='hits'>1</span><code>var dateMethods = [</code></li>
<li class='green'><span class=''> </span><code>    ["parse", "parseDate"]</code></li>
<li class='green'><span class=''> </span><code>];</code></li>
<li class='green'><span class='hits'>1</span><code>var regexpMethods = [</code></li>
<li class='green'><span class=''> </span><code>    ["escapeString", "escape"]</code></li>
<li class='green'><span class=''> </span><code>];</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = function (o) {</code></li>
<li class='green'><span class='hits'>485</span><code>    comb = comb || (require("../index"));</code></li>
<li class='green'><span class='hits'>485</span><code>    extend(o, methods, string, null, true);</code></li>
<li class='green'><span class='hits'>485</span><code>    extend(o, baseMethods, base, null, true);</code></li>
<li class='green'><span class='hits'>485</span><code>    extend(o, dateMethods, date, null, true);</code></li>
<li class='green'><span class='hits'>485</span><code>    extend(o, regexpMethods, regexp, null, true);</code></li>
<li class='green'><span class='hits'>485</span><code>    extend(o, arrayMethods, array, function (name, func) {</code></li>
<li class='green'><span class='hits'>970</span><code>        return function () {</code></li>
<li class='green'><span class='hits'>7</span><code>            return comb(func.apply(null, argsToArray(arguments).concat([this.valueOf()])));</code></li>
<li class='green'><span class=''> </span><code>        };</code></li>
<li class='green'><span class=''> </span><code>    }, true);</code></li>
<li class='green'><span class='hits'>485</span><code>    extend(o, functionMethods, base, function (name, func) {</code></li>
<li class='green'><span class='hits'>2425</span><code>        return function (arg1) {</code></li>
<li class='green'><span class='hits'>3</span><code>            var args = argsToArray(arguments, 1);</code></li>
<li class='green'><span class='hits'>3</span><code>            return comb(func.apply(null, [arg1, this.valueOf()].concat(args)));</code></li>
<li class='green'><span class=''> </span><code>        };</code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>485</span><code>    return o;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="extensions/utils.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>extensions/utils.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>45</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>19</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="extensions/utils.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define").define,</code></li>
<li class='green'><span class=''> </span><code>    base = require("../base"),</code></li>
<li class='green'><span class=''> </span><code>    array = base.array,</code></li>
<li class='green'><span class=''> </span><code>    isBoolean = base.isBoolean,</code></li>
<li class='green'><span class=''> </span><code>    argsToArray = base.argsToArray,</code></li>
<li class='green'><span class=''> </span><code>    comb;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function proxyFunc(name, func, valueOf, scope) {</code></li>
<li class='green'><span class='hits'>46556</span><code>    return function proxy() {</code></li>
<li class='green'><span class='hits'>9212</span><code>        comb || (comb = require("../index"));</code></li>
<li class='green'><span class='hits'>9212</span><code>        var ret = func.apply(scope, [valueOf ? this.valueOf() : this].concat(argsToArray(arguments)));</code></li>
<li class='green'><span class='hits'>9209</span><code>        if (ret &amp;&amp; !base.isBoolean(ret) &amp;&amp; ret !== this &amp;&amp; !ret.__isExtended__) {</code></li>
<li class='green'><span class='hits'>586</span><code>            ret = comb(ret);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>9209</span><code>        return ret;</code></li>
<li class='green'><span class=''> </span><code>    };</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>function extend(obj, methods, base, creator, valueOf) {</code></li>
<li class='green'><span class='hits'>7851</span><code>    valueOf = isBoolean(valueOf) ? valueOf : false;</code></li>
<li class='green'><span class='hits'>7851</span><code>    array.forEach(methods, function (method) {</code></li>
<li class='green'><span class='hits'>59362</span><code>        var newFunc, func, m, name;</code></li>
<li class='green'><span class='hits'>59362</span><code>        if (Array.isArray(method) &amp;&amp; method.length === 2) {</code></li>
<li class='green'><span class='hits'>974</span><code>            m = method[0];</code></li>
<li class='green'><span class='hits'>974</span><code>            name = method[1];</code></li>
<li class='green'><span class=''> </span><code>        } else {</code></li>
<li class='green'><span class='hits'>58388</span><code>            m = name = method;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>59362</span><code>        Object.defineProperty(obj, name, {</code></li>
<li class='green'><span class=''> </span><code>            value:(creator || proxyFunc)(name, base[m], valueOf, base),</code></li>
<li class='green'><span class=''> </span><code>            writable:false,</code></li>
<li class='green'><span class=''> </span><code>            enumerable:false,</code></li>
<li class='green'><span class=''> </span><code>            configurable:true</code></li>
<li class='green'><span class=''> </span><code>        });</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    });</code></li>
<li class='green'><span class='hits'>7851</span><code>    return obj;</code></li>
<li class='green'><span class=''> </span><code>}</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = {</code></li>
<li class='green'><span class=''> </span><code>    proxyFunc:proxyFunc,</code></li>
<li class='green'><span class=''> </span><code>    extend:extend</code></li>
<li class='green'><span class=''> </span><code>};</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="index.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>index.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>110</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>8</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="index.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var base = require("./base"),</code></li>
<li class='green'><span class=''> </span><code>    extension = require("./extensions"),</code></li>
<li class='green'><span class=''> </span><code>    createExtension = extension.createExtension;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @projectName comb</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @github https://github.com/C2FO/comb</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @includeDoc [Getting Started] ../docs-md/introduction.md</code></li>
<li class='green'><span class=''> </span><code> * @includeDoc [OO] ../docs-md/define.md</code></li>
<li class='green'><span class=''> </span><code> * @includeDoc [Promises] ../docs-md/promise.md</code></li>
<li class='green'><span class=''> </span><code> * @includeDoc [Logging] ../docs-md/logging.md</code></li>
<li class='green'><span class=''> </span><code> * @includeDoc [Utilities] ../docs-md/utilities.md</code></li>
<li class='green'><span class=''> </span><code> * @includeDoc [Change Log] ../History.md</code></li>
<li class='green'><span class=''> </span><code> * @includeDoc [Test Coverage] [../docs-md/coverage.html]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @header</code></li>
<li class='green'><span class=''> </span><code> * [![build status](https://secure.travis-ci.org/C2FO/comb.png)](http://travis-ci.org/C2FO/comb)</code></li>
<li class='green'><span class=''> </span><code> * #Comb</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ##Overview</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * Framework for node that provides a one stop shop for frequently needed utilities, including:</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * * [OO utilties](./define.html)</code></li>
<li class='green'><span class=''> </span><code> * * Collections</code></li>
<li class='green'><span class=''> </span><code> * * [Logging](./logging.html)</code></li>
<li class='green'><span class=''> </span><code> * * [String &amp;amp; date formatting](./utilities)</code></li>
<li class='green'><span class=''> </span><code> * * [Flow control](./promise.html)</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ##Installation</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * `npm install comb`</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ###[Getting Started](./introduction.html)</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ##Highlights</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * * 100% test coverage!</code></li>
<li class='green'><span class=''> </span><code> * * comb([define](./comb.html#.define)|[singleton](./comb.html#.singleton))</code></li>
<li class='green'><span class=''> </span><code> *   * The backbone of comb.</code></li>
<li class='green'><span class=''> </span><code> *   * Options for classical inheritance models as well as mixins(pseudo multi-inheritance)</code></li>
<li class='green'><span class=''> </span><code> *   * You can call this._super from any method. Including statically defined ones!</code></li>
<li class='green'><span class=''> </span><code> *   * Access to your class level properties within an instance</code></li>
<li class='green'><span class=''> </span><code> * * Logging</code></li>
<li class='green'><span class=''> </span><code> *   * Logger inheritance through name spaces</code></li>
<li class='green'><span class=''> </span><code> *   * Predefined [level](./comb_logging_Level.html) level definition along with the ability to define your own.</code></li>
<li class='green'><span class=''> </span><code> *   * Multiple appenders including</code></li>
<li class='green'><span class=''> </span><code> *      * [FileAppender](./comb_logging_appenders_FileAppender.html) - log it to a file</code></li>
<li class='green'><span class=''> </span><code> *      * [RollingFileAppender](./comb_logging_appenders_RollingFileAppender.html) - log it to a file up to a customizable size then create a new one.</code></li>
<li class='green'><span class=''> </span><code> *      * [JSONAppender](./comb_logging_appenders_JSONAppender.html) - write it out as JSON to a file.</code></li>
<li class='green'><span class=''> </span><code> *      * [ConsoleAppender](./comb_logging_appenders_ConsoleAppender.html)- log it to the console</code></li>
<li class='green'><span class=''> </span><code> *   * Configurable with [files OR programatically](./comb_logger.html#.configure)</code></li>
<li class='green'><span class=''> </span><code> * * Collections</code></li>
<li class='green'><span class=''> </span><code> *   * [RedBlackTree](./comb_collections_RedBlackTree.html)</code></li>
<li class='green'><span class=''> </span><code> *   * [AVLTree](./comb_collections_AVLTree.html)</code></li>
<li class='green'><span class=''> </span><code> *   * [AnderssonTree](./comb_collections_AnderssonTree.html)</code></li>
<li class='green'><span class=''> </span><code> *   * [BinaryTree](./comb_collections_BinaryTree.html)</code></li>
<li class='green'><span class=''> </span><code> *   * [HashTable](./comb_collections_HashTable.html)</code></li>
<li class='green'><span class=''> </span><code> *   * [MaxHeap](./comb_collections_MaxHeap.html)</code></li>
<li class='green'><span class=''> </span><code> *   * [MinHeap](./comb_collections_MinHeap.html)</code></li>
<li class='green'><span class=''> </span><code> *   * [Pool](./comb_collections_Pool.html)</code></li>
<li class='green'><span class=''> </span><code> *   * [PriorityQueue](./comb_collections_PriorityQueue.html)</code></li>
<li class='green'><span class=''> </span><code> *   * [Queue](./comb_collections_Queue.html)</code></li>
<li class='green'><span class=''> </span><code> *   * [Stack](./comb_collections_Stack.html)</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * * [Flow control](./promise.html)</code></li>
<li class='green'><span class=''> </span><code> *   * [Promises](./comb_Promise.html)</code></li>
<li class='green'><span class=''> </span><code> *   * [PromiseList](./comb_PromiseList.html)</code></li>
<li class='green'><span class=''> </span><code> *   * [comb.when](./comb.html#.when)</code></li>
<li class='green'><span class=''> </span><code> *   * [comb.serial](./comb.html#.serial)</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @footer</code></li>
<li class='green'><span class=''> </span><code> * ##License</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * MIT &lt;https://github.com/C2FO/comb/raw/master/LICENSE&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * ##Meta</code></li>
<li class='green'><span class=''> </span><code> * * Code: `git clone git://github.com/C2FO/comb.git`</code></li>
<li class='green'><span class=''> </span><code> * * Website: &lt;http://c2fo.com&gt;</code></li>
<li class='green'><span class=''> </span><code> * * Twitter: [http://twitter.com/c2fo](http://twitter.com/c2fo) - 877.465.4045</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * Utilities for javascript, optimized for the server environment.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @namespace</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>var comb = createExtension;</code></li>
<li class='green'><span class='hits'>1</span><code>base.merge(comb, base, require("./define"), require("./promise"), require("./async"), require("./plugins"), require("./collections"), require("./logging"));</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>comb.definePlugin = function (obj) {</code></li>
<li class='green'><span class='hits'>1</span><code>    if (comb.isHash(obj)) {</code></li>
<li class='green'><span class='hits'>1</span><code>        comb.deepMerge(comb, obj);</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class='hits'>1</span><code>    return comb;</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>module.exports = comb;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="logging/appenders/appender.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>logging/appenders/appender.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>167</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>30</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="logging/appenders/appender.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../../define.js").define, base = require("../../base"), Level = require("../level");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var APPENDER_TYPES = {};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class Base class for all appenders</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @name Appender</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.logging.appenders</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [options] options to assign to this Appender</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.name="appender"] the name of this Appender. If you want two of the same type of appender</code></li>
<li class='green'><span class=''> </span><code> *                                           on a logger it must have a different name.</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.pattern="[{[yyyy-MM-ddTHH:mm:ss:SSS (z)]timeStamp}] {[- 5]levelName} {[-20]name} - {message}"]</code></li>
<li class='green'><span class=''> </span><code> *  &lt;p&gt;Available Options for formatting see {@link comb.string.format} for formatting options&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *  &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;timeStamp - the timestamp of the event being logged&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;level - the {@link comb.logging.Level} of the event&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;levelName - the name of the level being logged&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;name - the name of the logger logging the event&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;message - the message being logged&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code> * @param {comb.logging.Level|String} [options.level=comb.logging.Level.INFO] the logging level of this appender</code></li>
<li class='green'><span class=''> </span><code> *      &lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; the level can be different from the logger in the case that you want a particular logger</code></li>
<li class='green'><span class=''> </span><code> *      to only log particular event of a level. For example an appender that only logs errors. BEWARE that if the</code></li>
<li class='green'><span class=''> </span><code> *      appenders level is lower than the logger is will not receive any messages.&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @property {String} name the name of this Appender.</code></li>
<li class='green'><span class=''> </span><code> * @property {String} pattern the pattern for this Appender.</code></li>
<li class='green'><span class=''> </span><code> * @property {comb.logging.Level} level the level of this Appender.</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>define(null, {</code></li>
<li class='green'><span class=''> </span><code>    instance:{</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.logging.appenders.Appender.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor:function (options) {</code></li>
<li class='green'><span class='hits'>19</span><code>            options = options || {};</code></li>
<li class='green'><span class='hits'>19</span><code>            this.name = options.name || "appender";</code></li>
<li class='green'><span class='hits'>19</span><code>            this.pattern = options.pattern || "[{[yyyy-MM-ddTHH:mm:ss:SSS (z)]timeStamp}] {[- 5]levelName} {[-20]name} - {message}";</code></li>
<li class='green'><span class='hits'>19</span><code>            var level = options.level;</code></li>
<li class='green'><span class='hits'>19</span><code>            if (options.level &amp;&amp; (level = Level.toLevel(level))) {</code></li>
<li class='green'><span class='hits'>3</span><code>                this.__level = level;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Appends a message to a log.</code></li>
<li class='green'><span class=''> </span><code>         * &lt;b&gt;This method is abstract and must be implemented in subclasses&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} event the logging event to log.</code></li>
<li class='green'><span class=''> </span><code>         * @param {Date} event.timeStamp the timeStamp of the event.</code></li>
<li class='green'><span class=''> </span><code>         * @param {comb.logging.Level} level the level of the event.</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} name the name of the logger the event was emitted from.</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} message the message that is being logged.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        append:function (event) {</code></li>
<li class='green'><span class='hits'>1</span><code>            throw new Error("abstract method");</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        _canAppend:function (event) {</code></li>
<li class='green'><span class='hits'>93</span><code>            return !base.isUndefinedOrNull(this.__level) &amp;&amp; event.level.isGreaterOrEqualToo(this.__level);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>        setters:{</code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            level:function (level) {</code></li>
<li class='green'><span class='hits'>69</span><code>                if (level &amp;&amp; level instanceof Level) {</code></li>
<li class='green'><span class='hits'>62</span><code>                    this.__level = level;</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class=''> </span><code>                    //try to get the level</code></li>
<li class='green'><span class='hits'>7</span><code>                    level = Level.toLevel(level);</code></li>
<li class='green'><span class='hits'>7</span><code>                    if (level) {</code></li>
<li class='green'><span class='hits'>4</span><code>                        this.__level = level;</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            pattern:function (patt) {</code></li>
<li class='green'><span class='hits'>20</span><code>                if (base.isString(patt)) {</code></li>
<li class='green'><span class='hits'>20</span><code>                    this.__pattern = patt;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            name:function (name) {</code></li>
<li class='green'><span class='hits'>25</span><code>                if (base.isString(name)) {</code></li>
<li class='green'><span class='hits'>25</span><code>                    this.__name = name;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code>        getters:{</code></li>
<li class='green'><span class=''> </span><code>            /**@ignore*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            level:function () {</code></li>
<li class='green'><span class='hits'>106</span><code>                return this.__level;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            name:function () {</code></li>
<li class='green'><span class='hits'>90</span><code>                return this.__name;</code></li>
<li class='green'><span class=''> </span><code>            },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>            pattern:function () {</code></li>
<li class='green'><span class='hits'>3</span><code>                return this.__pattern;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    "static":{</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.logging.appenders.Appender*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Register an appender so it can be used with {@link comb.logging.PropertyConfigurator}</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * var Appender = comb.logging.appenders.Appender;</code></li>
<li class='green'><span class=''> </span><code>         * comb.define(Appender, {</code></li>
<li class='green'><span class=''> </span><code>         *      instance : {</code></li>
<li class='green'><span class=''> </span><code>         *          append : function(event){</code></li>
<li class='green'><span class=''> </span><code>         *              //log the message</code></li>
<li class='green'><span class=''> </span><code>         *          }</code></li>
<li class='green'><span class=''> </span><code>         *      }</code></li>
<li class='green'><span class=''> </span><code>         * }).registerType("MyAppender").as(module);</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} type the identifier for your appender type.</code></li>
<li class='green'><span class=''> </span><code>         * @return returns the Appender class for chaining.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        registerType:function (type) {</code></li>
<li class='green'><span class='hits'>5</span><code>            if (base.isString(type)) {</code></li>
<li class='green'><span class='hits'>5</span><code>                APPENDER_TYPES[type.toLowerCase()] = this;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>5</span><code>            return this;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Acts as a factory for appenders.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * var logging = comb.logging,</code></li>
<li class='green'><span class=''> </span><code>         *     Logger = logging.Logger,</code></li>
<li class='green'><span class=''> </span><code>         *     Appender = logging.appenders.Appender;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * var logger = comb.logging.Logger.getLogger("my.logger");</code></li>
<li class='green'><span class=''> </span><code>         * logger.addAppender(Appender.createAppender("consoleAppender"));</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {String} type the type of appender to create.</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object} [options={}] additional options to pass to the appender.</code></li>
<li class='green'><span class=''> </span><code>         * @return {comb.logging.appenders.Appender} an appender to add to a logger.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        createAppender:function (type, options) {</code></li>
<li class='green'><span class='hits'>14</span><code>            var caseType = type.toLowerCase();</code></li>
<li class='green'><span class='hits'>14</span><code>            if (caseType in APPENDER_TYPES) {</code></li>
<li class='green'><span class='hits'>13</span><code>                return new APPENDER_TYPES[caseType](options);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                throw new Error(type + " appender is not registered!");</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>}).as(module);</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="logging/appenders/consoleAppender.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>logging/appenders/consoleAppender.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>37</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>17</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="logging/appenders/consoleAppender.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../../define.js").define, base = require("../../base"), string = base.string, style = string.style, format = string.format, Appender = require("./appender"), Level = require("../level");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class Appends messages to the console.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @name ConsoleAppender</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.logging.appenders.Appender</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.logging.appenders</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>Appender.extend({</code></li>
<li class='green'><span class=''> </span><code>    instance: {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor: function (options) {</code></li>
<li class='green'><span class='hits'>7</span><code>            options = options || {};</code></li>
<li class='green'><span class='hits'>7</span><code>            !options.name &amp;&amp; (options.name = "consoleAppender");</code></li>
<li class='green'><span class='hits'>7</span><code>            this._super(arguments, [options]);</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        append: function (event) {</code></li>
<li class='green'><span class='hits'>6</span><code>            if (this._canAppend(event)) {</code></li>
<li class='green'><span class='hits'>6</span><code>                var message = format(this.__pattern, event);</code></li>
<li class='green'><span class='hits'>6</span><code>                var level = event.level;</code></li>
<li class='green'><span class='hits'>6</span><code>                if (Level.ERROR.equals(level) || Level.FATAL.equals(level)) {</code></li>
<li class='green'><span class='hits'>2</span><code>                    console.log(style(message, "red"));</code></li>
<li class='green'><span class='hits'>4</span><code>                } else if (Level.WARN.equals(level)) {</code></li>
<li class='green'><span class='hits'>1</span><code>                    console.log(style(message, "yellow"));</code></li>
<li class='green'><span class='hits'>3</span><code>                } else if (Level.DEBUG.equals(level)) {</code></li>
<li class='green'><span class='hits'>1</span><code>                    console.log(style(message, "magenta"));</code></li>
<li class='green'><span class='hits'>2</span><code>                } else if (Level.TRACE.equals(level)) {</code></li>
<li class='green'><span class='hits'>1</span><code>                    console.log(style(message, "cyan"));</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>1</span><code>                    console.log(message);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}).registerType("ConsoleAppender").as(module);</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="logging/appenders/fileAppender.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>logging/appenders/fileAppender.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>86</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>22</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="logging/appenders/fileAppender.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../../define.js").define,</code></li>
<li class='green'><span class=''> </span><code>    base = require("../../base"),</code></li>
<li class='green'><span class=''> </span><code>    promise = require("../../promise"),</code></li>
<li class='green'><span class=''> </span><code>    string = base.string,</code></li>
<li class='green'><span class=''> </span><code>    Promise = promise.Promise,</code></li>
<li class='green'><span class=''> </span><code>    PromiseList = promise.PromiseList,</code></li>
<li class='green'><span class=''> </span><code>    style = string.style,</code></li>
<li class='green'><span class=''> </span><code>    format = string.format,</code></li>
<li class='green'><span class=''> </span><code>    Appender = require("./appender"),</code></li>
<li class='green'><span class=''> </span><code>    Level = require("../level"),</code></li>
<li class='green'><span class=''> </span><code>    fs = require("fs");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class Appends messages to a file.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * var fileAppender = new comb.logging.appenders.FileAppender({</code></li>
<li class='green'><span class=''> </span><code> *      file : "/var/log/myLog.log"</code></li>
<li class='green'><span class=''> </span><code> * });</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @name FileAppender</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.logging.appenders.Appender</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.logging.appenders</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [options] options to assign to this Appender</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.name="appender"] the name of this Appender. If you want two of the same type of appender</code></li>
<li class='green'><span class=''> </span><code> *                                           on a logger it must have a different name.</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.pattern="[{[yyyy-MM-ddTHH:mm:ss:SSS (z)]timeStamp}] {[- 5]levelName} {[-20]name} - {message}"]</code></li>
<li class='green'><span class=''> </span><code> *  &lt;p&gt;Available Options for formatting see {@link comb.string.format} for formatting options&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *  &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;timeStamp - the timestamp of the event being logged&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;level - the {@link comb.logging.Level} of the event&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;levelName - the name of the level being logged&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;name - the name of the logger logging the event&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;message - the message being logged&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code> * @param {comb.logging.Level|String} [options.level=comb.logging.Level.INFO] the logging level of this appender</code></li>
<li class='green'><span class=''> </span><code> *      &lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; the level can be different from the logger in the case that you want a particular logger</code></li>
<li class='green'><span class=''> </span><code> *      to only log particular event of a level. For example an appender that only logs errors. BEWARE that if the</code></li>
<li class='green'><span class=''> </span><code> *      appenders level is lower than the logger is will not recieve any messages.&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.file="./log.log"] the file to log events to.</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.encoding="utf8"] the encoding of the file.</code></li>
<li class='green'><span class=''> </span><code> * @param {Boolean} [options.overwrite=false] if true the log file is overwritten otherwise it is appended to.</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>Appender.extend({</code></li>
<li class='green'><span class=''> </span><code>    instance: {</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor: function (options) {</code></li>
<li class='green'><span class='hits'>8</span><code>            options = options || {};</code></li>
<li class='green'><span class='hits'>8</span><code>            !options.name &amp;&amp; (options.name = "fileAppender");</code></li>
<li class='green'><span class='hits'>8</span><code>            this.__file = options.file || "./log.log";</code></li>
<li class='green'><span class='hits'>8</span><code>            this.__encoding = options.encoding || "utf8";</code></li>
<li class='green'><span class='hits'>8</span><code>            this.__overwrite = options.overwrite || false;</code></li>
<li class='green'><span class='hits'>8</span><code>            this.__writeStream = options.writeStream || fs.createWriteStream(this.__file, {</code></li>
<li class='green'><span class=''> </span><code>                flags: this.__overwrite ? "w" : 'a',</code></li>
<li class='green'><span class=''> </span><code>                encoding: this.__encoding</code></li>
<li class='green'><span class=''> </span><code>            });</code></li>
<li class='green'><span class='hits'>8</span><code>            this._super([options]);</code></li>
<li class='green'><span class='hits'>8</span><code>            this.__pattern += "\n";</code></li>
<li class='green'><span class='hits'>8</span><code>            base.listenForExit(base.hitch(this, "__onExit"));</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __onExit: function () {</code></li>
<li class='green'><span class='hits'>14</span><code>            var ret = new Promise();</code></li>
<li class='green'><span class='hits'>14</span><code>            var ws = this.__writeStream;</code></li>
<li class='green'><span class='hits'>14</span><code>            this.__writeStream = null;</code></li>
<li class='green'><span class='hits'>14</span><code>            ws.on("close", base.hitch(ret, "callback"));</code></li>
<li class='green'><span class='hits'>14</span><code>            ws.destroySoon();</code></li>
<li class='green'><span class='hits'>14</span><code>            return ret.promise();</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        append: function (event) {</code></li>
<li class='green'><span class='hits'>15</span><code>            var ws = this.__writeStream;</code></li>
<li class='green'><span class='hits'>15</span><code>            if (this._canAppend(event) &amp;&amp; ws &amp;&amp; ws.writable) {</code></li>
<li class='green'><span class='hits'>15</span><code>                var message = format(this.__pattern, event);</code></li>
<li class='green'><span class='hits'>15</span><code>                var level = event.level;</code></li>
<li class='green'><span class='hits'>15</span><code>                ws.write(message);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}).registerType("FileAppender").as(module);</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="logging/appenders/index.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>logging/appenders/index.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>11</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>5</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="logging/appenders/index.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class=''> </span><code>/**@ignore*/</code></li>
<li class='green'><span class='hits'>1</span><code>exports.Appender = require("./appender");</code></li>
<li class='green'><span class=''> </span><code>/**@ignore*/</code></li>
<li class='green'><span class='hits'>1</span><code>exports.ConsoleAppender = require("./consoleAppender");</code></li>
<li class='green'><span class=''> </span><code>/**@ignore*/</code></li>
<li class='green'><span class='hits'>1</span><code>exports.FileAppender = require("./fileAppender");</code></li>
<li class='green'><span class=''> </span><code>/**@ignore*/</code></li>
<li class='green'><span class='hits'>1</span><code>exports.JSONAppender = require("./jsonAppender");</code></li>
<li class='green'><span class=''> </span><code>/**@ignore*/</code></li>
<li class='green'><span class='hits'>1</span><code>exports.RollingFileAppender = require("./rollingFileAppender");</code></li>
<li class='green'><span class=''> </span><code></code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="logging/appenders/jsonAppender.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>logging/appenders/jsonAppender.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>85</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>19</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="logging/appenders/jsonAppender.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../../define.js").define,</code></li>
<li class='green'><span class=''> </span><code>    base = require("../../base"),</code></li>
<li class='green'><span class=''> </span><code>    string = base.string,</code></li>
<li class='green'><span class=''> </span><code>    escape = base.regexp.escapeString,</code></li>
<li class='green'><span class=''> </span><code>    FileAppender = require("./fileAppender"),</code></li>
<li class='green'><span class=''> </span><code>    format = string.format,</code></li>
<li class='green'><span class=''> </span><code>    Level = require("../level"),</code></li>
<li class='green'><span class=''> </span><code>    fs = require("fs");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class Appends messages to a file in JSON format. The messages are logged to an array in a JSON file</code></li>
<li class='green'><span class=''> </span><code> * &lt;b&gt;The file is always overwritten&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * //example log.json</code></li>
<li class='green'><span class=''> </span><code> * [</code></li>
<li class='green'><span class=''> </span><code> *    {</code></li>
<li class='green'><span class=''> </span><code> *      "timestamp" : "Wed Jun 08 2011 11:16:20 GMT-0500 (CDT)",</code></li>
<li class='green'><span class=''> </span><code> *      "level" : "INFO",</code></li>
<li class='green'><span class=''> </span><code> *      "name" : "comb",</code></li>
<li class='green'><span class=''> </span><code> *      "message" :  "INFO MESSAGE!!!!"</code></li>
<li class='green'><span class=''> </span><code> *    }</code></li>
<li class='green'><span class=''> </span><code> *  ]</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @name JSONAppender</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.logging.appenders.FileAppender</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.logging.appenders</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {Object} [options] options to assign to this Appender</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.name="appender"] the name of this Appender. If you want two of the same type of appender</code></li>
<li class='green'><span class=''> </span><code> *                                           on a logger it must have a different name.</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.pattern="{"timestamp" : "{timeStamp}", "level" : "{levelName}", "name" : "{name}", "message" :  "{message}"}"]</code></li>
<li class='green'><span class=''> </span><code> *  &lt;p&gt;Available Options for formatting see {@link comb.string.format} for formatting options&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *  &lt;ul&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;timeStamp - the timestamp of the event being logged&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;level - the {@link comb.logging.Level} of the event&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;levelName - the name of the level being logged&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;name - the name of the logger logging the event&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> *      &lt;li&gt;message - the message being logged&lt;/li&gt;</code></li>
<li class='green'><span class=''> </span><code> * &lt;/ul&gt;</code></li>
<li class='green'><span class=''> </span><code> * @param {comb.logging.Level|String} [options.level=comb.logging.Level.INFO] the logging level of this appender</code></li>
<li class='green'><span class=''> </span><code> *      &lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; the level can be different from the logger in the case that you want a particular logger</code></li>
<li class='green'><span class=''> </span><code> *      to only log particular event of a level. For example an appender that only logs errors. BEWARE that if the</code></li>
<li class='green'><span class=''> </span><code> *      appenders level is lower than the logger is will not recieve any messages.&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.file="./log.json"] the file to log events to.</code></li>
<li class='green'><span class=''> </span><code> * @param {String} [options.encoding="utf8"] the encoding of the file.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>FileAppender.extend({</code></li>
<li class='green'><span class=''> </span><code>    instance:{</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor:function (options) {</code></li>
<li class='green'><span class='hits'>5</span><code>            options = options || {};</code></li>
<li class='green'><span class='hits'>5</span><code>            this.name = options.name || "JSONAppender";</code></li>
<li class='green'><span class='hits'>5</span><code>            this.__count = 0;</code></li>
<li class='green'><span class='hits'>5</span><code>            this.__file = options.file || "./log.json";</code></li>
<li class='green'><span class='hits'>5</span><code>            this.__encoding = options.encoding || "utf8";</code></li>
<li class='green'><span class='hits'>5</span><code>            this.__writeStream = options.writeStream || fs.createWriteStream(this.__file, { flags:"w", encoding:this.__encoding});</code></li>
<li class='green'><span class='hits'>5</span><code>            this.__writeStream.write("[\n");</code></li>
<li class='green'><span class='hits'>5</span><code>            this.level = options.level;</code></li>
<li class='green'><span class=''> </span><code>            //explicit overwrite of patter</code></li>
<li class='green'><span class='hits'>5</span><code>            this.__pattern = '{"timestamp" : "{timeStamp}", "level" : "{levelName}", "name" : "{name}", "message" :  "{message}"}';</code></li>
<li class='green'><span class='hits'>5</span><code>            base.listenForExit(base.hitch(this, "__onExit"));</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        append:function (event) {</code></li>
<li class='green'><span class='hits'>6</span><code>            if (this._canAppend(event)) {</code></li>
<li class='green'><span class='hits'>6</span><code>                event.message = event.message.replace(/\n+/g, "\\n");</code></li>
<li class='green'><span class='hits'>6</span><code>                var message = (this.__count ? ",\n" : "\n") + format(this.__pattern, event);</code></li>
<li class='green'><span class='hits'>6</span><code>                this.__writeStream.write(message);</code></li>
<li class='green'><span class='hits'>6</span><code>                this.__count++;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        __onExit:function () {</code></li>
<li class='green'><span class='hits'>5</span><code>            this.__writeStream.write("]");</code></li>
<li class='green'><span class='hits'>5</span><code>            this._super(arguments);</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}).registerType("JSONAppender").as(module);</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="logging/config.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>logging/config.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>193</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>38</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="logging/config.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define.js").define, base = require("../base"), fs = require('fs'), Appender = require("./appenders/appender.js");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var logging, Logger, Level, appenders;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var parseProperties = function (properties) {</code></li>
<li class='green'><span class='hits'>4</span><code>    for (var i in properties) {</code></li>
<li class='green'><span class='hits'>4</span><code>        var logger = Logger.getLogger(i);</code></li>
<li class='green'><span class='hits'>4</span><code>        var props = properties[i], level = props.level, appenderArr = props.appenders;</code></li>
<li class='green'><span class='hits'>4</span><code>        if (level) {</code></li>
<li class='green'><span class='hits'>4</span><code>            level = Level.toLevel(level);</code></li>
<li class='green'><span class='hits'>4</span><code>            if (level) {</code></li>
<li class='green'><span class='hits'>4</span><code>                logger.level = level;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class='hits'>4</span><code>        if (appenderArr &amp;&amp; base.isArray(appenderArr)) {</code></li>
<li class='green'><span class='hits'>4</span><code>            for (var j = appenderArr.length - 1; j &gt;= 0; j--) {</code></li>
<li class='green'><span class='hits'>14</span><code>                var appenderProps = base.merge({}, appenderArr[j]), type = appenderProps.type;</code></li>
<li class='green'><span class='hits'>14</span><code>                appenderProps.type = null;</code></li>
<li class='green'><span class='hits'>14</span><code>                if (type) {</code></li>
<li class='green'><span class='hits'>12</span><code>                    logger.addAppender(type, appenderProps);</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class default configurator for logging</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @name BasicConfigurator</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.logging</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>var BasicConfigurator = (exports.BasicConfigurator = define(null, {</code></li>
<li class='green'><span class=''> </span><code>    instance: {</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.logging.BasicConfigurator.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor: function () {</code></li>
<li class='green'><span class='hits'>6</span><code>            if (!Logger) {</code></li>
<li class='green'><span class='hits'>1</span><code>                logging = require("./index").logging;</code></li>
<li class='green'><span class='hits'>1</span><code>                Logger = logging.Logger;</code></li>
<li class='green'><span class='hits'>1</span><code>                Level = logging.Level;</code></li>
<li class='green'><span class='hits'>1</span><code>                appenders = logging.appenders;</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Configure logging.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {comb.logging.Appender} [appender=null] appender to add to the root logger, by default a console logger is added.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        configure: function (appender) {</code></li>
<li class='green'><span class='hits'>4</span><code>            var rootLogger = Logger.getRootLogger();</code></li>
<li class='green'><span class='hits'>4</span><code>            rootLogger.removeAllAppenders();</code></li>
<li class='green'><span class='hits'>4</span><code>            if (base.isInstanceOf(appender, appenders.Appender)) {</code></li>
<li class='green'><span class='hits'>2</span><code>                rootLogger.addAppender(appender);</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>2</span><code>                rootLogger.addAppender(new appenders.ConsoleAppender());</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}));</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class Configures comb.Logger with the properties or properties contained within a file</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var propertyConfigurator = new comb.logging.PropertyConfigurator();</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * propertyConfigurator.configure("/location/of/combLogger.json");</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //or</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * var config = {</code></li>
<li class='green'><span class=''> </span><code> *     "my.logger" : {</code></li>
<li class='green'><span class=''> </span><code> *         level : "INFO",</code></li>
<li class='green'><span class=''> </span><code> *         appenders : [</code></li>
<li class='green'><span class=''> </span><code> *             {</code></li>
<li class='green'><span class=''> </span><code> *                 //default file appender</code></li>
<li class='green'><span class=''> </span><code> *                 type : "FileAppender",</code></li>
<li class='green'><span class=''> </span><code> *                 file : "/var/log/myApp.log",</code></li>
<li class='green'><span class=''> </span><code> *             },</code></li>
<li class='green'><span class=''> </span><code> *             {</code></li>
<li class='green'><span class=''> </span><code> *                 //default JSON appender</code></li>
<li class='green'><span class=''> </span><code> *                 type : "JSONAppender",</code></li>
<li class='green'><span class=''> </span><code> *                 file : "/var/log/myApp.JSON",</code></li>
<li class='green'><span class=''> </span><code> *             },</code></li>
<li class='green'><span class=''> </span><code> *             {</code></li>
<li class='green'><span class=''> </span><code> *                 type : "FileAppender",</code></li>
<li class='green'><span class=''> </span><code> *                  //override default patter</code></li>
<li class='green'><span class=''> </span><code> *                 pattern : "{[EEEE, MMMM dd, yyyy h:m a]timeStamp} {[5]level}"</code></li>
<li class='green'><span class=''> </span><code> *                          + " {[- 5]levelName} {[-20]name} : {message}",</code></li>
<li class='green'><span class=''> </span><code> *                 //location of my log file</code></li>
<li class='green'><span class=''> </span><code> *                 file : "/var/log/myApp-errors.log",</code></li>
<li class='green'><span class=''> </span><code> *                 //override name so it will get added to the log</code></li>
<li class='green'><span class=''> </span><code> *                 name : "errorFileAppender",</code></li>
<li class='green'><span class=''> </span><code> *                 //overwrite each time</code></li>
<li class='green'><span class=''> </span><code> *                 overwrite : true,</code></li>
<li class='green'><span class=''> </span><code> *                 //explicity set the appender to only accept errors</code></li>
<li class='green'><span class=''> </span><code> *                 level : "ERROR"</code></li>
<li class='green'><span class=''> </span><code> *             },</code></li>
<li class='green'><span class=''> </span><code> *             {</code></li>
<li class='green'><span class=''> </span><code> *                 type : "JSONAppender",</code></li>
<li class='green'><span class=''> </span><code> *                 file : "/var/log/myApp-error.json",</code></li>
<li class='green'><span class=''> </span><code> *                 //explicity set the appender to only accept errors</code></li>
<li class='green'><span class=''> </span><code> *                 level : "ERROR"</code></li>
<li class='green'><span class=''> </span><code> *             }</code></li>
<li class='green'><span class=''> </span><code> *         ]</code></li>
<li class='green'><span class=''> </span><code> *     }</code></li>
<li class='green'><span class=''> </span><code> *     //repeat for more loggers</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> *     propertyConfigurator.configure(config);</code></li>
<li class='green'><span class=''> </span><code> * }</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @name PropertyConfigurator</code></li>
<li class='green'><span class=''> </span><code> * @augments comb.logging.BasicConfigurator</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.logging</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>exports.PropertyConfigurator = define(BasicConfigurator, {</code></li>
<li class='green'><span class=''> </span><code>    instance: {</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.logging.PropertyConfigurator.prototype*/</code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Call to configure logging</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * //Example configuration</code></li>
<li class='green'><span class=''> </span><code>         *  {</code></li>
<li class='green'><span class=''> </span><code>         *     "my.logger" : {</code></li>
<li class='green'><span class=''> </span><code>         *         level : "INFO",</code></li>
<li class='green'><span class=''> </span><code>         *         appenders : [</code></li>
<li class='green'><span class=''> </span><code>         *             {</code></li>
<li class='green'><span class=''> </span><code>         *                 //default file appender</code></li>
<li class='green'><span class=''> </span><code>         *                 type : "FileAppender",</code></li>
<li class='green'><span class=''> </span><code>         *                 file : "/var/log/myApp.log",</code></li>
<li class='green'><span class=''> </span><code>         *             },</code></li>
<li class='green'><span class=''> </span><code>         *             {</code></li>
<li class='green'><span class=''> </span><code>         *                 //default JSON appender</code></li>
<li class='green'><span class=''> </span><code>         *                 type : "JSONAppender",</code></li>
<li class='green'><span class=''> </span><code>         *                 file : "/var/log/myApp.JSON",</code></li>
<li class='green'><span class=''> </span><code>         *             },</code></li>
<li class='green'><span class=''> </span><code>         *             {</code></li>
<li class='green'><span class=''> </span><code>         *                 type : "FileAppender",</code></li>
<li class='green'><span class=''> </span><code>         *                  //override default patter</code></li>
<li class='green'><span class=''> </span><code>         *                 pattern : "{[EEEE, MMMM dd, yyyy h:m a]timeStamp} {[5]level}"</code></li>
<li class='green'><span class=''> </span><code>         *                          + " {[- 5]levelName} {[-20]name} : {message}",</code></li>
<li class='green'><span class=''> </span><code>         *                 //location of my log file</code></li>
<li class='green'><span class=''> </span><code>         *                 file : "/var/log/myApp-errors.log",</code></li>
<li class='green'><span class=''> </span><code>         *                 //override name so it will get added to the log</code></li>
<li class='green'><span class=''> </span><code>         *                 name : "errorFileAppender",</code></li>
<li class='green'><span class=''> </span><code>         *                 //overwrite each time</code></li>
<li class='green'><span class=''> </span><code>         *                 overwrite : true,</code></li>
<li class='green'><span class=''> </span><code>         *                 //explicity set the appender to only accept errors</code></li>
<li class='green'><span class=''> </span><code>         *                 level : "ERROR"</code></li>
<li class='green'><span class=''> </span><code>         *             },</code></li>
<li class='green'><span class=''> </span><code>         *             {</code></li>
<li class='green'><span class=''> </span><code>         *                 type : "JSONAppender",</code></li>
<li class='green'><span class=''> </span><code>         *                 file : "/var/log/myApp-error.json",</code></li>
<li class='green'><span class=''> </span><code>         *                 //explicity set the appender to only accept errors</code></li>
<li class='green'><span class=''> </span><code>         *                 level : "ERROR"</code></li>
<li class='green'><span class=''> </span><code>         *             }</code></li>
<li class='green'><span class=''> </span><code>         *         ]</code></li>
<li class='green'><span class=''> </span><code>         *     }</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Object|String} properties Object containing configuration or string containing a file name with the configuration.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        configure: function (properties) {</code></li>
<li class='green'><span class='hits'>6</span><code>            var rootLogger = Logger.getRootLogger();</code></li>
<li class='green'><span class='hits'>6</span><code>            rootLogger.removeAllAppenders();</code></li>
<li class='green'><span class='hits'>6</span><code>            if (base.isHash(properties)) {</code></li>
<li class='green'><span class='hits'>2</span><code>                parseProperties(base.deepMerge({}, properties));</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>4</span><code>                fs.readFile(properties, function (err, res) {</code></li>
<li class='green'><span class='hits'>4</span><code>                    if (err) {</code></li>
<li class='green'><span class='hits'>1</span><code>                        throw err;</code></li>
<li class='green'><span class=''> </span><code>                    } else {</code></li>
<li class='green'><span class='hits'>3</span><code>                        try {</code></li>
<li class='green'><span class='hits'>3</span><code>                            parseProperties(JSON.parse(res));</code></li>
<li class='green'><span class=''> </span><code>                        } catch (e) {</code></li>
<li class='green'><span class='hits'>1</span><code>                            throw e;</code></li>
<li class='green'><span class=''> </span><code>                        }</code></li>
<li class='green'><span class=''> </span><code>                    }</code></li>
<li class='green'><span class=''> </span><code>                });</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>});</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="logging/level.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>logging/level.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>188</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>33</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="logging/level.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var define = require("../define.js").define, base = require("../base");</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var LEVELS = {</code></li>
<li class='green'><span class=''> </span><code>    ALL:-100000,</code></li>
<li class='green'><span class=''> </span><code>    DEBUG:1,</code></li>
<li class='green'><span class=''> </span><code>    TRACE:2,</code></li>
<li class='green'><span class=''> </span><code>    INFO:3,</code></li>
<li class='green'><span class=''> </span><code>    WARN:4,</code></li>
<li class='green'><span class=''> </span><code>    ERROR:5,</code></li>
<li class='green'><span class=''> </span><code>    FATAL:6,</code></li>
<li class='green'><span class=''> </span><code>    OFF:100000</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var LEVELS_REVERSE = {</code></li>
<li class='green'><span class=''> </span><code>    "-100000":"ALL",</code></li>
<li class='green'><span class=''> </span><code>    "1":"DEBUG",</code></li>
<li class='green'><span class=''> </span><code>    "2":"TRACE",</code></li>
<li class='green'><span class=''> </span><code>    "3":"INFO",</code></li>
<li class='green'><span class=''> </span><code>    "4":"WARN",</code></li>
<li class='green'><span class=''> </span><code>    "5":"ERROR",</code></li>
<li class='green'><span class=''> </span><code>    "6":"FATAL",</code></li>
<li class='green'><span class=''> </span><code>    "100000":"OFF"</code></li>
<li class='green'><span class=''> </span><code>};</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>/**</code></li>
<li class='green'><span class=''> </span><code> * @class Level class used to describe logging levels. The levels determine what types of events are logged to the appenders</code></li>
<li class='green'><span class=''> </span><code> *  for example the if Level.ALL is used then all event will be logged, however if Level.INFO was used then &lt;b&gt;ONLY&lt;/b&gt;</code></li>
<li class='green'><span class=''> </span><code> *  INFO, WARN, ERROR, and FATAL events will be logged. To turn off logging for a logger use Level.OFF.</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * &lt;p&gt;&lt;b&gt;Not typically instantiated directly, but through staticly defined levels&lt;/b&gt;&lt;/p&gt;</code></li>
<li class='green'><span class=''> </span><code> * @example</code></li>
<li class='green'><span class=''> </span><code> * //Levels in ascending order</code></li>
<li class='green'><span class=''> </span><code> * comb.logging.Level.ALL</code></li>
<li class='green'><span class=''> </span><code> * comb.logging.Level.DEBUG</code></li>
<li class='green'><span class=''> </span><code> * comb.logging.Level.TRACE</code></li>
<li class='green'><span class=''> </span><code> * comb.logging.Level.INFO</code></li>
<li class='green'><span class=''> </span><code> * comb.logging.Level.WARN</code></li>
<li class='green'><span class=''> </span><code> * comb.logging.Level.ERROR</code></li>
<li class='green'><span class=''> </span><code> * comb.logging.Level.FATAL</code></li>
<li class='green'><span class=''> </span><code> * comb.logging.Level.OFF</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * //or</code></li>
<li class='green'><span class=''> </span><code> * Level.getLevel("INFO");</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @name Level</code></li>
<li class='green'><span class=''> </span><code> * @memberOf comb.logging</code></li>
<li class='green'><span class=''> </span><code> *</code></li>
<li class='green'><span class=''> </span><code> * @property {Number} level the numerical representation of this level.</code></li>
<li class='green'><span class=''> </span><code> * @property {String} name the name of level.</code></li>
<li class='green'><span class=''> </span><code> * @ignoreCode</code></li>
<li class='green'><span class=''> </span><code> */</code></li>
<li class='green'><span class='hits'>1</span><code>var Level = (exports = module.exports = define(null, {</code></li>
<li class='green'><span class=''> </span><code>    instance:{</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.logging.Level.prototype*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        constructor:function (level, name) {</code></li>
<li class='green'><span class='hits'>9</span><code>            this.level = level;</code></li>
<li class='green'><span class='hits'>9</span><code>            this.name = name;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Determing if this level is &gt;= another level</code></li>
<li class='green'><span class=''> </span><code>         * @param {comb.logging.Level} level the level to test against</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns {Boolean} true if this is &gt;= false otherwise.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        isGreaterOrEqualToo:function (level) {</code></li>
<li class='green'><span class='hits'>366</span><code>            var ret = false;</code></li>
<li class='green'><span class='hits'>366</span><code>            if (level &amp;&amp; base.isNumber(level.level)) {</code></li>
<li class='green'><span class='hits'>366</span><code>                if (this.level &gt;= level.level) {</code></li>
<li class='green'><span class='hits'>223</span><code>                    ret = true;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>366</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Determing if this level is equal to another level based off of the numerical rank.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {comb.logging.Level} level the level to compare</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns {Boolean} true if this is equal to that false otherwise.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        equals:function (level) {</code></li>
<li class='green'><span class='hits'>178</span><code>            return level.level == this.level;</code></li>
<li class='green'><span class=''> </span><code>        }</code></li>
<li class='green'><span class=''> </span><code>    },</code></li>
<li class='green'><span class=''> </span><code>    static:{</code></li>
<li class='green'><span class=''> </span><code>        /**@lends comb.logging.Level*/</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Converts a numerical or string representation of a level, if a default level is provided,</code></li>
<li class='green'><span class=''> </span><code>         * then if a level cannot be determined then the default level is used.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {Number|String|comb.logging.Level} level the level to try to convert</code></li>
<li class='green'><span class=''> </span><code>         * @param {comb.logging.Level} [defaultLevel] default level to use if one cannot be determined,</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @returns {comb.logging.Level|null} returns a level if one can be determined null otherwise.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        toLevel:function (level, defaultLevel) {</code></li>
<li class='green'><span class='hits'>229</span><code>            var ret = null;</code></li>
<li class='green'><span class='hits'>229</span><code>            var args = base.argsToArray(arguments);</code></li>
<li class='green'><span class='hits'>229</span><code>            if (args.length === 1) {</code></li>
<li class='green'><span class='hits'>227</span><code>                var level = args[0];</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>227</span><code>                if (base.isNumber(level)) {</code></li>
<li class='green'><span class='hits'>11</span><code>                    var strLevel = LEVELS_REVERSE[level];</code></li>
<li class='green'><span class='hits'>11</span><code>                    ret = Level[strLevel];</code></li>
<li class='green'><span class='hits'>216</span><code>                } else if (base.isString(level)) {</code></li>
<li class='green'><span class='hits'>66</span><code>                    ret = Level[level.toUpperCase()];</code></li>
<li class='green'><span class=''> </span><code>                } else {</code></li>
<li class='green'><span class='hits'>150</span><code>                    ret = level;</code></li>
<li class='green'><span class=''> </span><code>                }</code></li>
<li class='green'><span class=''> </span><code>            } else {</code></li>
<li class='green'><span class='hits'>2</span><code>                ret = (Level.toLevel(args[0]) || args[1]);</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>229</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Adds a new level to the Level object.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @example</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * logger = Logger.getLogger("my.logger");</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * //create the custom level</code></li>
<li class='green'><span class=''> </span><code>         * Level.addLevel("custom_Level", 20);</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * //now set the level on a logger</code></li>
<li class='green'><span class=''> </span><code>         * logger.level = Level.CUSTOM_LEVEL;</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @param {string} label the label of the level, &lt;b&gt;Note:&lt;/b&gt; the label will be coverted to uppercase.</code></li>
<li class='green'><span class=''> </span><code>         * @param {number} level the level of the level</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         * @return {undefined|comb.logging.Level} the level that was created.</code></li>
<li class='green'><span class=''> </span><code>         *</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        addLevel:function (label, level) {</code></li>
<li class='green'><span class='hits'>1</span><code>            var ret;</code></li>
<li class='green'><span class='hits'>1</span><code>            if (base.isString(label) &amp;&amp; base.isNumber(level)) {</code></li>
<li class='green'><span class='hits'>1</span><code>                label = label.toUpperCase();</code></li>
<li class='green'><span class='hits'>1</span><code>                LEVELS_REVERSE[level] = label;</code></li>
<li class='green'><span class='hits'>1</span><code>                LEVELS[label] = level;</code></li>
<li class='green'><span class='hits'>1</span><code>                ret = (this[label] = new Level(level, label));</code></li>
<li class='green'><span class=''> </span><code>            }</code></li>
<li class='green'><span class='hits'>1</span><code>            return ret;</code></li>
<li class='green'><span class=''> </span><code>        },</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Level to allow logging of all events.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        ALL:null,</code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Logs only events debug or greater.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        DEBUG:null,</code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Like debug but provides a finer level of detail</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        TRACE:null,</code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Only info, or error related events</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        INFO:null,</code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Only warn or error related events</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        WARN:null,</code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Error or fatal events</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        ERROR:null,</code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * Only fatal events</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        FATAL:null,</code></li>
<li class='green'><span class=''> </span><code>        /**</code></li>
<li class='green'><span class=''> </span><code>         * No events will be logged.</code></li>
<li class='green'><span class=''> </span><code>         */</code></li>
<li class='green'><span class=''> </span><code>        OFF:null</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>    }</code></li>
<li class='green'><span class=''> </span><code>}));</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>for (var i in LEVELS_REVERSE) {</code></li>
<li class='green'><span class='hits'>8</span><code>    Level[LEVELS_REVERSE[i]] = new Level(parseInt(i, 10), LEVELS_REVERSE[i]);</code></li>
<li class='green'><span class=''> </span><code>}</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="plugins/Broadcaster.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>plugins/Broadcaster.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>113</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>26</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="plugins/Broadcaster.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var func = require("../base/functions"),</code></li>
<li class='green'><span class=''> </span><code>		define = require("../define").define;</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>var Broadcaster = define(null, {</code></li>
<li class='green'><span class=''> </span><code>			instance : {</code></li>
<li class='green'><span class=''> </span><code>				/** @lends comb.plugins.Broadcaster.prototype */</code></li>
<li class='green'><span class=''> </span><code>				/**</code></li>
<li class='green'><span class=''> </span><code>				 * Plugin to allow a class to easily broadcast events</code></li>
<li class='green'><span class=''> </span><code>				 *</code></li>
<li class='green'><span class=''> </span><code>				 * @example</code></li>
<li class='green'><span class=''> </span><code>				 *</code></li>
<li class='green'><span class=''> </span><code>				 * var Mammal = define(comb.plugins.Broadcaster, {</code></li>
<li class='green'><span class=''> </span><code>				 *   instance : {</code></li>
<li class='green'><span class=''> </span><code>				 *</code></li>
<li class='green'><span class=''> </span><code>				 *      constructor: function(options) {</code></li>
<li class='green'><span class=''> </span><code>				 *          options = options || {};</code></li>
<li class='green'><span class=''> </span><code>				 *          this._super(arguments);</code></li>
<li class='green'><span class=''> </span><code>				 *          this._type = options.type || "mammal";</code></li>
<li class='green'><span class=''> </span><code>				 *      },</code></li>
<li class='green'><span class=''> </span><code>				 *</code></li>
<li class='green'><span class=''> </span><code>				 *      speak : function() {</code></li>
<li class='green'><span class=''> </span><code>				 *          var str = "A mammal of type " + this._type + " sounds like";</code></li>
<li class='green'><span class=''> </span><code>				 *          this.broadcast("speak", str);</code></li>
<li class='green'><span class=''> </span><code>				 *          this.onSpeak(str);</code></li>
<li class='green'><span class=''> </span><code>				 *          return str;</code></li>
<li class='green'><span class=''> </span><code>				 *      },</code></li>
<li class='green'><span class=''> </span><code>				 *</code></li>
<li class='green'><span class=''> </span><code>				 *      onSpeak : function(){}</code></li>
<li class='green'><span class=''> </span><code>				 *    }</code></li>
<li class='green'><span class=''> </span><code>				 * });</code></li>
<li class='green'><span class=''> </span><code>				 *</code></li>
<li class='green'><span class=''> </span><code>				 *</code></li>
<li class='green'><span class=''> </span><code>				 * var m = new Mammal({color : "gold"});</code></li>
<li class='green'><span class=''> </span><code>				 * m.listen("speak", function(str){</code></li>
<li class='green'><span class=''> </span><code>				 *      //called back from the broadcast event</code></li>
<li class='green'><span class=''> </span><code>				 *       console.log(str);</code></li>
<li class='green'><span class=''> </span><code>				 * });</code></li>
<li class='green'><span class=''> </span><code>				 * m.speak();</code></li>
<li class='green'><span class=''> </span><code>				 *</code></li>
<li class='green'><span class=''> </span><code>				 * @constructs</code></li>
<li class='green'><span class=''> </span><code>				 */</code></li>
<li class='green'><span class=''> </span><code>				constructor : function() {</code></li>
<li class='green'><span class='hits'>2</span><code>					this.__listeners = {};</code></li>
<li class='green'><span class=''> </span><code>				},</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>				/**</code></li>
<li class='green'><span class=''> </span><code>				 * Broadcasts an event from an object</code></li>
<li class='green'><span class=''> </span><code>				 *</code></li>
<li class='green'><span class=''> </span><code>				 * @param name the name of the event to broadcast</code></li>
<li class='green'><span class=''> </span><code>				 * @param {Object|String|Function|Date|Number} [args]  variable number of arguments to pass to listeners, can be anything</code></li>
<li class='green'><span class=''> </span><code>				 */</code></li>
<li class='green'><span class=''> </span><code>				broadcast : function(topic, args) {</code></li>
<li class='green'><span class='hits'>2</span><code>					var args = Array.prototype.slice.call(arguments, 0), topic = args.shift();</code></li>
<li class='green'><span class='hits'>2</span><code>					if (topic &amp;&amp; topic in this.__listeners) {</code></li>
<li class='green'><span class='hits'>2</span><code>						var list = this.__listeners[topic], i = list.length - 1;</code></li>
<li class='green'><span class='hits'>2</span><code>						while (i &gt;= 0) {</code></li>
<li class='green'><span class='hits'>2</span><code>							list[i--].cb.apply(this, args);</code></li>
<li class='green'><span class=''> </span><code>						}</code></li>
<li class='green'><span class=''> </span><code>					}</code></li>
<li class='green'><span class=''> </span><code>				},</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>				/**</code></li>
<li class='green'><span class=''> </span><code>				 * Listens to a broadcasted event</code></li>
<li class='green'><span class=''> </span><code>				 * Simimlar to {@link comb.listen}</code></li>
<li class='green'><span class=''> </span><code>				 *</code></li>
<li class='green'><span class=''> </span><code>				 * @param {String} topic the topic to listen to</code></li>
<li class='green'><span class=''> </span><code>				 * @param {Function} callback the function to callback on event publish</code></li>
<li class='green'><span class=''> </span><code>				 *</code></li>
<li class='green'><span class=''> </span><code>				 * @returns {Array} handle to disconnect a topic</code></li>
<li class='green'><span class=''> </span><code>				 */</code></li>
<li class='green'><span class=''> </span><code>				listen : function(topic, callback) {</code></li>
<li class='green'><span class='hits'>3</span><code>					if (!func.isFunction(callback)) throw new Error("callback must be a function");</code></li>
<li class='green'><span class='hits'>3</span><code>					var handle = {</code></li>
<li class='green'><span class=''> </span><code>						topic : topic,</code></li>
<li class='green'><span class=''> </span><code>						cb : callback</code></li>
<li class='green'><span class=''> </span><code>					};</code></li>
<li class='green'><span class='hits'>3</span><code>					var list = this.__listeners[topic];</code></li>
<li class='green'><span class='hits'>3</span><code>					if (!list) {</code></li>
<li class='green'><span class='hits'>2</span><code>						list = (this.__listeners[topic] = [handle]);</code></li>
<li class='green'><span class='hits'>2</span><code>						handle.pos = 0;</code></li>
<li class='green'><span class=''> </span><code>					} else {</code></li>
<li class='green'><span class='hits'>1</span><code>						handle.pos = list.push(handle);</code></li>
<li class='green'><span class=''> </span><code>					}</code></li>
<li class='green'><span class='hits'>3</span><code>					return handle;</code></li>
<li class='green'><span class=''> </span><code>				},</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class=''> </span><code>				/**</code></li>
<li class='green'><span class=''> </span><code>				 * Disconnects a listener</code></li>
<li class='green'><span class=''> </span><code>				 * Similar to {@link comb.unListen}</code></li>
<li class='green'><span class=''> </span><code>				 *</code></li>
<li class='green'><span class=''> </span><code>				 * @param  handle disconnect a handle returned from Broadcaster.listen</code></li>
<li class='green'><span class=''> </span><code>				 */</code></li>
<li class='green'><span class=''> </span><code>				unListen : function(handle) {</code></li>
<li class='green'><span class='hits'>1</span><code>					if (handle) {</code></li>
<li class='green'><span class='hits'>1</span><code>						var topic = handle.topic;</code></li>
<li class='green'><span class='hits'>1</span><code>						if (topic in this.__listeners) {</code></li>
<li class='green'><span class='hits'>1</span><code>							var listeners = this.__listeners, list = listeners[topic];</code></li>
<li class='green'><span class='hits'>1</span><code>							if (list) {</code></li>
<li class='green'><span class='hits'>1</span><code>								for (var i = list.length - 1; i &gt;= 0; i--) {</code></li>
<li class='green'><span class='hits'>1</span><code>									if (list[i] == handle) {</code></li>
<li class='green'><span class='hits'>1</span><code>										list.splice(i, 1);</code></li>
<li class='green'><span class='hits'>1</span><code>										break;</code></li>
<li class='green'><span class=''> </span><code>									}</code></li>
<li class='green'><span class=''> </span><code>								}</code></li>
<li class='green'><span class=''> </span><code>							}</code></li>
<li class='green'><span class=''> </span><code>						}</code></li>
<li class='green'><span class=''> </span><code>					}</code></li>
<li class='green'><span class=''> </span><code>				}</code></li>
<li class='green'><span class=''> </span><code>			}</code></li>
<li class='green'><span class=''> </span><code>		});</code></li>
<li class='green'><span class=''> </span><code></code></li>
<li class='green'><span class='hits'>1</span><code>exports = module.exports = Broadcaster;</code></li></ol></pre></div>
</div>

<div class="cov-section cov-section-hover cov-section-high" id="plugins/index.js">
    <table class='section-table'>
        <tr>
            <td>
                <div class='cov-section-header'>plugins/index.js</div>
            </td>
            <td class="cov-stats">
                <div>
                    <span class='cov-label'>Coverage</span><span class='cov-value'>100.00</span>
                    <span class='cov-label'>SLOC</span><span class='cov-value'>6</span>
                    <span class='cov-label'>LOC</span><span class='cov-value'>2</span>
                    <span class='cov-label'>Missed</span><span class='cov-value'>0</span>
                </div>
            </td>
        </tr>
    </table>
    <div class='source' id="plugins/index.js-source"><pre class='prettyprint linenums'><ol class='linenums'><li class='green'><span class='hits'>1</span><code>var comb = exports;</code></li>
<li class='green'><span class=''> </span><code>/**@namespace plugins for classes using {@link comb.define}*/</code></li>
<li class='green'><span class='hits'>1</span><code>comb.plugins = {</code></li>
<li class='green'><span class=''> </span><code>    Broadcaster : require("./Broadcaster"),</code></li>
<li class='green'><span class=''> </span><code>    Middleware : require("./Middleware")</code></li>
<li class='green'><span class=''> </span><code>};</code></li></ol></pre></div>
</div>

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script type="text/javascript">
    $(function () {
        //$(".source").hide();
        $(".cov-section").click(function () {
            var id = this.id;
            $(document.getElementById(id + "-source")).slideToggle();
        });
    });
</script>
</body>
</html>